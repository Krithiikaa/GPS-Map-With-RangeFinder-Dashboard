const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/firebaseConfig.local-CYBHTYhd.js","assets/index.esm-Cbp7Z_4f.js"])))=>i.map(i=>d[i]);
import{L as Eb,a as ot,_ as yg,C as vg,r as Hd,s as Fe,j as m_,c as Ns,b as ol,m as Zd,d as iI,S as sI,e as rI,f as Tc,g as Ib,h as Si,i as g_,D as Mb,q as ml,k as oI,l as aI,n as xg,o as __,p as Lb,t as Gn,u as lI,v as Mf,w as uI,x as cI,y as Ab,z as y_,A as hI,B as Gd,E as dI,F as Cc,G as Rb,H as Ob,I as gl,J as Db,K as fI,M as v_,N as Zn,O as pI,P as x_,Q as mI,R as gI,T as _I,U as yI,V as vI}from"./index.esm-Cbp7Z_4f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function Nb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var km={exports:{}},bu={},Em={exports:{}},Bt={};var D0;function xI(){if(D0)return Bt;D0=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function I(N,X,wt){this.props=N,this.context=X,this.refs=k,this.updater=wt||T}I.prototype.isReactComponent={},I.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},I.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function M(){}M.prototype=I.prototype;function R(N,X,wt){this.props=N,this.context=X,this.refs=k,this.updater=wt||T}var F=R.prototype=new M;F.constructor=R,C(F,I.prototype),F.isPureReactComponent=!0;var j=Array.isArray,B=Object.prototype.hasOwnProperty,G={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function $(N,X,wt){var mt,pt={},lt=null,Zt=null;if(X!=null)for(mt in X.ref!==void 0&&(Zt=X.ref),X.key!==void 0&&(lt=""+X.key),X)B.call(X,mt)&&!Y.hasOwnProperty(mt)&&(pt[mt]=X[mt]);var zt=arguments.length-2;if(zt===1)pt.children=wt;else if(1<zt){for(var ie=Array(zt),Ge=0;Ge<zt;Ge++)ie[Ge]=arguments[Ge+2];pt.children=ie}if(N&&N.defaultProps)for(mt in zt=N.defaultProps,zt)pt[mt]===void 0&&(pt[mt]=zt[mt]);return{$$typeof:n,type:N,key:lt,ref:Zt,props:pt,_owner:G.current}}function rt(N,X){return{$$typeof:n,type:N.type,key:X,ref:N.ref,props:N.props,_owner:N._owner}}function dt(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function ct(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(wt){return X[wt]})}var vt=/\/+/g;function Kt(N,X){return typeof N=="object"&&N!==null&&N.key!=null?ct(""+N.key):X.toString(36)}function Ft(N,X,wt,mt,pt){var lt=typeof N;(lt==="undefined"||lt==="boolean")&&(N=null);var Zt=!1;if(N===null)Zt=!0;else switch(lt){case"string":case"number":Zt=!0;break;case"object":switch(N.$$typeof){case n:case t:Zt=!0}}if(Zt)return Zt=N,pt=pt(Zt),N=mt===""?"."+Kt(Zt,0):mt,j(pt)?(wt="",N!=null&&(wt=N.replace(vt,"$&/")+"/"),Ft(pt,X,wt,"",function(Ge){return Ge})):pt!=null&&(dt(pt)&&(pt=rt(pt,wt+(!pt.key||Zt&&Zt.key===pt.key?"":(""+pt.key).replace(vt,"$&/")+"/")+N)),X.push(pt)),1;if(Zt=0,mt=mt===""?".":mt+":",j(N))for(var zt=0;zt<N.length;zt++){lt=N[zt];var ie=mt+Kt(lt,zt);Zt+=Ft(lt,X,wt,ie,pt)}else if(ie=w(N),typeof ie=="function")for(N=ie.call(N),zt=0;!(lt=N.next()).done;)lt=lt.value,ie=mt+Kt(lt,zt++),Zt+=Ft(lt,X,wt,ie,pt);else if(lt==="object")throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Zt}function Rt(N,X,wt){if(N==null)return N;var mt=[],pt=0;return Ft(N,mt,"","",function(lt){return X.call(wt,lt,pt++)}),mt}function bt(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(wt){(N._status===0||N._status===-1)&&(N._status=1,N._result=wt)},function(wt){(N._status===0||N._status===-1)&&(N._status=2,N._result=wt)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var ft={current:null},K={transition:null},at={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:K,ReactCurrentOwner:G};function q(){throw Error("act(...) is not supported in production builds of React.")}return Bt.Children={map:Rt,forEach:function(N,X,wt){Rt(N,function(){X.apply(this,arguments)},wt)},count:function(N){var X=0;return Rt(N,function(){X++}),X},toArray:function(N){return Rt(N,function(X){return X})||[]},only:function(N){if(!dt(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Bt.Component=I,Bt.Fragment=e,Bt.Profiler=s,Bt.PureComponent=R,Bt.StrictMode=i,Bt.Suspense=d,Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=at,Bt.act=q,Bt.cloneElement=function(N,X,wt){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var mt=C({},N.props),pt=N.key,lt=N.ref,Zt=N._owner;if(X!=null){if(X.ref!==void 0&&(lt=X.ref,Zt=G.current),X.key!==void 0&&(pt=""+X.key),N.type&&N.type.defaultProps)var zt=N.type.defaultProps;for(ie in X)B.call(X,ie)&&!Y.hasOwnProperty(ie)&&(mt[ie]=X[ie]===void 0&&zt!==void 0?zt[ie]:X[ie])}var ie=arguments.length-2;if(ie===1)mt.children=wt;else if(1<ie){zt=Array(ie);for(var Ge=0;Ge<ie;Ge++)zt[Ge]=arguments[Ge+2];mt.children=zt}return{$$typeof:n,type:N.type,key:pt,ref:lt,props:mt,_owner:Zt}},Bt.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:o,_context:N},N.Consumer=N},Bt.createElement=$,Bt.createFactory=function(N){var X=$.bind(null,N);return X.type=N,X},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(N){return{$$typeof:c,render:N}},Bt.isValidElement=dt,Bt.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:bt}},Bt.memo=function(N,X){return{$$typeof:p,type:N,compare:X===void 0?null:X}},Bt.startTransition=function(N){var X=K.transition;K.transition={};try{N()}finally{K.transition=X}},Bt.unstable_act=q,Bt.useCallback=function(N,X){return ft.current.useCallback(N,X)},Bt.useContext=function(N){return ft.current.useContext(N)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(N){return ft.current.useDeferredValue(N)},Bt.useEffect=function(N,X){return ft.current.useEffect(N,X)},Bt.useId=function(){return ft.current.useId()},Bt.useImperativeHandle=function(N,X,wt){return ft.current.useImperativeHandle(N,X,wt)},Bt.useInsertionEffect=function(N,X){return ft.current.useInsertionEffect(N,X)},Bt.useLayoutEffect=function(N,X){return ft.current.useLayoutEffect(N,X)},Bt.useMemo=function(N,X){return ft.current.useMemo(N,X)},Bt.useReducer=function(N,X,wt){return ft.current.useReducer(N,X,wt)},Bt.useRef=function(N){return ft.current.useRef(N)},Bt.useState=function(N){return ft.current.useState(N)},Bt.useSyncExternalStore=function(N,X,wt){return ft.current.useSyncExternalStore(N,X,wt)},Bt.useTransition=function(){return ft.current.useTransition()},Bt.version="18.3.1",Bt}var N0;function w_(){return N0||(N0=1,Em.exports=xI()),Em.exports}var F0;function wI(){if(F0)return bu;F0=1;var n=w_(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var g,y={},w=null,T=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(T=d.ref);for(g in d)i.call(d,g)&&!o.hasOwnProperty(g)&&(y[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:t,type:c,key:w,ref:T,props:y,_owner:s.current}}return bu.Fragment=e,bu.jsx=l,bu.jsxs=l,bu}var z0;function SI(){return z0||(z0=1,km.exports=wI()),km.exports}var J=SI(),Q=w_();const Kd=Nb(Q);var hd={},Im={exports:{}},Pn={},Mm={exports:{}},Lm={};var B0;function bI(){return B0||(B0=1,(function(n){function t(K,at){var q=K.length;K.push(at);t:for(;0<q;){var N=q-1>>>1,X=K[N];if(0<s(X,at))K[N]=at,K[q]=X,q=N;else break t}}function e(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var at=K[0],q=K.pop();if(q!==at){K[0]=q;t:for(var N=0,X=K.length,wt=X>>>1;N<wt;){var mt=2*(N+1)-1,pt=K[mt],lt=mt+1,Zt=K[lt];if(0>s(pt,q))lt<X&&0>s(Zt,pt)?(K[N]=Zt,K[lt]=q,N=lt):(K[N]=pt,K[mt]=q,N=mt);else if(lt<X&&0>s(Zt,q))K[N]=Zt,K[lt]=q,N=lt;else break t}}return at}function s(K,at){var q=K.sortIndex-at.sortIndex;return q!==0?q:K.id-at.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],p=[],g=1,y=null,w=3,T=!1,C=!1,k=!1,I=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(K){for(var at=e(p);at!==null;){if(at.callback===null)i(p);else if(at.startTime<=K)i(p),at.sortIndex=at.expirationTime,t(d,at);else break;at=e(p)}}function j(K){if(k=!1,F(K),!C)if(e(d)!==null)C=!0,bt(B);else{var at=e(p);at!==null&&ft(j,at.startTime-K)}}function B(K,at){C=!1,k&&(k=!1,M($),$=-1),T=!0;var q=w;try{for(F(at),y=e(d);y!==null&&(!(y.expirationTime>at)||K&&!ct());){var N=y.callback;if(typeof N=="function"){y.callback=null,w=y.priorityLevel;var X=N(y.expirationTime<=at);at=n.unstable_now(),typeof X=="function"?y.callback=X:y===e(d)&&i(d),F(at)}else i(d);y=e(d)}if(y!==null)var wt=!0;else{var mt=e(p);mt!==null&&ft(j,mt.startTime-at),wt=!1}return wt}finally{y=null,w=q,T=!1}}var G=!1,Y=null,$=-1,rt=5,dt=-1;function ct(){return!(n.unstable_now()-dt<rt)}function vt(){if(Y!==null){var K=n.unstable_now();dt=K;var at=!0;try{at=Y(!0,K)}finally{at?Kt():(G=!1,Y=null)}}else G=!1}var Kt;if(typeof R=="function")Kt=function(){R(vt)};else if(typeof MessageChannel<"u"){var Ft=new MessageChannel,Rt=Ft.port2;Ft.port1.onmessage=vt,Kt=function(){Rt.postMessage(null)}}else Kt=function(){I(vt,0)};function bt(K){Y=K,G||(G=!0,Kt())}function ft(K,at){$=I(function(){K(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){C||T||(C=!0,bt(B))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rt=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return e(d)},n.unstable_next=function(K){switch(w){case 1:case 2:case 3:var at=3;break;default:at=w}var q=w;w=at;try{return K()}finally{w=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,at){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var q=w;w=K;try{return at()}finally{w=q}},n.unstable_scheduleCallback=function(K,at,q){var N=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?N+q:N):q=N,K){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,K={id:g++,callback:at,priorityLevel:K,startTime:q,expirationTime:X,sortIndex:-1},q>N?(K.sortIndex=q,t(p,K),e(d)===null&&K===e(p)&&(k?(M($),$=-1):k=!0,ft(j,q-N))):(K.sortIndex=X,t(d,K),C||T||(C=!0,bt(B))),K},n.unstable_shouldYield=ct,n.unstable_wrapCallback=function(K){var at=w;return function(){var q=w;w=at;try{return K.apply(this,arguments)}finally{w=q}}}})(Lm)),Lm}var V0;function TI(){return V0||(V0=1,Mm.exports=bI()),Mm.exports}var W0;function CI(){if(W0)return Pn;W0=1;var n=w_(),t=TI();function e(r){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+r,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+r+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function o(r,u){l(r,u),l(r+"Capture",u)}function l(r,u){for(s[r]=u,r=0;r<u.length;r++)i.add(u[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(r){return d.call(y,r)?!0:d.call(g,r)?!1:p.test(r)?y[r]=!0:(g[r]=!0,!1)}function T(r,u,f,_){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return _?!1:f!==null?!f.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,u,f,_){if(u===null||typeof u>"u"||T(r,u,f,_))return!0;if(_)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function k(r,u,f,_,x,S,P){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=_,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=r,this.type=u,this.sanitizeURL=S,this.removeEmptyString=P}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){I[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var u=r[0];I[u]=new k(u,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){I[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){I[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){I[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){I[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){I[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){I[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){I[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function R(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var u=r.replace(M,R);I[u]=new k(u,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var u=r.replace(M,R);I[u]=new k(u,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var u=r.replace(M,R);I[u]=new k(u,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){I[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),I.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){I[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function F(r,u,f,_){var x=I.hasOwnProperty(u)?I[u]:null;(x!==null?x.type!==0:_||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(C(u,f,x,_)&&(f=null),_||x===null?w(u)&&(f===null?r.removeAttribute(u):r.setAttribute(u,""+f)):x.mustUseProperty?r[x.propertyName]=f===null?x.type===3?!1:"":f:(u=x.attributeName,_=x.attributeNamespace,f===null?r.removeAttribute(u):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,_?r.setAttributeNS(_,u,f):r.setAttribute(u,f))))}var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),G=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),dt=Symbol.for("react.provider"),ct=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),Kt=Symbol.for("react.suspense"),Ft=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),ft=Symbol.for("react.offscreen"),K=Symbol.iterator;function at(r){return r===null||typeof r!="object"?null:(r=K&&r[K]||r["@@iterator"],typeof r=="function"?r:null)}var q=Object.assign,N;function X(r){if(N===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);N=u&&u[1]||""}return`
`+N+r}var wt=!1;function mt(r,u){if(!r||wt)return"";wt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Z){var _=Z}Reflect.construct(r,[],u)}else{try{u.call()}catch(Z){_=Z}r.call(u.prototype)}else{try{throw Error()}catch(Z){_=Z}r()}}catch(Z){if(Z&&_&&typeof Z.stack=="string"){for(var x=Z.stack.split(`
`),S=_.stack.split(`
`),P=x.length-1,A=S.length-1;1<=P&&0<=A&&x[P]!==S[A];)A--;for(;1<=P&&0<=A;P--,A--)if(x[P]!==S[A]){if(P!==1||A!==1)do if(P--,A--,0>A||x[P]!==S[A]){var D=`
`+x[P].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=P&&0<=A);break}}}finally{wt=!1,Error.prepareStackTrace=f}return(r=r?r.displayName||r.name:"")?X(r):""}function pt(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=mt(r.type,!1),r;case 11:return r=mt(r.type.render,!1),r;case 1:return r=mt(r.type,!0),r;default:return""}}function lt(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Y:return"Fragment";case G:return"Portal";case rt:return"Profiler";case $:return"StrictMode";case Kt:return"Suspense";case Ft:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ct:return(r.displayName||"Context")+".Consumer";case dt:return(r._context.displayName||"Context")+".Provider";case vt:var u=r.render;return r=r.displayName,r||(r=u.displayName||u.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Rt:return u=r.displayName||null,u!==null?u:lt(r.type)||"Memo";case bt:u=r._payload,r=r._init;try{return lt(r(u))}catch{}}return null}function Zt(r){var u=r.type;switch(r.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=u.render,r=r.displayName||r.name||"",u.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lt(u);case 8:return u===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function zt(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ie(r){var u=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ge(r){var u=ie(r)?"checked":"value",f=Object.getOwnPropertyDescriptor(r.constructor.prototype,u),_=""+r[u];if(!r.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,S=f.set;return Object.defineProperty(r,u,{configurable:!0,get:function(){return x.call(this)},set:function(P){_=""+P,S.call(this,P)}}),Object.defineProperty(r,u,{enumerable:f.enumerable}),{getValue:function(){return _},setValue:function(P){_=""+P},stopTracking:function(){r._valueTracker=null,delete r[u]}}}}function Bs(r){r._valueTracker||(r._valueTracker=Ge(r))}function Vs(r){if(!r)return!1;var u=r._valueTracker;if(!u)return!0;var f=u.getValue(),_="";return r&&(_=ie(r)?r.checked?"true":"false":r.value),r=_,r!==f?(u.setValue(r),!0):!1}function Ws(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function bl(r,u){var f=u.checked;return q({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??r._wrapperState.initialChecked})}function Tl(r,u){var f=u.defaultValue==null?"":u.defaultValue,_=u.checked!=null?u.checked:u.defaultChecked;f=zt(u.value!=null?u.value:f),r._wrapperState={initialChecked:_,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Cl(r,u){u=u.checked,u!=null&&F(r,"checked",u,!1)}function Gr(r,u){Cl(r,u);var f=zt(u.value),_=u.type;if(f!=null)_==="number"?(f===0&&r.value===""||r.value!=f)&&(r.value=""+f):r.value!==""+f&&(r.value=""+f);else if(_==="submit"||_==="reset"){r.removeAttribute("value");return}u.hasOwnProperty("value")?Pl(r,u.type,f):u.hasOwnProperty("defaultValue")&&Pl(r,u.type,zt(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(r.defaultChecked=!!u.defaultChecked)}function Kr(r,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var _=u.type;if(!(_!=="submit"&&_!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+r._wrapperState.initialValue,f||u===r.value||(r.value=u),r.defaultValue=u}f=r.name,f!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,f!==""&&(r.name=f)}function Pl(r,u,f){(u!=="number"||Ws(r.ownerDocument)!==r)&&(f==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+f&&(r.defaultValue=""+f))}var js=Array.isArray;function Mi(r,u,f,_){if(r=r.options,u){u={};for(var x=0;x<f.length;x++)u["$"+f[x]]=!0;for(f=0;f<r.length;f++)x=u.hasOwnProperty("$"+r[f].value),r[f].selected!==x&&(r[f].selected=x),x&&_&&(r[f].defaultSelected=!0)}else{for(f=""+zt(f),u=null,x=0;x<r.length;x++){if(r[x].value===f){r[x].selected=!0,_&&(r[x].defaultSelected=!0);return}u!==null||r[x].disabled||(u=r[x])}u!==null&&(u.selected=!0)}}function Xo(r,u){if(u.dangerouslySetInnerHTML!=null)throw Error(e(91));return q({},u,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function kl(r,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(e(92));if(js(f)){if(1<f.length)throw Error(e(93));f=f[0]}u=f}u==null&&(u=""),f=u}r._wrapperState={initialValue:zt(f)}}function Uc(r,u){var f=zt(u.value),_=zt(u.defaultValue);f!=null&&(f=""+f,f!==r.value&&(r.value=f),u.defaultValue==null&&r.defaultValue!==f&&(r.defaultValue=f)),_!=null&&(r.defaultValue=""+_)}function Hc(r){var u=r.textContent;u===r._wrapperState.initialValue&&u!==""&&u!==null&&(r.value=u)}function Qo(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jo(r,u){return r==null||r==="http://www.w3.org/1999/xhtml"?Qo(u):r==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var $r,Zc=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,_,x){MSApp.execUnsafeLocalFunction(function(){return r(u,f,_,x)})}:r})(function(r,u){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=u;else{for($r=$r||document.createElement("div"),$r.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=$r.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;u.firstChild;)r.appendChild(u.firstChild)}});function Us(r,u){if(u){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=u;return}}r.textContent=u}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ip=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(r){ip.forEach(function(u){u=u+r.charAt(0).toUpperCase()+r.substring(1),Hs[u]=Hs[r]})});function El(r,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||Hs.hasOwnProperty(r)&&Hs[r]?(""+u).trim():u+"px"}function ta(r,u){r=r.style;for(var f in u)if(u.hasOwnProperty(f)){var _=f.indexOf("--")===0,x=El(f,u[f],_);f==="float"&&(f="cssFloat"),_?r.setProperty(f,x):r[f]=x}}var Gc=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(r,u){if(u){if(Gc[r]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(e(137,r));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(e(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(e(61))}if(u.style!=null&&typeof u.style!="object")throw Error(e(62))}}function qi(r,u){if(r.indexOf("-")===-1)return typeof u.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ml=null;function Ll(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ea=null,Xi=null,Qi=null;function Kc(r){if(r=cs(r)){if(typeof ea!="function")throw Error(e(280));var u=r.stateNode;u&&(u=Ea(u),ea(r.stateNode,r.type,u))}}function $c(r){Xi?Qi?Qi.push(r):Qi=[r]:Xi=r}function Yc(){if(Xi){var r=Xi,u=Qi;if(Qi=Xi=null,Kc(r),u)for(r=0;r<u.length;r++)Kc(u[r])}}function qc(r,u){return r(u)}function Xc(){}var Al=!1;function na(r,u,f){if(Al)return r(u,f);Al=!0;try{return qc(r,u,f)}finally{Al=!1,(Xi!==null||Qi!==null)&&(Xc(),Yc())}}function Yr(r,u){var f=r.stateNode;if(f===null)return null;var _=Ea(f);if(_===null)return null;f=_[u];t:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(r=r.type,_=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!_;break t;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(e(231,u,typeof f));return f}var Rl=!1;if(c)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Rl=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Rl=!1}function sp(r,u,f,_,x,S,P,A,D){var Z=Array.prototype.slice.call(arguments,3);try{u.apply(f,Z)}catch(nt){this.onError(nt)}}var Xe=!1,xt=null,Xr=!1,ia=null,Qc={onError:function(r){Xe=!0,xt=r}};function Jc(r,u,f,_,x,S,P,A,D){Xe=!1,xt=null,sp.apply(Qc,arguments)}function Ol(r,u,f,_,x,S,P,A,D){if(Jc.apply(this,arguments),Xe){if(Xe){var Z=xt;Xe=!1,xt=null}else throw Error(e(198));Xr||(Xr=!0,ia=Z)}}function Li(r){var u=r,f=r;if(r.alternate)for(;u.return;)u=u.return;else{r=u;do u=r,(u.flags&4098)!==0&&(f=u.return),r=u.return;while(r)}return u.tag===3?f:null}function Ji(r){if(r.tag===13){var u=r.memoizedState;if(u===null&&(r=r.alternate,r!==null&&(u=r.memoizedState)),u!==null)return u.dehydrated}return null}function Dl(r){if(Li(r)!==r)throw Error(e(188))}function rp(r){var u=r.alternate;if(!u){if(u=Li(r),u===null)throw Error(e(188));return u!==r?null:r}for(var f=r,_=u;;){var x=f.return;if(x===null)break;var S=x.alternate;if(S===null){if(_=x.return,_!==null){f=_;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===f)return Dl(x),r;if(S===_)return Dl(x),u;S=S.sibling}throw Error(e(188))}if(f.return!==_.return)f=x,_=S;else{for(var P=!1,A=x.child;A;){if(A===f){P=!0,f=x,_=S;break}if(A===_){P=!0,_=x,f=S;break}A=A.sibling}if(!P){for(A=S.child;A;){if(A===f){P=!0,f=S,_=x;break}if(A===_){P=!0,_=S,f=x;break}A=A.sibling}if(!P)throw Error(e(189))}}if(f.alternate!==_)throw Error(e(190))}if(f.tag!==3)throw Error(e(188));return f.stateNode.current===f?r:u}function th(r){return r=rp(r),r!==null?eh(r):null}function eh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var u=eh(r);if(u!==null)return u;r=r.sibling}return null}var nh=t.unstable_scheduleCallback,Nl=t.unstable_cancelCallback,op=t.unstable_shouldYield,sa=t.unstable_requestPaint,_e=t.unstable_now,ap=t.unstable_getCurrentPriorityLevel,Fl=t.unstable_ImmediatePriority,ih=t.unstable_UserBlockingPriority,ra=t.unstable_NormalPriority,zl=t.unstable_LowPriority,Zs=t.unstable_IdlePriority,Qr=null,An=null;function Jr(r){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Qr,r,void 0,(r.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Gs,ue=Math.log,oa=Math.LN2;function Gs(r){return r>>>=0,r===0?32:31-(ue(r)/oa|0)|0}var ci=64,Ks=4194304;function At(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function re(r,u){var f=r.pendingLanes;if(f===0)return 0;var _=0,x=r.suspendedLanes,S=r.pingedLanes,P=f&268435455;if(P!==0){var A=P&~x;A!==0?_=At(A):(S&=P,S!==0&&(_=At(S)))}else P=f&~x,P!==0?_=At(P):S!==0&&(_=At(S));if(_===0)return 0;if(u!==0&&u!==_&&(u&x)===0&&(x=_&-_,S=u&-u,x>=S||x===16&&(S&4194240)!==0))return u;if((_&4)!==0&&(_|=f&16),u=r.entangledLanes,u!==0)for(r=r.entanglements,u&=_;0<u;)f=31-Ot(u),x=1<<f,_|=r[f],u&=~x;return _}function Bl(r,u){switch(r){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aa(r,u){for(var f=r.suspendedLanes,_=r.pingedLanes,x=r.expirationTimes,S=r.pendingLanes;0<S;){var P=31-Ot(S),A=1<<P,D=x[P];D===-1?((A&f)===0||(A&_)!==0)&&(x[P]=Bl(A,u)):D<=u&&(r.expiredLanes|=A),S&=~A}}function Qe(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function sh(){var r=ci;return ci<<=1,(ci&4194240)===0&&(ci=64),r}function $s(r){for(var u=[],f=0;31>f;f++)u.push(r);return u}function Rn(r,u,f){r.pendingLanes|=u,u!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,u=31-Ot(u),r[u]=f}function Se(r,u){var f=r.pendingLanes&~u;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=u,r.mutableReadLanes&=u,r.entangledLanes&=u,u=r.entanglements;var _=r.eventTimes;for(r=r.expirationTimes;0<f;){var x=31-Ot(f),S=1<<x;u[x]=0,_[x]=-1,r[x]=-1,f&=~S}}function hi(r,u){var f=r.entangledLanes|=u;for(r=r.entanglements;f;){var _=31-Ot(f),x=1<<_;x&u|r[_]&u&&(r[_]|=u),f&=~x}}var $t=0;function Ys(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var la,ts,ua,ca,to,eo=!1,qs=[],On=null,di=null,Kn=null,no=new Map,Et=new Map,Re=[],ee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vl(r,u){switch(r){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":no.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(u.pointerId)}}function es(r,u,f,_,x,S){return r===null||r.nativeEvent!==S?(r={blockedOn:u,domEventName:f,eventSystemFlags:_,nativeEvent:S,targetContainers:[x]},u!==null&&(u=cs(u),u!==null&&ts(u)),r):(r.eventSystemFlags|=_,u=r.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),r)}function Wl(r,u,f,_,x){switch(u){case"focusin":return On=es(On,r,u,f,_,x),!0;case"dragenter":return di=es(di,r,u,f,_,x),!0;case"mouseover":return Kn=es(Kn,r,u,f,_,x),!0;case"pointerover":var S=x.pointerId;return no.set(S,es(no.get(S)||null,r,u,f,_,x)),!0;case"gotpointercapture":return S=x.pointerId,Et.set(S,es(Et.get(S)||null,r,u,f,_,x)),!0}return!1}function ha(r){var u=us(r.target);if(u!==null){var f=Li(u);if(f!==null){if(u=f.tag,u===13){if(u=Ji(f),u!==null){r.blockedOn=u,to(r.priority,function(){ua(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function $n(r){if(r.blockedOn!==null)return!1;for(var u=r.targetContainers;0<u.length;){var f=pa(r.domEventName,r.eventSystemFlags,u[0],r.nativeEvent);if(f===null){f=r.nativeEvent;var _=new f.constructor(f.type,f);Ml=_,f.target.dispatchEvent(_),Ml=null}else return u=cs(f),u!==null&&ts(u),r.blockedOn=f,!1;u.shift()}return!0}function da(r,u,f){$n(r)&&f.delete(u)}function io(){eo=!1,On!==null&&$n(On)&&(On=null),di!==null&&$n(di)&&(di=null),Kn!==null&&$n(Kn)&&(Kn=null),no.forEach(da),Et.forEach(da)}function ye(r,u){r.blockedOn===u&&(r.blockedOn=null,eo||(eo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,io)))}function Dn(r){function u(x){return ye(x,r)}if(0<qs.length){ye(qs[0],r);for(var f=1;f<qs.length;f++){var _=qs[f];_.blockedOn===r&&(_.blockedOn=null)}}for(On!==null&&ye(On,r),di!==null&&ye(di,r),Kn!==null&&ye(Kn,r),no.forEach(u),Et.forEach(u),f=0;f<Re.length;f++)_=Re[f],_.blockedOn===r&&(_.blockedOn=null);for(;0<Re.length&&(f=Re[0],f.blockedOn===null);)ha(f),f.blockedOn===null&&Re.shift()}var ns=j.ReactCurrentBatchConfig,so=!0;function lp(r,u,f,_){var x=$t,S=ns.transition;ns.transition=null;try{$t=1,ro(r,u,f,_)}finally{$t=x,ns.transition=S}}function rh(r,u,f,_){var x=$t,S=ns.transition;ns.transition=null;try{$t=4,ro(r,u,f,_)}finally{$t=x,ns.transition=S}}function ro(r,u,f,_){if(so){var x=pa(r,u,f,_);if(x===null)a(r,u,_,fa,f),Vl(r,_);else if(Wl(x,r,u,f,_))_.stopPropagation();else if(Vl(r,_),u&4&&-1<ee.indexOf(r)){for(;x!==null;){var S=cs(x);if(S!==null&&la(S),S=pa(r,u,f,_),S===null&&a(r,u,_,fa,f),S===x)break;x=S}x!==null&&_.stopPropagation()}else a(r,u,_,null,f)}}var fa=null;function pa(r,u,f,_){if(fa=null,r=Ll(_),r=us(r),r!==null)if(u=Li(r),u===null)r=null;else if(f=u.tag,f===13){if(r=Ji(u),r!==null)return r;r=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;r=null}else u!==r&&(r=null);return fa=r,null}function Wt(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ap()){case Fl:return 1;case ih:return 4;case ra:case zl:return 16;case Zs:return 536870912;default:return 16}default:return 16}}var Ai=null,dn=null,Ri=null;function jl(){if(Ri)return Ri;var r,u=dn,f=u.length,_,x="value"in Ai?Ai.value:Ai.textContent,S=x.length;for(r=0;r<f&&u[r]===x[r];r++);var P=f-r;for(_=1;_<=P&&u[f-_]===x[S-_];_++);return Ri=x.slice(r,1<_?1-_:void 0)}function ma(r){var u=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&u===13&&(r=13)):r=u,r===10&&(r=13),32<=r||r===13?r:0}function Xs(){return!0}function oh(){return!1}function Je(r){function u(f,_,x,S,P){this._reactName=f,this._targetInst=x,this.type=_,this.nativeEvent=S,this.target=P,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(f=r[A],this[A]=f?f(S):S[A]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Xs:oh,this.isPropagationStopped=oh,this}return q(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),u}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=Je(Qs),is=q({},Qs,{view:0,detail:0}),up=Je(is),vn,Hl,Js,Nn=q({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Js&&(Js&&r.type==="mousemove"?(vn=r.screenX-Js.screenX,Hl=r.screenY-Js.screenY):Hl=vn=0,Js=r),vn)},movementY:function(r){return"movementY"in r?r.movementY:Hl}}),Zl=Je(Nn),ah=q({},Nn,{dataTransfer:0}),Gl=Je(ah),cp=q({},is,{relatedTarget:0}),ga=Je(cp),lh=q({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),hp=Je(lh),dp=q({},Qs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Kl=Je(dp),fp=q({},Qs,{data:0}),$l=Je(fp),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ss={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pp(r){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(r):(r=ss[r])?!!u[r]:!1}function rs(){return pp}var xn=q({},is,{key:function(r){if(r.key){var u=uh[r.key]||r.key;if(u!=="Unidentified")return u}return r.type==="keypress"?(r=ma(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?_a[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(r){return r.type==="keypress"?ma(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ma(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ch=Je(xn),hh=q({},Nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dh=Je(hh),Yl=q({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),ql=Je(Yl),mp=q({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),gp=Je(mp),fh=q({},Nn,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),_p=Je(fh),Fn=[9,13,27,32],Oi=c&&"CompositionEvent"in window,oo=null;c&&"documentMode"in document&&(oo=document.documentMode);var fi=c&&"TextEvent"in window&&!oo,ph=c&&(!Oi||oo&&8<oo&&11>=oo),os=" ",mh=!1;function tr(r,u){switch(r){case"keyup":return Fn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xl(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var pi=!1;function yp(r,u){switch(r){case"compositionend":return Xl(u);case"keypress":return u.which!==32?null:(mh=!0,os);case"textInput":return r=u.data,r===os&&mh?null:r;default:return null}}function Di(r,u){if(pi)return r==="compositionend"||!Oi&&tr(r,u)?(r=jl(),Ri=dn=Ai=null,pi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ph&&u.locale!=="ko"?null:u.data;default:return null}}var ya={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gh(r){var u=r&&r.nodeName&&r.nodeName.toLowerCase();return u==="input"?!!ya[r.type]:u==="textarea"}function va(r,u,f,_){$c(_),u=m(u,"onChange"),0<u.length&&(f=new Ul("onChange","change",null,f,_),r.push({event:f,listeners:u}))}var ao=null,fn=null;function vp(r){ou(r,0)}function mi(r){var u=hs(r);if(Vs(u))return r}function xp(r,u){if(r==="change")return u}var Yn=!1;if(c){var er;if(c){var xa="oninput"in document;if(!xa){var wa=document.createElement("div");wa.setAttribute("oninput","return;"),xa=typeof wa.oninput=="function"}er=xa}else er=!1;Yn=er&&(!document.documentMode||9<document.documentMode)}function lo(){ao&&(ao.detachEvent("onpropertychange",Sa),fn=ao=null)}function Sa(r){if(r.propertyName==="value"&&mi(fn)){var u=[];va(u,fn,r,Ll(r)),na(vp,u)}}function ba(r,u,f){r==="focusin"?(lo(),ao=u,fn=f,ao.attachEvent("onpropertychange",Sa)):r==="focusout"&&lo()}function nr(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return mi(fn)}function Ta(r,u){if(r==="click")return mi(u)}function Ql(r,u){if(r==="input"||r==="change")return mi(u)}function _h(r,u){return r===u&&(r!==0||1/r===1/u)||r!==r&&u!==u}var zn=typeof Object.is=="function"?Object.is:_h;function Ni(r,u){if(zn(r,u))return!0;if(typeof r!="object"||r===null||typeof u!="object"||u===null)return!1;var f=Object.keys(r),_=Object.keys(u);if(f.length!==_.length)return!1;for(_=0;_<f.length;_++){var x=f[_];if(!d.call(u,x)||!zn(r[x],u[x]))return!1}return!0}function yh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Jl(r,u){var f=yh(r);r=0;for(var _;f;){if(f.nodeType===3){if(_=r+f.textContent.length,r<=u&&_>=u)return{node:f,offset:u-r};r=_}t:{for(;f;){if(f.nextSibling){f=f.nextSibling;break t}f=f.parentNode}f=void 0}f=yh(f)}}function vh(r,u){return r&&u?r===u?!0:r&&r.nodeType===3?!1:u&&u.nodeType===3?vh(r,u.parentNode):"contains"in r?r.contains(u):r.compareDocumentPosition?!!(r.compareDocumentPosition(u)&16):!1:!1}function tu(){for(var r=window,u=Ws();u instanceof r.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)r=u.contentWindow;else break;u=Ws(r.document)}return u}function eu(r){var u=r&&r.nodeName&&r.nodeName.toLowerCase();return u&&(u==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||u==="textarea"||r.contentEditable==="true")}function qn(r){var u=tu(),f=r.focusedElem,_=r.selectionRange;if(u!==f&&f&&f.ownerDocument&&vh(f.ownerDocument.documentElement,f)){if(_!==null&&eu(f)){if(u=_.start,r=_.end,r===void 0&&(r=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(r,f.value.length);else if(r=(u=f.ownerDocument||document)&&u.defaultView||window,r.getSelection){r=r.getSelection();var x=f.textContent.length,S=Math.min(_.start,x);_=_.end===void 0?S:Math.min(_.end,x),!r.extend&&S>_&&(x=_,_=S,S=x),x=Jl(f,S);var P=Jl(f,_);x&&P&&(r.rangeCount!==1||r.anchorNode!==x.node||r.anchorOffset!==x.offset||r.focusNode!==P.node||r.focusOffset!==P.offset)&&(u=u.createRange(),u.setStart(x.node,x.offset),r.removeAllRanges(),S>_?(r.addRange(u),r.extend(P.node,P.offset)):(u.setEnd(P.node,P.offset),r.addRange(u)))}}for(u=[],r=f;r=r.parentNode;)r.nodeType===1&&u.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)r=u[f],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Ca=c&&"documentMode"in document&&11>=document.documentMode,ir=null,sr=null,uo=null,Pa=!1;function xh(r,u,f){var _=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Pa||ir==null||ir!==Ws(_)||(_=ir,"selectionStart"in _&&eu(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),uo&&Ni(uo,_)||(uo=_,_=m(sr,"onSelect"),0<_.length&&(u=new Ul("onSelect","select",null,u,f),r.push({event:u,listeners:_}),u.target=ir)))}function Fi(r,u){var f={};return f[r.toLowerCase()]=u.toLowerCase(),f["Webkit"+r]="webkit"+u,f["Moz"+r]="moz"+u,f}var rr={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionend:Fi("Transition","TransitionEnd")},zi={},nu={};c&&(nu=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function co(r){if(zi[r])return zi[r];if(!rr[r])return r;var u=rr[r],f;for(f in u)if(u.hasOwnProperty(f)&&f in nu)return zi[r]=u[f];return r}var wh=co("animationend"),Xn=co("animationiteration"),iu=co("animationstart"),su=co("transitionend"),or=new Map,Sh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(r,u){or.set(r,u),o(u,[r])}for(var as=0;as<Sh.length;as++){var ka=Sh[as],bh=ka.toLowerCase(),wp=ka[0].toUpperCase()+ka.slice(1);Bn(bh,"on"+wp)}Bn(wh,"onAnimationEnd"),Bn(Xn,"onAnimationIteration"),Bn(iu,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(su,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Th=new Set("cancel close invalid load scroll toggle".split(" ").concat(ar));function ru(r,u,f){var _=r.type||"unknown-event";r.currentTarget=f,Ol(_,u,void 0,r),r.currentTarget=null}function ou(r,u){u=(u&4)!==0;for(var f=0;f<r.length;f++){var _=r[f],x=_.event;_=_.listeners;t:{var S=void 0;if(u)for(var P=_.length-1;0<=P;P--){var A=_[P],D=A.instance,Z=A.currentTarget;if(A=A.listener,D!==S&&x.isPropagationStopped())break t;ru(x,A,Z),S=D}else for(P=0;P<_.length;P++){if(A=_[P],D=A.instance,Z=A.currentTarget,A=A.listener,D!==S&&x.isPropagationStopped())break t;ru(x,A,Z),S=D}}}if(Xr)throw r=ia,Xr=!1,ia=null,r}function ne(r,u){var f=u[hr];f===void 0&&(f=u[hr]=new Set);var _=r+"__bubble";f.has(_)||(Ch(u,r,2,!1),f.add(_))}function au(r,u,f){var _=0;u&&(_|=4),Ch(f,r,_,u)}var ho="_reactListening"+Math.random().toString(36).slice(2);function lr(r){if(!r[ho]){r[ho]=!0,i.forEach(function(f){f!=="selectionchange"&&(Th.has(f)||au(f,!1,r),au(f,!0,r))});var u=r.nodeType===9?r:r.ownerDocument;u===null||u[ho]||(u[ho]=!0,au("selectionchange",!1,u))}}function Ch(r,u,f,_){switch(Wt(u)){case 1:var x=lp;break;case 4:x=rh;break;default:x=ro}f=x.bind(null,u,f,r),x=void 0,!Rl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),_?x!==void 0?r.addEventListener(u,f,{capture:!0,passive:x}):r.addEventListener(u,f,!0):x!==void 0?r.addEventListener(u,f,{passive:x}):r.addEventListener(u,f,!1)}function a(r,u,f,_,x){var S=_;if((u&1)===0&&(u&2)===0&&_!==null)t:for(;;){if(_===null)return;var P=_.tag;if(P===3||P===4){var A=_.stateNode.containerInfo;if(A===x||A.nodeType===8&&A.parentNode===x)break;if(P===4)for(P=_.return;P!==null;){var D=P.tag;if((D===3||D===4)&&(D=P.stateNode.containerInfo,D===x||D.nodeType===8&&D.parentNode===x))return;P=P.return}for(;A!==null;){if(P=us(A),P===null)return;if(D=P.tag,D===5||D===6){_=S=P;continue t}A=A.parentNode}}_=_.return}na(function(){var Z=S,nt=Ll(f),it=[];t:{var et=or.get(r);if(et!==void 0){var ht=Ul,_t=r;switch(r){case"keypress":if(ma(f)===0)break t;case"keydown":case"keyup":ht=ch;break;case"focusin":_t="focus",ht=ga;break;case"focusout":_t="blur",ht=ga;break;case"beforeblur":case"afterblur":ht=ga;break;case"click":if(f.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Gl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=ql;break;case wh:case Xn:case iu:ht=hp;break;case su:ht=gp;break;case"scroll":ht=up;break;case"wheel":ht=_p;break;case"copy":case"cut":case"paste":ht=Kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=dh}var yt=(u&4)!==0,ke=!yt&&r==="scroll",W=yt?et!==null?et+"Capture":null:et;yt=[];for(var z=Z,U;z!==null;){U=z;var st=U.stateNode;if(U.tag===5&&st!==null&&(U=st,W!==null&&(st=Yr(z,W),st!=null&&yt.push(h(z,st,U)))),ke)break;z=z.return}0<yt.length&&(et=new ht(et,_t,null,f,nt),it.push({event:et,listeners:yt}))}}if((u&7)===0){t:{if(et=r==="mouseover"||r==="pointerover",ht=r==="mouseout"||r==="pointerout",et&&f!==Ml&&(_t=f.relatedTarget||f.fromElement)&&(us(_t)||_t[Jt]))break t;if((ht||et)&&(et=nt.window===nt?nt:(et=nt.ownerDocument)?et.defaultView||et.parentWindow:window,ht?(_t=f.relatedTarget||f.toElement,ht=Z,_t=_t?us(_t):null,_t!==null&&(ke=Li(_t),_t!==ke||_t.tag!==5&&_t.tag!==6)&&(_t=null)):(ht=null,_t=Z),ht!==_t)){if(yt=Zl,st="onMouseLeave",W="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(yt=dh,st="onPointerLeave",W="onPointerEnter",z="pointer"),ke=ht==null?et:hs(ht),U=_t==null?et:hs(_t),et=new yt(st,z+"leave",ht,f,nt),et.target=ke,et.relatedTarget=U,st=null,us(nt)===Z&&(yt=new yt(W,z+"enter",_t,f,nt),yt.target=U,yt.relatedTarget=ke,st=yt),ke=st,ht&&_t)e:{for(yt=ht,W=_t,z=0,U=yt;U;U=v(U))z++;for(U=0,st=W;st;st=v(st))U++;for(;0<z-U;)yt=v(yt),z--;for(;0<U-z;)W=v(W),U--;for(;z--;){if(yt===W||W!==null&&yt===W.alternate)break e;yt=v(yt),W=v(W)}yt=null}else yt=null;ht!==null&&b(it,et,ht,yt,!1),_t!==null&&ke!==null&&b(it,ke,_t,yt,!0)}}t:{if(et=Z?hs(Z):window,ht=et.nodeName&&et.nodeName.toLowerCase(),ht==="select"||ht==="input"&&et.type==="file")var St=xp;else if(gh(et))if(Yn)St=Ql;else{St=nr;var Ct=ba}else(ht=et.nodeName)&&ht.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(St=Ta);if(St&&(St=St(r,Z))){va(it,St,f,nt);break t}Ct&&Ct(r,et,Z),r==="focusout"&&(Ct=et._wrapperState)&&Ct.controlled&&et.type==="number"&&Pl(et,"number",et.value)}switch(Ct=Z?hs(Z):window,r){case"focusin":(gh(Ct)||Ct.contentEditable==="true")&&(ir=Ct,sr=Z,uo=null);break;case"focusout":uo=sr=ir=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,xh(it,f,nt);break;case"selectionchange":if(Ca)break;case"keydown":case"keyup":xh(it,f,nt)}var Pt;if(Oi)t:{switch(r){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else pi?tr(r,f)&&(Mt="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(Mt="onCompositionStart");Mt&&(ph&&f.locale!=="ko"&&(pi||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&pi&&(Pt=jl()):(Ai=nt,dn="value"in Ai?Ai.value:Ai.textContent,pi=!0)),Ct=m(Z,Mt),0<Ct.length&&(Mt=new $l(Mt,r,null,f,nt),it.push({event:Mt,listeners:Ct}),Pt?Mt.data=Pt:(Pt=Xl(f),Pt!==null&&(Mt.data=Pt)))),(Pt=fi?yp(r,f):Di(r,f))&&(Z=m(Z,"onBeforeInput"),0<Z.length&&(nt=new $l("onBeforeInput","beforeinput",null,f,nt),it.push({event:nt,listeners:Z}),nt.data=Pt))}ou(it,u)})}function h(r,u,f){return{instance:r,listener:u,currentTarget:f}}function m(r,u){for(var f=u+"Capture",_=[];r!==null;){var x=r,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=Yr(r,f),S!=null&&_.unshift(h(r,S,x)),S=Yr(r,u),S!=null&&_.push(h(r,S,x))),r=r.return}return _}function v(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function b(r,u,f,_,x){for(var S=u._reactName,P=[];f!==null&&f!==_;){var A=f,D=A.alternate,Z=A.stateNode;if(D!==null&&D===_)break;A.tag===5&&Z!==null&&(A=Z,x?(D=Yr(f,S),D!=null&&P.unshift(h(f,D,A))):x||(D=Yr(f,S),D!=null&&P.push(h(f,D,A)))),f=f.return}P.length!==0&&r.push({event:u,listeners:P})}var E=/\r\n?/g,O=/\u0000|\uFFFD/g;function V(r){return(typeof r=="string"?r:""+r).replace(E,`
`).replace(O,"")}function H(r,u,f){if(u=V(u),V(r)!==u&&f)throw Error(e(425))}function tt(){}var ut=null,Tt=null;function Nt(r,u){return r==="textarea"||r==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Oe=typeof setTimeout=="function"?setTimeout:void 0,Me=typeof clearTimeout=="function"?clearTimeout:void 0,pn=typeof Promise=="function"?Promise:void 0,tn=typeof queueMicrotask=="function"?queueMicrotask:typeof pn<"u"?function(r){return pn.resolve(null).then(r).catch(ur)}:Oe;function ur(r){setTimeout(function(){throw r})}function lu(r,u){var f=u,_=0;do{var x=f.nextSibling;if(r.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(_===0){r.removeChild(x),Dn(u);return}_--}else f!=="$"&&f!=="$?"&&f!=="$!"||_++;f=x}while(f);Dn(u)}function Bi(r){for(;r!=null;r=r.nextSibling){var u=r.nodeType;if(u===1||u===3)break;if(u===8){if(u=r.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return r}function Ph(r){r=r.previousSibling;for(var u=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return r;u--}else f==="/$"&&u++}r=r.previousSibling}return null}var ls=Math.random().toString(36).slice(2),Qn="__reactFiber$"+ls,cr="__reactProps$"+ls,Jt="__reactContainer$"+ls,hr="__reactEvents$"+ls,Sp="__reactListeners$"+ls,bp="__reactHandles$"+ls;function us(r){var u=r[Qn];if(u)return u;for(var f=r.parentNode;f;){if(u=f[Jt]||f[Qn]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(r=Ph(r);r!==null;){if(f=r[Qn])return f;r=Ph(r)}return u}r=f,f=r.parentNode}return null}function cs(r){return r=r[Qn]||r[Jt],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function hs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(e(33))}function Ea(r){return r[cr]||null}var Tp=[],Ia=-1;function dr(r){return{current:r}}function ce(r){0>Ia||(r.current=Tp[Ia],Tp[Ia]=null,Ia--)}function oe(r,u){Ia++,Tp[Ia]=r.current,r.current=u}var fr={},en=dr(fr),wn=dr(!1),fo=fr;function Ma(r,u){var f=r.type.contextTypes;if(!f)return fr;var _=r.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===u)return _.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in f)x[S]=u[S];return _&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=u,r.__reactInternalMemoizedMaskedChildContext=x),x}function Sn(r){return r=r.childContextTypes,r!=null}function kh(){ce(wn),ce(en)}function iv(r,u,f){if(en.current!==fr)throw Error(e(168));oe(en,u),oe(wn,f)}function sv(r,u,f){var _=r.stateNode;if(u=u.childContextTypes,typeof _.getChildContext!="function")return f;_=_.getChildContext();for(var x in _)if(!(x in u))throw Error(e(108,Zt(r)||"Unknown",x));return q({},f,_)}function Eh(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||fr,fo=en.current,oe(en,r),oe(wn,wn.current),!0}function rv(r,u,f){var _=r.stateNode;if(!_)throw Error(e(169));f?(r=sv(r,u,fo),_.__reactInternalMemoizedMergedChildContext=r,ce(wn),ce(en),oe(en,r)):ce(wn),oe(wn,f)}var ds=null,Ih=!1,Cp=!1;function ov(r){ds===null?ds=[r]:ds.push(r)}function SE(r){Ih=!0,ov(r)}function pr(){if(!Cp&&ds!==null){Cp=!0;var r=0,u=$t;try{var f=ds;for($t=1;r<f.length;r++){var _=f[r];do _=_(!0);while(_!==null)}ds=null,Ih=!1}catch(x){throw ds!==null&&(ds=ds.slice(r+1)),nh(Fl,pr),x}finally{$t=u,Cp=!1}}return null}var La=[],Aa=0,Mh=null,Lh=0,Jn=[],ti=0,po=null,fs=1,ps="";function mo(r,u){La[Aa++]=Lh,La[Aa++]=Mh,Mh=r,Lh=u}function av(r,u,f){Jn[ti++]=fs,Jn[ti++]=ps,Jn[ti++]=po,po=r;var _=fs;r=ps;var x=32-Ot(_)-1;_&=~(1<<x),f+=1;var S=32-Ot(u)+x;if(30<S){var P=x-x%5;S=(_&(1<<P)-1).toString(32),_>>=P,x-=P,fs=1<<32-Ot(u)+x|f<<x|_,ps=S+r}else fs=1<<S|f<<x|_,ps=r}function Pp(r){r.return!==null&&(mo(r,1),av(r,1,0))}function kp(r){for(;r===Mh;)Mh=La[--Aa],La[Aa]=null,Lh=La[--Aa],La[Aa]=null;for(;r===po;)po=Jn[--ti],Jn[ti]=null,ps=Jn[--ti],Jn[ti]=null,fs=Jn[--ti],Jn[ti]=null}var Vn=null,Wn=null,pe=!1,gi=null;function lv(r,u){var f=si(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=r,u=r.deletions,u===null?(r.deletions=[f],r.flags|=16):u.push(f)}function uv(r,u){switch(r.tag){case 5:var f=r.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(r.stateNode=u,Vn=r,Wn=Bi(u.firstChild),!0):!1;case 6:return u=r.pendingProps===""||u.nodeType!==3?null:u,u!==null?(r.stateNode=u,Vn=r,Wn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=po!==null?{id:fs,overflow:ps}:null,r.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=si(18,null,null,0),f.stateNode=u,f.return=r,r.child=f,Vn=r,Wn=null,!0):!1;default:return!1}}function Ep(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ip(r){if(pe){var u=Wn;if(u){var f=u;if(!uv(r,u)){if(Ep(r))throw Error(e(418));u=Bi(f.nextSibling);var _=Vn;u&&uv(r,u)?lv(_,f):(r.flags=r.flags&-4097|2,pe=!1,Vn=r)}}else{if(Ep(r))throw Error(e(418));r.flags=r.flags&-4097|2,pe=!1,Vn=r}}}function cv(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Vn=r}function Ah(r){if(r!==Vn)return!1;if(!pe)return cv(r),pe=!0,!1;var u;if((u=r.tag!==3)&&!(u=r.tag!==5)&&(u=r.type,u=u!=="head"&&u!=="body"&&!Nt(r.type,r.memoizedProps)),u&&(u=Wn)){if(Ep(r))throw hv(),Error(e(418));for(;u;)lv(r,u),u=Bi(u.nextSibling)}if(cv(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(e(317));t:{for(r=r.nextSibling,u=0;r;){if(r.nodeType===8){var f=r.data;if(f==="/$"){if(u===0){Wn=Bi(r.nextSibling);break t}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}r=r.nextSibling}Wn=null}}else Wn=Vn?Bi(r.stateNode.nextSibling):null;return!0}function hv(){for(var r=Wn;r;)r=Bi(r.nextSibling)}function Ra(){Wn=Vn=null,pe=!1}function Mp(r){gi===null?gi=[r]:gi.push(r)}var bE=j.ReactCurrentBatchConfig;function uu(r,u,f){if(r=f.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(e(309));var _=f.stateNode}if(!_)throw Error(e(147,r));var x=_,S=""+r;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===S?u.ref:(u=function(P){var A=x.refs;P===null?delete A[S]:A[S]=P},u._stringRef=S,u)}if(typeof r!="string")throw Error(e(284));if(!f._owner)throw Error(e(290,r))}return r}function Rh(r,u){throw r=Object.prototype.toString.call(u),Error(e(31,r==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":r))}function dv(r){var u=r._init;return u(r._payload)}function fv(r){function u(W,z){if(r){var U=W.deletions;U===null?(W.deletions=[z],W.flags|=16):U.push(z)}}function f(W,z){if(!r)return null;for(;z!==null;)u(W,z),z=z.sibling;return null}function _(W,z){for(W=new Map;z!==null;)z.key!==null?W.set(z.key,z):W.set(z.index,z),z=z.sibling;return W}function x(W,z){return W=Sr(W,z),W.index=0,W.sibling=null,W}function S(W,z,U){return W.index=U,r?(U=W.alternate,U!==null?(U=U.index,U<z?(W.flags|=2,z):U):(W.flags|=2,z)):(W.flags|=1048576,z)}function P(W){return r&&W.alternate===null&&(W.flags|=2),W}function A(W,z,U,st){return z===null||z.tag!==6?(z=wm(U,W.mode,st),z.return=W,z):(z=x(z,U),z.return=W,z)}function D(W,z,U,st){var St=U.type;return St===Y?nt(W,z,U.props.children,st,U.key):z!==null&&(z.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===bt&&dv(St)===z.type)?(st=x(z,U.props),st.ref=uu(W,z,U),st.return=W,st):(st=id(U.type,U.key,U.props,null,W.mode,st),st.ref=uu(W,z,U),st.return=W,st)}function Z(W,z,U,st){return z===null||z.tag!==4||z.stateNode.containerInfo!==U.containerInfo||z.stateNode.implementation!==U.implementation?(z=Sm(U,W.mode,st),z.return=W,z):(z=x(z,U.children||[]),z.return=W,z)}function nt(W,z,U,st,St){return z===null||z.tag!==7?(z=bo(U,W.mode,st,St),z.return=W,z):(z=x(z,U),z.return=W,z)}function it(W,z,U){if(typeof z=="string"&&z!==""||typeof z=="number")return z=wm(""+z,W.mode,U),z.return=W,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case B:return U=id(z.type,z.key,z.props,null,W.mode,U),U.ref=uu(W,null,z),U.return=W,U;case G:return z=Sm(z,W.mode,U),z.return=W,z;case bt:var st=z._init;return it(W,st(z._payload),U)}if(js(z)||at(z))return z=bo(z,W.mode,U,null),z.return=W,z;Rh(W,z)}return null}function et(W,z,U,st){var St=z!==null?z.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return St!==null?null:A(W,z,""+U,st);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case B:return U.key===St?D(W,z,U,st):null;case G:return U.key===St?Z(W,z,U,st):null;case bt:return St=U._init,et(W,z,St(U._payload),st)}if(js(U)||at(U))return St!==null?null:nt(W,z,U,st,null);Rh(W,U)}return null}function ht(W,z,U,st,St){if(typeof st=="string"&&st!==""||typeof st=="number")return W=W.get(U)||null,A(z,W,""+st,St);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case B:return W=W.get(st.key===null?U:st.key)||null,D(z,W,st,St);case G:return W=W.get(st.key===null?U:st.key)||null,Z(z,W,st,St);case bt:var Ct=st._init;return ht(W,z,U,Ct(st._payload),St)}if(js(st)||at(st))return W=W.get(U)||null,nt(z,W,st,St,null);Rh(z,st)}return null}function _t(W,z,U,st){for(var St=null,Ct=null,Pt=z,Mt=z=0,je=null;Pt!==null&&Mt<U.length;Mt++){Pt.index>Mt?(je=Pt,Pt=null):je=Pt.sibling;var qt=et(W,Pt,U[Mt],st);if(qt===null){Pt===null&&(Pt=je);break}r&&Pt&&qt.alternate===null&&u(W,Pt),z=S(qt,z,Mt),Ct===null?St=qt:Ct.sibling=qt,Ct=qt,Pt=je}if(Mt===U.length)return f(W,Pt),pe&&mo(W,Mt),St;if(Pt===null){for(;Mt<U.length;Mt++)Pt=it(W,U[Mt],st),Pt!==null&&(z=S(Pt,z,Mt),Ct===null?St=Pt:Ct.sibling=Pt,Ct=Pt);return pe&&mo(W,Mt),St}for(Pt=_(W,Pt);Mt<U.length;Mt++)je=ht(Pt,W,Mt,U[Mt],st),je!==null&&(r&&je.alternate!==null&&Pt.delete(je.key===null?Mt:je.key),z=S(je,z,Mt),Ct===null?St=je:Ct.sibling=je,Ct=je);return r&&Pt.forEach(function(br){return u(W,br)}),pe&&mo(W,Mt),St}function yt(W,z,U,st){var St=at(U);if(typeof St!="function")throw Error(e(150));if(U=St.call(U),U==null)throw Error(e(151));for(var Ct=St=null,Pt=z,Mt=z=0,je=null,qt=U.next();Pt!==null&&!qt.done;Mt++,qt=U.next()){Pt.index>Mt?(je=Pt,Pt=null):je=Pt.sibling;var br=et(W,Pt,qt.value,st);if(br===null){Pt===null&&(Pt=je);break}r&&Pt&&br.alternate===null&&u(W,Pt),z=S(br,z,Mt),Ct===null?St=br:Ct.sibling=br,Ct=br,Pt=je}if(qt.done)return f(W,Pt),pe&&mo(W,Mt),St;if(Pt===null){for(;!qt.done;Mt++,qt=U.next())qt=it(W,qt.value,st),qt!==null&&(z=S(qt,z,Mt),Ct===null?St=qt:Ct.sibling=qt,Ct=qt);return pe&&mo(W,Mt),St}for(Pt=_(W,Pt);!qt.done;Mt++,qt=U.next())qt=ht(Pt,W,Mt,qt.value,st),qt!==null&&(r&&qt.alternate!==null&&Pt.delete(qt.key===null?Mt:qt.key),z=S(qt,z,Mt),Ct===null?St=qt:Ct.sibling=qt,Ct=qt);return r&&Pt.forEach(function(nI){return u(W,nI)}),pe&&mo(W,Mt),St}function ke(W,z,U,st){if(typeof U=="object"&&U!==null&&U.type===Y&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case B:t:{for(var St=U.key,Ct=z;Ct!==null;){if(Ct.key===St){if(St=U.type,St===Y){if(Ct.tag===7){f(W,Ct.sibling),z=x(Ct,U.props.children),z.return=W,W=z;break t}}else if(Ct.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===bt&&dv(St)===Ct.type){f(W,Ct.sibling),z=x(Ct,U.props),z.ref=uu(W,Ct,U),z.return=W,W=z;break t}f(W,Ct);break}else u(W,Ct);Ct=Ct.sibling}U.type===Y?(z=bo(U.props.children,W.mode,st,U.key),z.return=W,W=z):(st=id(U.type,U.key,U.props,null,W.mode,st),st.ref=uu(W,z,U),st.return=W,W=st)}return P(W);case G:t:{for(Ct=U.key;z!==null;){if(z.key===Ct)if(z.tag===4&&z.stateNode.containerInfo===U.containerInfo&&z.stateNode.implementation===U.implementation){f(W,z.sibling),z=x(z,U.children||[]),z.return=W,W=z;break t}else{f(W,z);break}else u(W,z);z=z.sibling}z=Sm(U,W.mode,st),z.return=W,W=z}return P(W);case bt:return Ct=U._init,ke(W,z,Ct(U._payload),st)}if(js(U))return _t(W,z,U,st);if(at(U))return yt(W,z,U,st);Rh(W,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,z!==null&&z.tag===6?(f(W,z.sibling),z=x(z,U),z.return=W,W=z):(f(W,z),z=wm(U,W.mode,st),z.return=W,W=z),P(W)):f(W,z)}return ke}var Oa=fv(!0),pv=fv(!1),Oh=dr(null),Dh=null,Da=null,Lp=null;function Ap(){Lp=Da=Dh=null}function Rp(r){var u=Oh.current;ce(Oh),r._currentValue=u}function Op(r,u,f){for(;r!==null;){var _=r.alternate;if((r.childLanes&u)!==u?(r.childLanes|=u,_!==null&&(_.childLanes|=u)):_!==null&&(_.childLanes&u)!==u&&(_.childLanes|=u),r===f)break;r=r.return}}function Na(r,u){Dh=r,Lp=Da=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&u)!==0&&(bn=!0),r.firstContext=null)}function ei(r){var u=r._currentValue;if(Lp!==r)if(r={context:r,memoizedValue:u,next:null},Da===null){if(Dh===null)throw Error(e(308));Da=r,Dh.dependencies={lanes:0,firstContext:r}}else Da=Da.next=r;return u}var go=null;function Dp(r){go===null?go=[r]:go.push(r)}function mv(r,u,f,_){var x=u.interleaved;return x===null?(f.next=f,Dp(u)):(f.next=x.next,x.next=f),u.interleaved=f,ms(r,_)}function ms(r,u){r.lanes|=u;var f=r.alternate;for(f!==null&&(f.lanes|=u),f=r,r=r.return;r!==null;)r.childLanes|=u,f=r.alternate,f!==null&&(f.childLanes|=u),f=r,r=r.return;return f.tag===3?f.stateNode:null}var mr=!1;function Np(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gv(r,u){r=r.updateQueue,u.updateQueue===r&&(u.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function gs(r,u){return{eventTime:r,lane:u,tag:0,payload:null,callback:null,next:null}}function gr(r,u,f){var _=r.updateQueue;if(_===null)return null;if(_=_.shared,(Yt&2)!==0){var x=_.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),_.pending=u,ms(r,f)}return x=_.interleaved,x===null?(u.next=u,Dp(_)):(u.next=x.next,x.next=u),_.interleaved=u,ms(r,f)}function Nh(r,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var _=u.lanes;_&=r.pendingLanes,f|=_,u.lanes=f,hi(r,f)}}function _v(r,u){var f=r.updateQueue,_=r.alternate;if(_!==null&&(_=_.updateQueue,f===_)){var x=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var P={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?x=S=P:S=S.next=P,f=f.next}while(f!==null);S===null?x=S=u:S=S.next=u}else x=S=u;f={baseState:_.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:_.shared,effects:_.effects},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=u:r.next=u,f.lastBaseUpdate=u}function Fh(r,u,f,_){var x=r.updateQueue;mr=!1;var S=x.firstBaseUpdate,P=x.lastBaseUpdate,A=x.shared.pending;if(A!==null){x.shared.pending=null;var D=A,Z=D.next;D.next=null,P===null?S=Z:P.next=Z,P=D;var nt=r.alternate;nt!==null&&(nt=nt.updateQueue,A=nt.lastBaseUpdate,A!==P&&(A===null?nt.firstBaseUpdate=Z:A.next=Z,nt.lastBaseUpdate=D))}if(S!==null){var it=x.baseState;P=0,nt=Z=D=null,A=S;do{var et=A.lane,ht=A.eventTime;if((_&et)===et){nt!==null&&(nt=nt.next={eventTime:ht,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});t:{var _t=r,yt=A;switch(et=u,ht=f,yt.tag){case 1:if(_t=yt.payload,typeof _t=="function"){it=_t.call(ht,it,et);break t}it=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=yt.payload,et=typeof _t=="function"?_t.call(ht,it,et):_t,et==null)break t;it=q({},it,et);break t;case 2:mr=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,et=x.effects,et===null?x.effects=[A]:et.push(A))}else ht={eventTime:ht,lane:et,tag:A.tag,payload:A.payload,callback:A.callback,next:null},nt===null?(Z=nt=ht,D=it):nt=nt.next=ht,P|=et;if(A=A.next,A===null){if(A=x.shared.pending,A===null)break;et=A,A=et.next,et.next=null,x.lastBaseUpdate=et,x.shared.pending=null}}while(!0);if(nt===null&&(D=it),x.baseState=D,x.firstBaseUpdate=Z,x.lastBaseUpdate=nt,u=x.shared.interleaved,u!==null){x=u;do P|=x.lane,x=x.next;while(x!==u)}else S===null&&(x.shared.lanes=0);vo|=P,r.lanes=P,r.memoizedState=it}}function yv(r,u,f){if(r=u.effects,u.effects=null,r!==null)for(u=0;u<r.length;u++){var _=r[u],x=_.callback;if(x!==null){if(_.callback=null,_=f,typeof x!="function")throw Error(e(191,x));x.call(_)}}}var cu={},Vi=dr(cu),hu=dr(cu),du=dr(cu);function _o(r){if(r===cu)throw Error(e(174));return r}function Fp(r,u){switch(oe(du,u),oe(hu,r),oe(Vi,cu),r=u.nodeType,r){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Jo(null,"");break;default:r=r===8?u.parentNode:u,u=r.namespaceURI||null,r=r.tagName,u=Jo(u,r)}ce(Vi),oe(Vi,u)}function Fa(){ce(Vi),ce(hu),ce(du)}function vv(r){_o(du.current);var u=_o(Vi.current),f=Jo(u,r.type);u!==f&&(oe(hu,r),oe(Vi,f))}function zp(r){hu.current===r&&(ce(Vi),ce(hu))}var ve=dr(0);function zh(r){for(var u=r;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Bp=[];function Vp(){for(var r=0;r<Bp.length;r++)Bp[r]._workInProgressVersionPrimary=null;Bp.length=0}var Bh=j.ReactCurrentDispatcher,Wp=j.ReactCurrentBatchConfig,yo=0,xe=null,De=null,Ve=null,Vh=!1,fu=!1,pu=0,TE=0;function nn(){throw Error(e(321))}function jp(r,u){if(u===null)return!1;for(var f=0;f<u.length&&f<r.length;f++)if(!zn(r[f],u[f]))return!1;return!0}function Up(r,u,f,_,x,S){if(yo=S,xe=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Bh.current=r===null||r.memoizedState===null?EE:IE,r=f(_,x),fu){S=0;do{if(fu=!1,pu=0,25<=S)throw Error(e(301));S+=1,Ve=De=null,u.updateQueue=null,Bh.current=ME,r=f(_,x)}while(fu)}if(Bh.current=Uh,u=De!==null&&De.next!==null,yo=0,Ve=De=xe=null,Vh=!1,u)throw Error(e(300));return r}function Hp(){var r=pu!==0;return pu=0,r}function Wi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?xe.memoizedState=Ve=r:Ve=Ve.next=r,Ve}function ni(){if(De===null){var r=xe.alternate;r=r!==null?r.memoizedState:null}else r=De.next;var u=Ve===null?xe.memoizedState:Ve.next;if(u!==null)Ve=u,De=r;else{if(r===null)throw Error(e(310));De=r,r={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ve===null?xe.memoizedState=Ve=r:Ve=Ve.next=r}return Ve}function mu(r,u){return typeof u=="function"?u(r):u}function Zp(r){var u=ni(),f=u.queue;if(f===null)throw Error(e(311));f.lastRenderedReducer=r;var _=De,x=_.baseQueue,S=f.pending;if(S!==null){if(x!==null){var P=x.next;x.next=S.next,S.next=P}_.baseQueue=x=S,f.pending=null}if(x!==null){S=x.next,_=_.baseState;var A=P=null,D=null,Z=S;do{var nt=Z.lane;if((yo&nt)===nt)D!==null&&(D=D.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),_=Z.hasEagerState?Z.eagerState:r(_,Z.action);else{var it={lane:nt,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};D===null?(A=D=it,P=_):D=D.next=it,xe.lanes|=nt,vo|=nt}Z=Z.next}while(Z!==null&&Z!==S);D===null?P=_:D.next=A,zn(_,u.memoizedState)||(bn=!0),u.memoizedState=_,u.baseState=P,u.baseQueue=D,f.lastRenderedState=_}if(r=f.interleaved,r!==null){x=r;do S=x.lane,xe.lanes|=S,vo|=S,x=x.next;while(x!==r)}else x===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function Gp(r){var u=ni(),f=u.queue;if(f===null)throw Error(e(311));f.lastRenderedReducer=r;var _=f.dispatch,x=f.pending,S=u.memoizedState;if(x!==null){f.pending=null;var P=x=x.next;do S=r(S,P.action),P=P.next;while(P!==x);zn(S,u.memoizedState)||(bn=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),f.lastRenderedState=S}return[S,_]}function xv(){}function wv(r,u){var f=xe,_=ni(),x=u(),S=!zn(_.memoizedState,x);if(S&&(_.memoizedState=x,bn=!0),_=_.queue,Kp(Tv.bind(null,f,_,r),[r]),_.getSnapshot!==u||S||Ve!==null&&Ve.memoizedState.tag&1){if(f.flags|=2048,gu(9,bv.bind(null,f,_,x,u),void 0,null),We===null)throw Error(e(349));(yo&30)!==0||Sv(f,u,x)}return x}function Sv(r,u,f){r.flags|=16384,r={getSnapshot:u,value:f},u=xe.updateQueue,u===null?(u={lastEffect:null,stores:null},xe.updateQueue=u,u.stores=[r]):(f=u.stores,f===null?u.stores=[r]:f.push(r))}function bv(r,u,f,_){u.value=f,u.getSnapshot=_,Cv(u)&&Pv(r)}function Tv(r,u,f){return f(function(){Cv(u)&&Pv(r)})}function Cv(r){var u=r.getSnapshot;r=r.value;try{var f=u();return!zn(r,f)}catch{return!0}}function Pv(r){var u=ms(r,1);u!==null&&xi(u,r,1,-1)}function kv(r){var u=Wi();return typeof r=="function"&&(r=r()),u.memoizedState=u.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:r},u.queue=r,r=r.dispatch=kE.bind(null,xe,r),[u.memoizedState,r]}function gu(r,u,f,_){return r={tag:r,create:u,destroy:f,deps:_,next:null},u=xe.updateQueue,u===null?(u={lastEffect:null,stores:null},xe.updateQueue=u,u.lastEffect=r.next=r):(f=u.lastEffect,f===null?u.lastEffect=r.next=r:(_=f.next,f.next=r,r.next=_,u.lastEffect=r)),r}function Ev(){return ni().memoizedState}function Wh(r,u,f,_){var x=Wi();xe.flags|=r,x.memoizedState=gu(1|u,f,void 0,_===void 0?null:_)}function jh(r,u,f,_){var x=ni();_=_===void 0?null:_;var S=void 0;if(De!==null){var P=De.memoizedState;if(S=P.destroy,_!==null&&jp(_,P.deps)){x.memoizedState=gu(u,f,S,_);return}}xe.flags|=r,x.memoizedState=gu(1|u,f,S,_)}function Iv(r,u){return Wh(8390656,8,r,u)}function Kp(r,u){return jh(2048,8,r,u)}function Mv(r,u){return jh(4,2,r,u)}function Lv(r,u){return jh(4,4,r,u)}function Av(r,u){if(typeof u=="function")return r=r(),u(r),function(){u(null)};if(u!=null)return r=r(),u.current=r,function(){u.current=null}}function Rv(r,u,f){return f=f!=null?f.concat([r]):null,jh(4,4,Av.bind(null,u,r),f)}function $p(){}function Ov(r,u){var f=ni();u=u===void 0?null:u;var _=f.memoizedState;return _!==null&&u!==null&&jp(u,_[1])?_[0]:(f.memoizedState=[r,u],r)}function Dv(r,u){var f=ni();u=u===void 0?null:u;var _=f.memoizedState;return _!==null&&u!==null&&jp(u,_[1])?_[0]:(r=r(),f.memoizedState=[r,u],r)}function Nv(r,u,f){return(yo&21)===0?(r.baseState&&(r.baseState=!1,bn=!0),r.memoizedState=f):(zn(f,u)||(f=sh(),xe.lanes|=f,vo|=f,r.baseState=!0),u)}function CE(r,u){var f=$t;$t=f!==0&&4>f?f:4,r(!0);var _=Wp.transition;Wp.transition={};try{r(!1),u()}finally{$t=f,Wp.transition=_}}function Fv(){return ni().memoizedState}function PE(r,u,f){var _=xr(r);if(f={lane:_,action:f,hasEagerState:!1,eagerState:null,next:null},zv(r))Bv(u,f);else if(f=mv(r,u,f,_),f!==null){var x=gn();xi(f,r,_,x),Vv(f,u,_)}}function kE(r,u,f){var _=xr(r),x={lane:_,action:f,hasEagerState:!1,eagerState:null,next:null};if(zv(r))Bv(u,x);else{var S=r.alternate;if(r.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var P=u.lastRenderedState,A=S(P,f);if(x.hasEagerState=!0,x.eagerState=A,zn(A,P)){var D=u.interleaved;D===null?(x.next=x,Dp(u)):(x.next=D.next,D.next=x),u.interleaved=x;return}}catch{}finally{}f=mv(r,u,x,_),f!==null&&(x=gn(),xi(f,r,_,x),Vv(f,u,_))}}function zv(r){var u=r.alternate;return r===xe||u!==null&&u===xe}function Bv(r,u){fu=Vh=!0;var f=r.pending;f===null?u.next=u:(u.next=f.next,f.next=u),r.pending=u}function Vv(r,u,f){if((f&4194240)!==0){var _=u.lanes;_&=r.pendingLanes,f|=_,u.lanes=f,hi(r,f)}}var Uh={readContext:ei,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},EE={readContext:ei,useCallback:function(r,u){return Wi().memoizedState=[r,u===void 0?null:u],r},useContext:ei,useEffect:Iv,useImperativeHandle:function(r,u,f){return f=f!=null?f.concat([r]):null,Wh(4194308,4,Av.bind(null,u,r),f)},useLayoutEffect:function(r,u){return Wh(4194308,4,r,u)},useInsertionEffect:function(r,u){return Wh(4,2,r,u)},useMemo:function(r,u){var f=Wi();return u=u===void 0?null:u,r=r(),f.memoizedState=[r,u],r},useReducer:function(r,u,f){var _=Wi();return u=f!==void 0?f(u):u,_.memoizedState=_.baseState=u,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:u},_.queue=r,r=r.dispatch=PE.bind(null,xe,r),[_.memoizedState,r]},useRef:function(r){var u=Wi();return r={current:r},u.memoizedState=r},useState:kv,useDebugValue:$p,useDeferredValue:function(r){return Wi().memoizedState=r},useTransition:function(){var r=kv(!1),u=r[0];return r=CE.bind(null,r[1]),Wi().memoizedState=r,[u,r]},useMutableSource:function(){},useSyncExternalStore:function(r,u,f){var _=xe,x=Wi();if(pe){if(f===void 0)throw Error(e(407));f=f()}else{if(f=u(),We===null)throw Error(e(349));(yo&30)!==0||Sv(_,u,f)}x.memoizedState=f;var S={value:f,getSnapshot:u};return x.queue=S,Iv(Tv.bind(null,_,S,r),[r]),_.flags|=2048,gu(9,bv.bind(null,_,S,f,u),void 0,null),f},useId:function(){var r=Wi(),u=We.identifierPrefix;if(pe){var f=ps,_=fs;f=(_&~(1<<32-Ot(_)-1)).toString(32)+f,u=":"+u+"R"+f,f=pu++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=TE++,u=":"+u+"r"+f.toString(32)+":";return r.memoizedState=u},unstable_isNewReconciler:!1},IE={readContext:ei,useCallback:Ov,useContext:ei,useEffect:Kp,useImperativeHandle:Rv,useInsertionEffect:Mv,useLayoutEffect:Lv,useMemo:Dv,useReducer:Zp,useRef:Ev,useState:function(){return Zp(mu)},useDebugValue:$p,useDeferredValue:function(r){var u=ni();return Nv(u,De.memoizedState,r)},useTransition:function(){var r=Zp(mu)[0],u=ni().memoizedState;return[r,u]},useMutableSource:xv,useSyncExternalStore:wv,useId:Fv,unstable_isNewReconciler:!1},ME={readContext:ei,useCallback:Ov,useContext:ei,useEffect:Kp,useImperativeHandle:Rv,useInsertionEffect:Mv,useLayoutEffect:Lv,useMemo:Dv,useReducer:Gp,useRef:Ev,useState:function(){return Gp(mu)},useDebugValue:$p,useDeferredValue:function(r){var u=ni();return De===null?u.memoizedState=r:Nv(u,De.memoizedState,r)},useTransition:function(){var r=Gp(mu)[0],u=ni().memoizedState;return[r,u]},useMutableSource:xv,useSyncExternalStore:wv,useId:Fv,unstable_isNewReconciler:!1};function _i(r,u){if(r&&r.defaultProps){u=q({},u),r=r.defaultProps;for(var f in r)u[f]===void 0&&(u[f]=r[f]);return u}return u}function Yp(r,u,f,_){u=r.memoizedState,f=f(_,u),f=f==null?u:q({},u,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var Hh={isMounted:function(r){return(r=r._reactInternals)?Li(r)===r:!1},enqueueSetState:function(r,u,f){r=r._reactInternals;var _=gn(),x=xr(r),S=gs(_,x);S.payload=u,f!=null&&(S.callback=f),u=gr(r,S,x),u!==null&&(xi(u,r,x,_),Nh(u,r,x))},enqueueReplaceState:function(r,u,f){r=r._reactInternals;var _=gn(),x=xr(r),S=gs(_,x);S.tag=1,S.payload=u,f!=null&&(S.callback=f),u=gr(r,S,x),u!==null&&(xi(u,r,x,_),Nh(u,r,x))},enqueueForceUpdate:function(r,u){r=r._reactInternals;var f=gn(),_=xr(r),x=gs(f,_);x.tag=2,u!=null&&(x.callback=u),u=gr(r,x,_),u!==null&&(xi(u,r,_,f),Nh(u,r,_))}};function Wv(r,u,f,_,x,S,P){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(_,S,P):u.prototype&&u.prototype.isPureReactComponent?!Ni(f,_)||!Ni(x,S):!0}function jv(r,u,f){var _=!1,x=fr,S=u.contextType;return typeof S=="object"&&S!==null?S=ei(S):(x=Sn(u)?fo:en.current,_=u.contextTypes,S=(_=_!=null)?Ma(r,x):fr),u=new u(f,S),r.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Hh,r.stateNode=u,u._reactInternals=r,_&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=x,r.__reactInternalMemoizedMaskedChildContext=S),u}function Uv(r,u,f,_){r=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,_),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,_),u.state!==r&&Hh.enqueueReplaceState(u,u.state,null)}function qp(r,u,f,_){var x=r.stateNode;x.props=f,x.state=r.memoizedState,x.refs={},Np(r);var S=u.contextType;typeof S=="object"&&S!==null?x.context=ei(S):(S=Sn(u)?fo:en.current,x.context=Ma(r,S)),x.state=r.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(Yp(r,u,S,f),x.state=r.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(u=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),u!==x.state&&Hh.enqueueReplaceState(x,x.state,null),Fh(r,f,x,_),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308)}function za(r,u){try{var f="",_=u;do f+=pt(_),_=_.return;while(_);var x=f}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:r,source:u,stack:x,digest:null}}function Xp(r,u,f){return{value:r,source:null,stack:f??null,digest:u??null}}function Qp(r,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var LE=typeof WeakMap=="function"?WeakMap:Map;function Hv(r,u,f){f=gs(-1,f),f.tag=3,f.payload={element:null};var _=u.value;return f.callback=function(){Xh||(Xh=!0,fm=_),Qp(r,u)},f}function Zv(r,u,f){f=gs(-1,f),f.tag=3;var _=r.type.getDerivedStateFromError;if(typeof _=="function"){var x=u.value;f.payload=function(){return _(x)},f.callback=function(){Qp(r,u)}}var S=r.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){Qp(r,u),typeof _!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var P=u.stack;this.componentDidCatch(u.value,{componentStack:P!==null?P:""})}),f}function Gv(r,u,f){var _=r.pingCache;if(_===null){_=r.pingCache=new LE;var x=new Set;_.set(u,x)}else x=_.get(u),x===void 0&&(x=new Set,_.set(u,x));x.has(f)||(x.add(f),r=ZE.bind(null,r,u,f),u.then(r,r))}function Kv(r){do{var u;if((u=r.tag===13)&&(u=r.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return r;r=r.return}while(r!==null);return null}function $v(r,u,f,_,x){return(r.mode&1)===0?(r===u?r.flags|=65536:(r.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=gs(-1,1),u.tag=2,gr(f,u,1))),f.lanes|=1),r):(r.flags|=65536,r.lanes=x,r)}var AE=j.ReactCurrentOwner,bn=!1;function mn(r,u,f,_){u.child=r===null?pv(u,null,f,_):Oa(u,r.child,f,_)}function Yv(r,u,f,_,x){f=f.render;var S=u.ref;return Na(u,x),_=Up(r,u,f,_,S,x),f=Hp(),r!==null&&!bn?(u.updateQueue=r.updateQueue,u.flags&=-2053,r.lanes&=~x,_s(r,u,x)):(pe&&f&&Pp(u),u.flags|=1,mn(r,u,_,x),u.child)}function qv(r,u,f,_,x){if(r===null){var S=f.type;return typeof S=="function"&&!xm(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=S,Xv(r,u,S,_,x)):(r=id(f.type,null,_,u,u.mode,x),r.ref=u.ref,r.return=u,u.child=r)}if(S=r.child,(r.lanes&x)===0){var P=S.memoizedProps;if(f=f.compare,f=f!==null?f:Ni,f(P,_)&&r.ref===u.ref)return _s(r,u,x)}return u.flags|=1,r=Sr(S,_),r.ref=u.ref,r.return=u,u.child=r}function Xv(r,u,f,_,x){if(r!==null){var S=r.memoizedProps;if(Ni(S,_)&&r.ref===u.ref)if(bn=!1,u.pendingProps=_=S,(r.lanes&x)!==0)(r.flags&131072)!==0&&(bn=!0);else return u.lanes=r.lanes,_s(r,u,x)}return Jp(r,u,f,_,x)}function Qv(r,u,f){var _=u.pendingProps,x=_.children,S=r!==null?r.memoizedState:null;if(_.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Va,jn),jn|=f;else{if((f&1073741824)===0)return r=S!==null?S.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:r,cachePool:null,transitions:null},u.updateQueue=null,oe(Va,jn),jn|=r,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=S!==null?S.baseLanes:f,oe(Va,jn),jn|=_}else S!==null?(_=S.baseLanes|f,u.memoizedState=null):_=f,oe(Va,jn),jn|=_;return mn(r,u,x,f),u.child}function Jv(r,u){var f=u.ref;(r===null&&f!==null||r!==null&&r.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function Jp(r,u,f,_,x){var S=Sn(f)?fo:en.current;return S=Ma(u,S),Na(u,x),f=Up(r,u,f,_,S,x),_=Hp(),r!==null&&!bn?(u.updateQueue=r.updateQueue,u.flags&=-2053,r.lanes&=~x,_s(r,u,x)):(pe&&_&&Pp(u),u.flags|=1,mn(r,u,f,x),u.child)}function t0(r,u,f,_,x){if(Sn(f)){var S=!0;Eh(u)}else S=!1;if(Na(u,x),u.stateNode===null)Gh(r,u),jv(u,f,_),qp(u,f,_,x),_=!0;else if(r===null){var P=u.stateNode,A=u.memoizedProps;P.props=A;var D=P.context,Z=f.contextType;typeof Z=="object"&&Z!==null?Z=ei(Z):(Z=Sn(f)?fo:en.current,Z=Ma(u,Z));var nt=f.getDerivedStateFromProps,it=typeof nt=="function"||typeof P.getSnapshotBeforeUpdate=="function";it||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(A!==_||D!==Z)&&Uv(u,P,_,Z),mr=!1;var et=u.memoizedState;P.state=et,Fh(u,_,P,x),D=u.memoizedState,A!==_||et!==D||wn.current||mr?(typeof nt=="function"&&(Yp(u,f,nt,_),D=u.memoizedState),(A=mr||Wv(u,f,A,_,et,D,Z))?(it||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(u.flags|=4194308)):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=_,u.memoizedState=D),P.props=_,P.state=D,P.context=Z,_=A):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),_=!1)}else{P=u.stateNode,gv(r,u),A=u.memoizedProps,Z=u.type===u.elementType?A:_i(u.type,A),P.props=Z,it=u.pendingProps,et=P.context,D=f.contextType,typeof D=="object"&&D!==null?D=ei(D):(D=Sn(f)?fo:en.current,D=Ma(u,D));var ht=f.getDerivedStateFromProps;(nt=typeof ht=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(A!==it||et!==D)&&Uv(u,P,_,D),mr=!1,et=u.memoizedState,P.state=et,Fh(u,_,P,x);var _t=u.memoizedState;A!==it||et!==_t||wn.current||mr?(typeof ht=="function"&&(Yp(u,f,ht,_),_t=u.memoizedState),(Z=mr||Wv(u,f,Z,_,et,_t,D)||!1)?(nt||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(_,_t,D),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(_,_t,D)),typeof P.componentDidUpdate=="function"&&(u.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof P.componentDidUpdate!="function"||A===r.memoizedProps&&et===r.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&et===r.memoizedState||(u.flags|=1024),u.memoizedProps=_,u.memoizedState=_t),P.props=_,P.state=_t,P.context=D,_=Z):(typeof P.componentDidUpdate!="function"||A===r.memoizedProps&&et===r.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&et===r.memoizedState||(u.flags|=1024),_=!1)}return tm(r,u,f,_,S,x)}function tm(r,u,f,_,x,S){Jv(r,u);var P=(u.flags&128)!==0;if(!_&&!P)return x&&rv(u,f,!1),_s(r,u,S);_=u.stateNode,AE.current=u;var A=P&&typeof f.getDerivedStateFromError!="function"?null:_.render();return u.flags|=1,r!==null&&P?(u.child=Oa(u,r.child,null,S),u.child=Oa(u,null,A,S)):mn(r,u,A,S),u.memoizedState=_.state,x&&rv(u,f,!0),u.child}function e0(r){var u=r.stateNode;u.pendingContext?iv(r,u.pendingContext,u.pendingContext!==u.context):u.context&&iv(r,u.context,!1),Fp(r,u.containerInfo)}function n0(r,u,f,_,x){return Ra(),Mp(x),u.flags|=256,mn(r,u,f,_),u.child}var em={dehydrated:null,treeContext:null,retryLane:0};function nm(r){return{baseLanes:r,cachePool:null,transitions:null}}function i0(r,u,f){var _=u.pendingProps,x=ve.current,S=!1,P=(u.flags&128)!==0,A;if((A=P)||(A=r!==null&&r.memoizedState===null?!1:(x&2)!==0),A?(S=!0,u.flags&=-129):(r===null||r.memoizedState!==null)&&(x|=1),oe(ve,x&1),r===null)return Ip(u),r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((u.mode&1)===0?u.lanes=1:r.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(P=_.children,r=_.fallback,S?(_=u.mode,S=u.child,P={mode:"hidden",children:P},(_&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=P):S=sd(P,_,0,null),r=bo(r,_,f,null),S.return=u,r.return=u,S.sibling=r,u.child=S,u.child.memoizedState=nm(f),u.memoizedState=em,r):im(u,P));if(x=r.memoizedState,x!==null&&(A=x.dehydrated,A!==null))return RE(r,u,P,_,A,x,f);if(S){S=_.fallback,P=u.mode,x=r.child,A=x.sibling;var D={mode:"hidden",children:_.children};return(P&1)===0&&u.child!==x?(_=u.child,_.childLanes=0,_.pendingProps=D,u.deletions=null):(_=Sr(x,D),_.subtreeFlags=x.subtreeFlags&14680064),A!==null?S=Sr(A,S):(S=bo(S,P,f,null),S.flags|=2),S.return=u,_.return=u,_.sibling=S,u.child=_,_=S,S=u.child,P=r.child.memoizedState,P=P===null?nm(f):{baseLanes:P.baseLanes|f,cachePool:null,transitions:P.transitions},S.memoizedState=P,S.childLanes=r.childLanes&~f,u.memoizedState=em,_}return S=r.child,r=S.sibling,_=Sr(S,{mode:"visible",children:_.children}),(u.mode&1)===0&&(_.lanes=f),_.return=u,_.sibling=null,r!==null&&(f=u.deletions,f===null?(u.deletions=[r],u.flags|=16):f.push(r)),u.child=_,u.memoizedState=null,_}function im(r,u){return u=sd({mode:"visible",children:u},r.mode,0,null),u.return=r,r.child=u}function Zh(r,u,f,_){return _!==null&&Mp(_),Oa(u,r.child,null,f),r=im(u,u.pendingProps.children),r.flags|=2,u.memoizedState=null,r}function RE(r,u,f,_,x,S,P){if(f)return u.flags&256?(u.flags&=-257,_=Xp(Error(e(422))),Zh(r,u,P,_)):u.memoizedState!==null?(u.child=r.child,u.flags|=128,null):(S=_.fallback,x=u.mode,_=sd({mode:"visible",children:_.children},x,0,null),S=bo(S,x,P,null),S.flags|=2,_.return=u,S.return=u,_.sibling=S,u.child=_,(u.mode&1)!==0&&Oa(u,r.child,null,P),u.child.memoizedState=nm(P),u.memoizedState=em,S);if((u.mode&1)===0)return Zh(r,u,P,null);if(x.data==="$!"){if(_=x.nextSibling&&x.nextSibling.dataset,_)var A=_.dgst;return _=A,S=Error(e(419)),_=Xp(S,_,void 0),Zh(r,u,P,_)}if(A=(P&r.childLanes)!==0,bn||A){if(_=We,_!==null){switch(P&-P){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(_.suspendedLanes|P))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,ms(r,x),xi(_,r,x,-1))}return vm(),_=Xp(Error(e(421))),Zh(r,u,P,_)}return x.data==="$?"?(u.flags|=128,u.child=r.child,u=GE.bind(null,r),x._reactRetry=u,null):(r=S.treeContext,Wn=Bi(x.nextSibling),Vn=u,pe=!0,gi=null,r!==null&&(Jn[ti++]=fs,Jn[ti++]=ps,Jn[ti++]=po,fs=r.id,ps=r.overflow,po=u),u=im(u,_.children),u.flags|=4096,u)}function s0(r,u,f){r.lanes|=u;var _=r.alternate;_!==null&&(_.lanes|=u),Op(r.return,u,f)}function sm(r,u,f,_,x){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:_,tail:f,tailMode:x}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=_,S.tail=f,S.tailMode=x)}function r0(r,u,f){var _=u.pendingProps,x=_.revealOrder,S=_.tail;if(mn(r,u,_.children,f),_=ve.current,(_&2)!==0)_=_&1|2,u.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=u.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&s0(r,f,u);else if(r.tag===19)s0(r,f,u);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===u)break t;for(;r.sibling===null;){if(r.return===null||r.return===u)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}_&=1}if(oe(ve,_),(u.mode&1)===0)u.memoizedState=null;else switch(x){case"forwards":for(f=u.child,x=null;f!==null;)r=f.alternate,r!==null&&zh(r)===null&&(x=f),f=f.sibling;f=x,f===null?(x=u.child,u.child=null):(x=f.sibling,f.sibling=null),sm(u,!1,x,f,S);break;case"backwards":for(f=null,x=u.child,u.child=null;x!==null;){if(r=x.alternate,r!==null&&zh(r)===null){u.child=x;break}r=x.sibling,x.sibling=f,f=x,x=r}sm(u,!0,f,null,S);break;case"together":sm(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Gh(r,u){(u.mode&1)===0&&r!==null&&(r.alternate=null,u.alternate=null,u.flags|=2)}function _s(r,u,f){if(r!==null&&(u.dependencies=r.dependencies),vo|=u.lanes,(f&u.childLanes)===0)return null;if(r!==null&&u.child!==r.child)throw Error(e(153));if(u.child!==null){for(r=u.child,f=Sr(r,r.pendingProps),u.child=f,f.return=u;r.sibling!==null;)r=r.sibling,f=f.sibling=Sr(r,r.pendingProps),f.return=u;f.sibling=null}return u.child}function OE(r,u,f){switch(u.tag){case 3:e0(u),Ra();break;case 5:vv(u);break;case 1:Sn(u.type)&&Eh(u);break;case 4:Fp(u,u.stateNode.containerInfo);break;case 10:var _=u.type._context,x=u.memoizedProps.value;oe(Oh,_._currentValue),_._currentValue=x;break;case 13:if(_=u.memoizedState,_!==null)return _.dehydrated!==null?(oe(ve,ve.current&1),u.flags|=128,null):(f&u.child.childLanes)!==0?i0(r,u,f):(oe(ve,ve.current&1),r=_s(r,u,f),r!==null?r.sibling:null);oe(ve,ve.current&1);break;case 19:if(_=(f&u.childLanes)!==0,(r.flags&128)!==0){if(_)return r0(r,u,f);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),oe(ve,ve.current),_)break;return null;case 22:case 23:return u.lanes=0,Qv(r,u,f)}return _s(r,u,f)}var o0,rm,a0,l0;o0=function(r,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},rm=function(){},a0=function(r,u,f,_){var x=r.memoizedProps;if(x!==_){r=u.stateNode,_o(Vi.current);var S=null;switch(f){case"input":x=bl(r,x),_=bl(r,_),S=[];break;case"select":x=q({},x,{value:void 0}),_=q({},_,{value:void 0}),S=[];break;case"textarea":x=Xo(r,x),_=Xo(r,_),S=[];break;default:typeof x.onClick!="function"&&typeof _.onClick=="function"&&(r.onclick=tt)}Il(f,_);var P;f=null;for(Z in x)if(!_.hasOwnProperty(Z)&&x.hasOwnProperty(Z)&&x[Z]!=null)if(Z==="style"){var A=x[Z];for(P in A)A.hasOwnProperty(P)&&(f||(f={}),f[P]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?S||(S=[]):(S=S||[]).push(Z,null));for(Z in _){var D=_[Z];if(A=x?.[Z],_.hasOwnProperty(Z)&&D!==A&&(D!=null||A!=null))if(Z==="style")if(A){for(P in A)!A.hasOwnProperty(P)||D&&D.hasOwnProperty(P)||(f||(f={}),f[P]="");for(P in D)D.hasOwnProperty(P)&&A[P]!==D[P]&&(f||(f={}),f[P]=D[P])}else f||(S||(S=[]),S.push(Z,f)),f=D;else Z==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,A=A?A.__html:void 0,D!=null&&A!==D&&(S=S||[]).push(Z,D)):Z==="children"?typeof D!="string"&&typeof D!="number"||(S=S||[]).push(Z,""+D):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(D!=null&&Z==="onScroll"&&ne("scroll",r),S||A===D||(S=[])):(S=S||[]).push(Z,D))}f&&(S=S||[]).push("style",f);var Z=S;(u.updateQueue=Z)&&(u.flags|=4)}},l0=function(r,u,f,_){f!==_&&(u.flags|=4)};function _u(r,u){if(!pe)switch(r.tailMode){case"hidden":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var _=null;f!==null;)f.alternate!==null&&(_=f),f=f.sibling;_===null?u||r.tail===null?r.tail=null:r.tail.sibling=null:_.sibling=null}}function sn(r){var u=r.alternate!==null&&r.alternate.child===r.child,f=0,_=0;if(u)for(var x=r.child;x!==null;)f|=x.lanes|x.childLanes,_|=x.subtreeFlags&14680064,_|=x.flags&14680064,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)f|=x.lanes|x.childLanes,_|=x.subtreeFlags,_|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=_,r.childLanes=f,u}function DE(r,u,f){var _=u.pendingProps;switch(kp(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(u),null;case 1:return Sn(u.type)&&kh(),sn(u),null;case 3:return _=u.stateNode,Fa(),ce(wn),ce(en),Vp(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(r===null||r.child===null)&&(Ah(u)?u.flags|=4:r===null||r.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,gi!==null&&(gm(gi),gi=null))),rm(r,u),sn(u),null;case 5:zp(u);var x=_o(du.current);if(f=u.type,r!==null&&u.stateNode!=null)a0(r,u,f,_,x),r.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!_){if(u.stateNode===null)throw Error(e(166));return sn(u),null}if(r=_o(Vi.current),Ah(u)){_=u.stateNode,f=u.type;var S=u.memoizedProps;switch(_[Qn]=u,_[cr]=S,r=(u.mode&1)!==0,f){case"dialog":ne("cancel",_),ne("close",_);break;case"iframe":case"object":case"embed":ne("load",_);break;case"video":case"audio":for(x=0;x<ar.length;x++)ne(ar[x],_);break;case"source":ne("error",_);break;case"img":case"image":case"link":ne("error",_),ne("load",_);break;case"details":ne("toggle",_);break;case"input":Tl(_,S),ne("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!S.multiple},ne("invalid",_);break;case"textarea":kl(_,S),ne("invalid",_)}Il(f,S),x=null;for(var P in S)if(S.hasOwnProperty(P)){var A=S[P];P==="children"?typeof A=="string"?_.textContent!==A&&(S.suppressHydrationWarning!==!0&&H(_.textContent,A,r),x=["children",A]):typeof A=="number"&&_.textContent!==""+A&&(S.suppressHydrationWarning!==!0&&H(_.textContent,A,r),x=["children",""+A]):s.hasOwnProperty(P)&&A!=null&&P==="onScroll"&&ne("scroll",_)}switch(f){case"input":Bs(_),Kr(_,S,!0);break;case"textarea":Bs(_),Hc(_);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(_.onclick=tt)}_=x,u.updateQueue=_,_!==null&&(u.flags|=4)}else{P=x.nodeType===9?x:x.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Qo(f)),r==="http://www.w3.org/1999/xhtml"?f==="script"?(r=P.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof _.is=="string"?r=P.createElement(f,{is:_.is}):(r=P.createElement(f),f==="select"&&(P=r,_.multiple?P.multiple=!0:_.size&&(P.size=_.size))):r=P.createElementNS(r,f),r[Qn]=u,r[cr]=_,o0(r,u,!1,!1),u.stateNode=r;t:{switch(P=qi(f,_),f){case"dialog":ne("cancel",r),ne("close",r),x=_;break;case"iframe":case"object":case"embed":ne("load",r),x=_;break;case"video":case"audio":for(x=0;x<ar.length;x++)ne(ar[x],r);x=_;break;case"source":ne("error",r),x=_;break;case"img":case"image":case"link":ne("error",r),ne("load",r),x=_;break;case"details":ne("toggle",r),x=_;break;case"input":Tl(r,_),x=bl(r,_),ne("invalid",r);break;case"option":x=_;break;case"select":r._wrapperState={wasMultiple:!!_.multiple},x=q({},_,{value:void 0}),ne("invalid",r);break;case"textarea":kl(r,_),x=Xo(r,_),ne("invalid",r);break;default:x=_}Il(f,x),A=x;for(S in A)if(A.hasOwnProperty(S)){var D=A[S];S==="style"?ta(r,D):S==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Zc(r,D)):S==="children"?typeof D=="string"?(f!=="textarea"||D!=="")&&Us(r,D):typeof D=="number"&&Us(r,""+D):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(s.hasOwnProperty(S)?D!=null&&S==="onScroll"&&ne("scroll",r):D!=null&&F(r,S,D,P))}switch(f){case"input":Bs(r),Kr(r,_,!1);break;case"textarea":Bs(r),Hc(r);break;case"option":_.value!=null&&r.setAttribute("value",""+zt(_.value));break;case"select":r.multiple=!!_.multiple,S=_.value,S!=null?Mi(r,!!_.multiple,S,!1):_.defaultValue!=null&&Mi(r,!!_.multiple,_.defaultValue,!0);break;default:typeof x.onClick=="function"&&(r.onclick=tt)}switch(f){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break t;case"img":_=!0;break t;default:_=!1}}_&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return sn(u),null;case 6:if(r&&u.stateNode!=null)l0(r,u,r.memoizedProps,_);else{if(typeof _!="string"&&u.stateNode===null)throw Error(e(166));if(f=_o(du.current),_o(Vi.current),Ah(u)){if(_=u.stateNode,f=u.memoizedProps,_[Qn]=u,(S=_.nodeValue!==f)&&(r=Vn,r!==null))switch(r.tag){case 3:H(_.nodeValue,f,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&H(_.nodeValue,f,(r.mode&1)!==0)}S&&(u.flags|=4)}else _=(f.nodeType===9?f:f.ownerDocument).createTextNode(_),_[Qn]=u,u.stateNode=_}return sn(u),null;case 13:if(ce(ve),_=u.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(pe&&Wn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)hv(),Ra(),u.flags|=98560,S=!1;else if(S=Ah(u),_!==null&&_.dehydrated!==null){if(r===null){if(!S)throw Error(e(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(e(317));S[Qn]=u}else Ra(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;sn(u),S=!1}else gi!==null&&(gm(gi),gi=null),S=!0;if(!S)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=f,u):(_=_!==null,_!==(r!==null&&r.memoizedState!==null)&&_&&(u.child.flags|=8192,(u.mode&1)!==0&&(r===null||(ve.current&1)!==0?Ne===0&&(Ne=3):vm())),u.updateQueue!==null&&(u.flags|=4),sn(u),null);case 4:return Fa(),rm(r,u),r===null&&lr(u.stateNode.containerInfo),sn(u),null;case 10:return Rp(u.type._context),sn(u),null;case 17:return Sn(u.type)&&kh(),sn(u),null;case 19:if(ce(ve),S=u.memoizedState,S===null)return sn(u),null;if(_=(u.flags&128)!==0,P=S.rendering,P===null)if(_)_u(S,!1);else{if(Ne!==0||r!==null&&(r.flags&128)!==0)for(r=u.child;r!==null;){if(P=zh(r),P!==null){for(u.flags|=128,_u(S,!1),_=P.updateQueue,_!==null&&(u.updateQueue=_,u.flags|=4),u.subtreeFlags=0,_=f,f=u.child;f!==null;)S=f,r=_,S.flags&=14680066,P=S.alternate,P===null?(S.childLanes=0,S.lanes=r,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=P.childLanes,S.lanes=P.lanes,S.child=P.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=P.memoizedProps,S.memoizedState=P.memoizedState,S.updateQueue=P.updateQueue,S.type=P.type,r=P.dependencies,S.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),f=f.sibling;return oe(ve,ve.current&1|2),u.child}r=r.sibling}S.tail!==null&&_e()>Wa&&(u.flags|=128,_=!0,_u(S,!1),u.lanes=4194304)}else{if(!_)if(r=zh(P),r!==null){if(u.flags|=128,_=!0,f=r.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),_u(S,!0),S.tail===null&&S.tailMode==="hidden"&&!P.alternate&&!pe)return sn(u),null}else 2*_e()-S.renderingStartTime>Wa&&f!==1073741824&&(u.flags|=128,_=!0,_u(S,!1),u.lanes=4194304);S.isBackwards?(P.sibling=u.child,u.child=P):(f=S.last,f!==null?f.sibling=P:u.child=P,S.last=P)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=_e(),u.sibling=null,f=ve.current,oe(ve,_?f&1|2:f&1),u):(sn(u),null);case 22:case 23:return ym(),_=u.memoizedState!==null,r!==null&&r.memoizedState!==null!==_&&(u.flags|=8192),_&&(u.mode&1)!==0?(jn&1073741824)!==0&&(sn(u),u.subtreeFlags&6&&(u.flags|=8192)):sn(u),null;case 24:return null;case 25:return null}throw Error(e(156,u.tag))}function NE(r,u){switch(kp(u),u.tag){case 1:return Sn(u.type)&&kh(),r=u.flags,r&65536?(u.flags=r&-65537|128,u):null;case 3:return Fa(),ce(wn),ce(en),Vp(),r=u.flags,(r&65536)!==0&&(r&128)===0?(u.flags=r&-65537|128,u):null;case 5:return zp(u),null;case 13:if(ce(ve),r=u.memoizedState,r!==null&&r.dehydrated!==null){if(u.alternate===null)throw Error(e(340));Ra()}return r=u.flags,r&65536?(u.flags=r&-65537|128,u):null;case 19:return ce(ve),null;case 4:return Fa(),null;case 10:return Rp(u.type._context),null;case 22:case 23:return ym(),null;case 24:return null;default:return null}}var Kh=!1,rn=!1,FE=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Ba(r,u){var f=r.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(_){be(r,u,_)}else f.current=null}function om(r,u,f){try{f()}catch(_){be(r,u,_)}}var u0=!1;function zE(r,u){if(ut=so,r=tu(),eu(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else t:{f=(f=r.ownerDocument)&&f.defaultView||window;var _=f.getSelection&&f.getSelection();if(_&&_.rangeCount!==0){f=_.anchorNode;var x=_.anchorOffset,S=_.focusNode;_=_.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break t}var P=0,A=-1,D=-1,Z=0,nt=0,it=r,et=null;e:for(;;){for(var ht;it!==f||x!==0&&it.nodeType!==3||(A=P+x),it!==S||_!==0&&it.nodeType!==3||(D=P+_),it.nodeType===3&&(P+=it.nodeValue.length),(ht=it.firstChild)!==null;)et=it,it=ht;for(;;){if(it===r)break e;if(et===f&&++Z===x&&(A=P),et===S&&++nt===_&&(D=P),(ht=it.nextSibling)!==null)break;it=et,et=it.parentNode}it=ht}f=A===-1||D===-1?null:{start:A,end:D}}else f=null}f=f||{start:0,end:0}}else f=null;for(Tt={focusedElem:r,selectionRange:f},so=!1,gt=u;gt!==null;)if(u=gt,r=u.child,(u.subtreeFlags&1028)!==0&&r!==null)r.return=u,gt=r;else for(;gt!==null;){u=gt;try{var _t=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(_t!==null){var yt=_t.memoizedProps,ke=_t.memoizedState,W=u.stateNode,z=W.getSnapshotBeforeUpdate(u.elementType===u.type?yt:_i(u.type,yt),ke);W.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var U=u.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(st){be(u,u.return,st)}if(r=u.sibling,r!==null){r.return=u.return,gt=r;break}gt=u.return}return _t=u0,u0=!1,_t}function yu(r,u,f){var _=u.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var x=_=_.next;do{if((x.tag&r)===r){var S=x.destroy;x.destroy=void 0,S!==void 0&&om(u,f,S)}x=x.next}while(x!==_)}}function $h(r,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&r)===r){var _=f.create;f.destroy=_()}f=f.next}while(f!==u)}}function am(r){var u=r.ref;if(u!==null){var f=r.stateNode;switch(r.tag){case 5:r=f;break;default:r=f}typeof u=="function"?u(r):u.current=r}}function c0(r){var u=r.alternate;u!==null&&(r.alternate=null,c0(u)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(u=r.stateNode,u!==null&&(delete u[Qn],delete u[cr],delete u[hr],delete u[Sp],delete u[bp])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function h0(r){return r.tag===5||r.tag===3||r.tag===4}function d0(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||h0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function lm(r,u,f){var _=r.tag;if(_===5||_===6)r=r.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(r,u):f.insertBefore(r,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(r,f)):(u=f,u.appendChild(r)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=tt));else if(_!==4&&(r=r.child,r!==null))for(lm(r,u,f),r=r.sibling;r!==null;)lm(r,u,f),r=r.sibling}function um(r,u,f){var _=r.tag;if(_===5||_===6)r=r.stateNode,u?f.insertBefore(r,u):f.appendChild(r);else if(_!==4&&(r=r.child,r!==null))for(um(r,u,f),r=r.sibling;r!==null;)um(r,u,f),r=r.sibling}var Ke=null,yi=!1;function _r(r,u,f){for(f=f.child;f!==null;)f0(r,u,f),f=f.sibling}function f0(r,u,f){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Qr,f)}catch{}switch(f.tag){case 5:rn||Ba(f,u);case 6:var _=Ke,x=yi;Ke=null,_r(r,u,f),Ke=_,yi=x,Ke!==null&&(yi?(r=Ke,f=f.stateNode,r.nodeType===8?r.parentNode.removeChild(f):r.removeChild(f)):Ke.removeChild(f.stateNode));break;case 18:Ke!==null&&(yi?(r=Ke,f=f.stateNode,r.nodeType===8?lu(r.parentNode,f):r.nodeType===1&&lu(r,f),Dn(r)):lu(Ke,f.stateNode));break;case 4:_=Ke,x=yi,Ke=f.stateNode.containerInfo,yi=!0,_r(r,u,f),Ke=_,yi=x;break;case 0:case 11:case 14:case 15:if(!rn&&(_=f.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){x=_=_.next;do{var S=x,P=S.destroy;S=S.tag,P!==void 0&&((S&2)!==0||(S&4)!==0)&&om(f,u,P),x=x.next}while(x!==_)}_r(r,u,f);break;case 1:if(!rn&&(Ba(f,u),_=f.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=f.memoizedProps,_.state=f.memoizedState,_.componentWillUnmount()}catch(A){be(f,u,A)}_r(r,u,f);break;case 21:_r(r,u,f);break;case 22:f.mode&1?(rn=(_=rn)||f.memoizedState!==null,_r(r,u,f),rn=_):_r(r,u,f);break;default:_r(r,u,f)}}function p0(r){var u=r.updateQueue;if(u!==null){r.updateQueue=null;var f=r.stateNode;f===null&&(f=r.stateNode=new FE),u.forEach(function(_){var x=KE.bind(null,r,_);f.has(_)||(f.add(_),_.then(x,x))})}}function vi(r,u){var f=u.deletions;if(f!==null)for(var _=0;_<f.length;_++){var x=f[_];try{var S=r,P=u,A=P;t:for(;A!==null;){switch(A.tag){case 5:Ke=A.stateNode,yi=!1;break t;case 3:Ke=A.stateNode.containerInfo,yi=!0;break t;case 4:Ke=A.stateNode.containerInfo,yi=!0;break t}A=A.return}if(Ke===null)throw Error(e(160));f0(S,P,x),Ke=null,yi=!1;var D=x.alternate;D!==null&&(D.return=null),x.return=null}catch(Z){be(x,u,Z)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)m0(u,r),u=u.sibling}function m0(r,u){var f=r.alternate,_=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(vi(u,r),ji(r),_&4){try{yu(3,r,r.return),$h(3,r)}catch(yt){be(r,r.return,yt)}try{yu(5,r,r.return)}catch(yt){be(r,r.return,yt)}}break;case 1:vi(u,r),ji(r),_&512&&f!==null&&Ba(f,f.return);break;case 5:if(vi(u,r),ji(r),_&512&&f!==null&&Ba(f,f.return),r.flags&32){var x=r.stateNode;try{Us(x,"")}catch(yt){be(r,r.return,yt)}}if(_&4&&(x=r.stateNode,x!=null)){var S=r.memoizedProps,P=f!==null?f.memoizedProps:S,A=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{A==="input"&&S.type==="radio"&&S.name!=null&&Cl(x,S),qi(A,P);var Z=qi(A,S);for(P=0;P<D.length;P+=2){var nt=D[P],it=D[P+1];nt==="style"?ta(x,it):nt==="dangerouslySetInnerHTML"?Zc(x,it):nt==="children"?Us(x,it):F(x,nt,it,Z)}switch(A){case"input":Gr(x,S);break;case"textarea":Uc(x,S);break;case"select":var et=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var ht=S.value;ht!=null?Mi(x,!!S.multiple,ht,!1):et!==!!S.multiple&&(S.defaultValue!=null?Mi(x,!!S.multiple,S.defaultValue,!0):Mi(x,!!S.multiple,S.multiple?[]:"",!1))}x[cr]=S}catch(yt){be(r,r.return,yt)}}break;case 6:if(vi(u,r),ji(r),_&4){if(r.stateNode===null)throw Error(e(162));x=r.stateNode,S=r.memoizedProps;try{x.nodeValue=S}catch(yt){be(r,r.return,yt)}}break;case 3:if(vi(u,r),ji(r),_&4&&f!==null&&f.memoizedState.isDehydrated)try{Dn(u.containerInfo)}catch(yt){be(r,r.return,yt)}break;case 4:vi(u,r),ji(r);break;case 13:vi(u,r),ji(r),x=r.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(dm=_e())),_&4&&p0(r);break;case 22:if(nt=f!==null&&f.memoizedState!==null,r.mode&1?(rn=(Z=rn)||nt,vi(u,r),rn=Z):vi(u,r),ji(r),_&8192){if(Z=r.memoizedState!==null,(r.stateNode.isHidden=Z)&&!nt&&(r.mode&1)!==0)for(gt=r,nt=r.child;nt!==null;){for(it=gt=nt;gt!==null;){switch(et=gt,ht=et.child,et.tag){case 0:case 11:case 14:case 15:yu(4,et,et.return);break;case 1:Ba(et,et.return);var _t=et.stateNode;if(typeof _t.componentWillUnmount=="function"){_=et,f=et.return;try{u=_,_t.props=u.memoizedProps,_t.state=u.memoizedState,_t.componentWillUnmount()}catch(yt){be(_,f,yt)}}break;case 5:Ba(et,et.return);break;case 22:if(et.memoizedState!==null){y0(it);continue}}ht!==null?(ht.return=et,gt=ht):y0(it)}nt=nt.sibling}t:for(nt=null,it=r;;){if(it.tag===5){if(nt===null){nt=it;try{x=it.stateNode,Z?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(A=it.stateNode,D=it.memoizedProps.style,P=D!=null&&D.hasOwnProperty("display")?D.display:null,A.style.display=El("display",P))}catch(yt){be(r,r.return,yt)}}}else if(it.tag===6){if(nt===null)try{it.stateNode.nodeValue=Z?"":it.memoizedProps}catch(yt){be(r,r.return,yt)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===r)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===r)break t;for(;it.sibling===null;){if(it.return===null||it.return===r)break t;nt===it&&(nt=null),it=it.return}nt===it&&(nt=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:vi(u,r),ji(r),_&4&&p0(r);break;case 21:break;default:vi(u,r),ji(r)}}function ji(r){var u=r.flags;if(u&2){try{t:{for(var f=r.return;f!==null;){if(h0(f)){var _=f;break t}f=f.return}throw Error(e(160))}switch(_.tag){case 5:var x=_.stateNode;_.flags&32&&(Us(x,""),_.flags&=-33);var S=d0(r);um(r,S,x);break;case 3:case 4:var P=_.stateNode.containerInfo,A=d0(r);lm(r,A,P);break;default:throw Error(e(161))}}catch(D){be(r,r.return,D)}r.flags&=-3}u&4096&&(r.flags&=-4097)}function BE(r,u,f){gt=r,g0(r)}function g0(r,u,f){for(var _=(r.mode&1)!==0;gt!==null;){var x=gt,S=x.child;if(x.tag===22&&_){var P=x.memoizedState!==null||Kh;if(!P){var A=x.alternate,D=A!==null&&A.memoizedState!==null||rn;A=Kh;var Z=rn;if(Kh=P,(rn=D)&&!Z)for(gt=x;gt!==null;)P=gt,D=P.child,P.tag===22&&P.memoizedState!==null?v0(x):D!==null?(D.return=P,gt=D):v0(x);for(;S!==null;)gt=S,g0(S),S=S.sibling;gt=x,Kh=A,rn=Z}_0(r)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,gt=S):_0(r)}}function _0(r){for(;gt!==null;){var u=gt;if((u.flags&8772)!==0){var f=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:rn||$h(5,u);break;case 1:var _=u.stateNode;if(u.flags&4&&!rn)if(f===null)_.componentDidMount();else{var x=u.elementType===u.type?f.memoizedProps:_i(u.type,f.memoizedProps);_.componentDidUpdate(x,f.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var S=u.updateQueue;S!==null&&yv(u,S,_);break;case 3:var P=u.updateQueue;if(P!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}yv(u,P,f)}break;case 5:var A=u.stateNode;if(f===null&&u.flags&4){f=A;var D=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&f.focus();break;case"img":D.src&&(f.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Z=u.alternate;if(Z!==null){var nt=Z.memoizedState;if(nt!==null){var it=nt.dehydrated;it!==null&&Dn(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}rn||u.flags&512&&am(u)}catch(et){be(u,u.return,et)}}if(u===r){gt=null;break}if(f=u.sibling,f!==null){f.return=u.return,gt=f;break}gt=u.return}}function y0(r){for(;gt!==null;){var u=gt;if(u===r){gt=null;break}var f=u.sibling;if(f!==null){f.return=u.return,gt=f;break}gt=u.return}}function v0(r){for(;gt!==null;){var u=gt;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{$h(4,u)}catch(D){be(u,f,D)}break;case 1:var _=u.stateNode;if(typeof _.componentDidMount=="function"){var x=u.return;try{_.componentDidMount()}catch(D){be(u,x,D)}}var S=u.return;try{am(u)}catch(D){be(u,S,D)}break;case 5:var P=u.return;try{am(u)}catch(D){be(u,P,D)}}}catch(D){be(u,u.return,D)}if(u===r){gt=null;break}var A=u.sibling;if(A!==null){A.return=u.return,gt=A;break}gt=u.return}}var VE=Math.ceil,Yh=j.ReactCurrentDispatcher,cm=j.ReactCurrentOwner,ii=j.ReactCurrentBatchConfig,Yt=0,We=null,Le=null,$e=0,jn=0,Va=dr(0),Ne=0,vu=null,vo=0,qh=0,hm=0,xu=null,Tn=null,dm=0,Wa=1/0,ys=null,Xh=!1,fm=null,yr=null,Qh=!1,vr=null,Jh=0,wu=0,pm=null,td=-1,ed=0;function gn(){return(Yt&6)!==0?_e():td!==-1?td:td=_e()}function xr(r){return(r.mode&1)===0?1:(Yt&2)!==0&&$e!==0?$e&-$e:bE.transition!==null?(ed===0&&(ed=sh()),ed):(r=$t,r!==0||(r=window.event,r=r===void 0?16:Wt(r.type)),r)}function xi(r,u,f,_){if(50<wu)throw wu=0,pm=null,Error(e(185));Rn(r,f,_),((Yt&2)===0||r!==We)&&(r===We&&((Yt&2)===0&&(qh|=f),Ne===4&&wr(r,$e)),Cn(r,_),f===1&&Yt===0&&(u.mode&1)===0&&(Wa=_e()+500,Ih&&pr()))}function Cn(r,u){var f=r.callbackNode;aa(r,u);var _=re(r,r===We?$e:0);if(_===0)f!==null&&Nl(f),r.callbackNode=null,r.callbackPriority=0;else if(u=_&-_,r.callbackPriority!==u){if(f!=null&&Nl(f),u===1)r.tag===0?SE(w0.bind(null,r)):ov(w0.bind(null,r)),tn(function(){(Yt&6)===0&&pr()}),f=null;else{switch(Ys(_)){case 1:f=Fl;break;case 4:f=ih;break;case 16:f=ra;break;case 536870912:f=Zs;break;default:f=ra}f=I0(f,x0.bind(null,r))}r.callbackPriority=u,r.callbackNode=f}}function x0(r,u){if(td=-1,ed=0,(Yt&6)!==0)throw Error(e(327));var f=r.callbackNode;if(ja()&&r.callbackNode!==f)return null;var _=re(r,r===We?$e:0);if(_===0)return null;if((_&30)!==0||(_&r.expiredLanes)!==0||u)u=nd(r,_);else{u=_;var x=Yt;Yt|=2;var S=b0();(We!==r||$e!==u)&&(ys=null,Wa=_e()+500,wo(r,u));do try{UE();break}catch(A){S0(r,A)}while(!0);Ap(),Yh.current=S,Yt=x,Le!==null?u=0:(We=null,$e=0,u=Ne)}if(u!==0){if(u===2&&(x=Qe(r),x!==0&&(_=x,u=mm(r,x))),u===1)throw f=vu,wo(r,0),wr(r,_),Cn(r,_e()),f;if(u===6)wr(r,_);else{if(x=r.current.alternate,(_&30)===0&&!WE(x)&&(u=nd(r,_),u===2&&(S=Qe(r),S!==0&&(_=S,u=mm(r,S))),u===1))throw f=vu,wo(r,0),wr(r,_),Cn(r,_e()),f;switch(r.finishedWork=x,r.finishedLanes=_,u){case 0:case 1:throw Error(e(345));case 2:So(r,Tn,ys);break;case 3:if(wr(r,_),(_&130023424)===_&&(u=dm+500-_e(),10<u)){if(re(r,0)!==0)break;if(x=r.suspendedLanes,(x&_)!==_){gn(),r.pingedLanes|=r.suspendedLanes&x;break}r.timeoutHandle=Oe(So.bind(null,r,Tn,ys),u);break}So(r,Tn,ys);break;case 4:if(wr(r,_),(_&4194240)===_)break;for(u=r.eventTimes,x=-1;0<_;){var P=31-Ot(_);S=1<<P,P=u[P],P>x&&(x=P),_&=~S}if(_=x,_=_e()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*VE(_/1960))-_,10<_){r.timeoutHandle=Oe(So.bind(null,r,Tn,ys),_);break}So(r,Tn,ys);break;case 5:So(r,Tn,ys);break;default:throw Error(e(329))}}}return Cn(r,_e()),r.callbackNode===f?x0.bind(null,r):null}function mm(r,u){var f=xu;return r.current.memoizedState.isDehydrated&&(wo(r,u).flags|=256),r=nd(r,u),r!==2&&(u=Tn,Tn=f,u!==null&&gm(u)),r}function gm(r){Tn===null?Tn=r:Tn.push.apply(Tn,r)}function WE(r){for(var u=r;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var _=0;_<f.length;_++){var x=f[_],S=x.getSnapshot;x=x.value;try{if(!zn(S(),x))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function wr(r,u){for(u&=~hm,u&=~qh,r.suspendedLanes|=u,r.pingedLanes&=~u,r=r.expirationTimes;0<u;){var f=31-Ot(u),_=1<<f;r[f]=-1,u&=~_}}function w0(r){if((Yt&6)!==0)throw Error(e(327));ja();var u=re(r,0);if((u&1)===0)return Cn(r,_e()),null;var f=nd(r,u);if(r.tag!==0&&f===2){var _=Qe(r);_!==0&&(u=_,f=mm(r,_))}if(f===1)throw f=vu,wo(r,0),wr(r,u),Cn(r,_e()),f;if(f===6)throw Error(e(345));return r.finishedWork=r.current.alternate,r.finishedLanes=u,So(r,Tn,ys),Cn(r,_e()),null}function _m(r,u){var f=Yt;Yt|=1;try{return r(u)}finally{Yt=f,Yt===0&&(Wa=_e()+500,Ih&&pr())}}function xo(r){vr!==null&&vr.tag===0&&(Yt&6)===0&&ja();var u=Yt;Yt|=1;var f=ii.transition,_=$t;try{if(ii.transition=null,$t=1,r)return r()}finally{$t=_,ii.transition=f,Yt=u,(Yt&6)===0&&pr()}}function ym(){jn=Va.current,ce(Va)}function wo(r,u){r.finishedWork=null,r.finishedLanes=0;var f=r.timeoutHandle;if(f!==-1&&(r.timeoutHandle=-1,Me(f)),Le!==null)for(f=Le.return;f!==null;){var _=f;switch(kp(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&kh();break;case 3:Fa(),ce(wn),ce(en),Vp();break;case 5:zp(_);break;case 4:Fa();break;case 13:ce(ve);break;case 19:ce(ve);break;case 10:Rp(_.type._context);break;case 22:case 23:ym()}f=f.return}if(We=r,Le=r=Sr(r.current,null),$e=jn=u,Ne=0,vu=null,hm=qh=vo=0,Tn=xu=null,go!==null){for(u=0;u<go.length;u++)if(f=go[u],_=f.interleaved,_!==null){f.interleaved=null;var x=_.next,S=f.pending;if(S!==null){var P=S.next;S.next=x,_.next=P}f.pending=_}go=null}return r}function S0(r,u){do{var f=Le;try{if(Ap(),Bh.current=Uh,Vh){for(var _=xe.memoizedState;_!==null;){var x=_.queue;x!==null&&(x.pending=null),_=_.next}Vh=!1}if(yo=0,Ve=De=xe=null,fu=!1,pu=0,cm.current=null,f===null||f.return===null){Ne=1,vu=u,Le=null;break}t:{var S=r,P=f.return,A=f,D=u;if(u=$e,A.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=D,nt=A,it=nt.tag;if((nt.mode&1)===0&&(it===0||it===11||it===15)){var et=nt.alternate;et?(nt.updateQueue=et.updateQueue,nt.memoizedState=et.memoizedState,nt.lanes=et.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var ht=Kv(P);if(ht!==null){ht.flags&=-257,$v(ht,P,A,S,u),ht.mode&1&&Gv(S,Z,u),u=ht,D=Z;var _t=u.updateQueue;if(_t===null){var yt=new Set;yt.add(D),u.updateQueue=yt}else _t.add(D);break t}else{if((u&1)===0){Gv(S,Z,u),vm();break t}D=Error(e(426))}}else if(pe&&A.mode&1){var ke=Kv(P);if(ke!==null){(ke.flags&65536)===0&&(ke.flags|=256),$v(ke,P,A,S,u),Mp(za(D,A));break t}}S=D=za(D,A),Ne!==4&&(Ne=2),xu===null?xu=[S]:xu.push(S),S=P;do{switch(S.tag){case 3:S.flags|=65536,u&=-u,S.lanes|=u;var W=Hv(S,D,u);_v(S,W);break t;case 1:A=D;var z=S.type,U=S.stateNode;if((S.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(yr===null||!yr.has(U)))){S.flags|=65536,u&=-u,S.lanes|=u;var st=Zv(S,A,u);_v(S,st);break t}}S=S.return}while(S!==null)}C0(f)}catch(St){u=St,Le===f&&f!==null&&(Le=f=f.return);continue}break}while(!0)}function b0(){var r=Yh.current;return Yh.current=Uh,r===null?Uh:r}function vm(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),We===null||(vo&268435455)===0&&(qh&268435455)===0||wr(We,$e)}function nd(r,u){var f=Yt;Yt|=2;var _=b0();(We!==r||$e!==u)&&(ys=null,wo(r,u));do try{jE();break}catch(x){S0(r,x)}while(!0);if(Ap(),Yt=f,Yh.current=_,Le!==null)throw Error(e(261));return We=null,$e=0,Ne}function jE(){for(;Le!==null;)T0(Le)}function UE(){for(;Le!==null&&!op();)T0(Le)}function T0(r){var u=E0(r.alternate,r,jn);r.memoizedProps=r.pendingProps,u===null?C0(r):Le=u,cm.current=null}function C0(r){var u=r;do{var f=u.alternate;if(r=u.return,(u.flags&32768)===0){if(f=DE(f,u,jn),f!==null){Le=f;return}}else{if(f=NE(f,u),f!==null){f.flags&=32767,Le=f;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ne=6,Le=null;return}}if(u=u.sibling,u!==null){Le=u;return}Le=u=r}while(u!==null);Ne===0&&(Ne=5)}function So(r,u,f){var _=$t,x=ii.transition;try{ii.transition=null,$t=1,HE(r,u,f,_)}finally{ii.transition=x,$t=_}return null}function HE(r,u,f,_){do ja();while(vr!==null);if((Yt&6)!==0)throw Error(e(327));f=r.finishedWork;var x=r.finishedLanes;if(f===null)return null;if(r.finishedWork=null,r.finishedLanes=0,f===r.current)throw Error(e(177));r.callbackNode=null,r.callbackPriority=0;var S=f.lanes|f.childLanes;if(Se(r,S),r===We&&(Le=We=null,$e=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Qh||(Qh=!0,I0(ra,function(){return ja(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=ii.transition,ii.transition=null;var P=$t;$t=1;var A=Yt;Yt|=4,cm.current=null,zE(r,f),m0(f,r),qn(Tt),so=!!ut,Tt=ut=null,r.current=f,BE(f),sa(),Yt=A,$t=P,ii.transition=S}else r.current=f;if(Qh&&(Qh=!1,vr=r,Jh=x),S=r.pendingLanes,S===0&&(yr=null),Jr(f.stateNode),Cn(r,_e()),u!==null)for(_=r.onRecoverableError,f=0;f<u.length;f++)x=u[f],_(x.value,{componentStack:x.stack,digest:x.digest});if(Xh)throw Xh=!1,r=fm,fm=null,r;return(Jh&1)!==0&&r.tag!==0&&ja(),S=r.pendingLanes,(S&1)!==0?r===pm?wu++:(wu=0,pm=r):wu=0,pr(),null}function ja(){if(vr!==null){var r=Ys(Jh),u=ii.transition,f=$t;try{if(ii.transition=null,$t=16>r?16:r,vr===null)var _=!1;else{if(r=vr,vr=null,Jh=0,(Yt&6)!==0)throw Error(e(331));var x=Yt;for(Yt|=4,gt=r.current;gt!==null;){var S=gt,P=S.child;if((gt.flags&16)!==0){var A=S.deletions;if(A!==null){for(var D=0;D<A.length;D++){var Z=A[D];for(gt=Z;gt!==null;){var nt=gt;switch(nt.tag){case 0:case 11:case 15:yu(8,nt,S)}var it=nt.child;if(it!==null)it.return=nt,gt=it;else for(;gt!==null;){nt=gt;var et=nt.sibling,ht=nt.return;if(c0(nt),nt===Z){gt=null;break}if(et!==null){et.return=ht,gt=et;break}gt=ht}}}var _t=S.alternate;if(_t!==null){var yt=_t.child;if(yt!==null){_t.child=null;do{var ke=yt.sibling;yt.sibling=null,yt=ke}while(yt!==null)}}gt=S}}if((S.subtreeFlags&2064)!==0&&P!==null)P.return=S,gt=P;else t:for(;gt!==null;){if(S=gt,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:yu(9,S,S.return)}var W=S.sibling;if(W!==null){W.return=S.return,gt=W;break t}gt=S.return}}var z=r.current;for(gt=z;gt!==null;){P=gt;var U=P.child;if((P.subtreeFlags&2064)!==0&&U!==null)U.return=P,gt=U;else t:for(P=z;gt!==null;){if(A=gt,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:$h(9,A)}}catch(St){be(A,A.return,St)}if(A===P){gt=null;break t}var st=A.sibling;if(st!==null){st.return=A.return,gt=st;break t}gt=A.return}}if(Yt=x,pr(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Qr,r)}catch{}_=!0}return _}finally{$t=f,ii.transition=u}}return!1}function P0(r,u,f){u=za(f,u),u=Hv(r,u,1),r=gr(r,u,1),u=gn(),r!==null&&(Rn(r,1,u),Cn(r,u))}function be(r,u,f){if(r.tag===3)P0(r,r,f);else for(;u!==null;){if(u.tag===3){P0(u,r,f);break}else if(u.tag===1){var _=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(yr===null||!yr.has(_))){r=za(f,r),r=Zv(u,r,1),u=gr(u,r,1),r=gn(),u!==null&&(Rn(u,1,r),Cn(u,r));break}}u=u.return}}function ZE(r,u,f){var _=r.pingCache;_!==null&&_.delete(u),u=gn(),r.pingedLanes|=r.suspendedLanes&f,We===r&&($e&f)===f&&(Ne===4||Ne===3&&($e&130023424)===$e&&500>_e()-dm?wo(r,0):hm|=f),Cn(r,u)}function k0(r,u){u===0&&((r.mode&1)===0?u=1:(u=Ks,Ks<<=1,(Ks&130023424)===0&&(Ks=4194304)));var f=gn();r=ms(r,u),r!==null&&(Rn(r,u,f),Cn(r,f))}function GE(r){var u=r.memoizedState,f=0;u!==null&&(f=u.retryLane),k0(r,f)}function KE(r,u){var f=0;switch(r.tag){case 13:var _=r.stateNode,x=r.memoizedState;x!==null&&(f=x.retryLane);break;case 19:_=r.stateNode;break;default:throw Error(e(314))}_!==null&&_.delete(u),k0(r,f)}var E0;E0=function(r,u,f){if(r!==null)if(r.memoizedProps!==u.pendingProps||wn.current)bn=!0;else{if((r.lanes&f)===0&&(u.flags&128)===0)return bn=!1,OE(r,u,f);bn=(r.flags&131072)!==0}else bn=!1,pe&&(u.flags&1048576)!==0&&av(u,Lh,u.index);switch(u.lanes=0,u.tag){case 2:var _=u.type;Gh(r,u),r=u.pendingProps;var x=Ma(u,en.current);Na(u,f),x=Up(null,u,_,r,x,f);var S=Hp();return u.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Sn(_)?(S=!0,Eh(u)):S=!1,u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Np(u),x.updater=Hh,u.stateNode=x,x._reactInternals=u,qp(u,_,r,f),u=tm(null,u,_,!0,S,f)):(u.tag=0,pe&&S&&Pp(u),mn(null,u,x,f),u=u.child),u;case 16:_=u.elementType;t:{switch(Gh(r,u),r=u.pendingProps,x=_._init,_=x(_._payload),u.type=_,x=u.tag=YE(_),r=_i(_,r),x){case 0:u=Jp(null,u,_,r,f);break t;case 1:u=t0(null,u,_,r,f);break t;case 11:u=Yv(null,u,_,r,f);break t;case 14:u=qv(null,u,_,_i(_.type,r),f);break t}throw Error(e(306,_,""))}return u;case 0:return _=u.type,x=u.pendingProps,x=u.elementType===_?x:_i(_,x),Jp(r,u,_,x,f);case 1:return _=u.type,x=u.pendingProps,x=u.elementType===_?x:_i(_,x),t0(r,u,_,x,f);case 3:t:{if(e0(u),r===null)throw Error(e(387));_=u.pendingProps,S=u.memoizedState,x=S.element,gv(r,u),Fh(u,_,null,f);var P=u.memoizedState;if(_=P.element,S.isDehydrated)if(S={element:_,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){x=za(Error(e(423)),u),u=n0(r,u,_,f,x);break t}else if(_!==x){x=za(Error(e(424)),u),u=n0(r,u,_,f,x);break t}else for(Wn=Bi(u.stateNode.containerInfo.firstChild),Vn=u,pe=!0,gi=null,f=pv(u,null,_,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ra(),_===x){u=_s(r,u,f);break t}mn(r,u,_,f)}u=u.child}return u;case 5:return vv(u),r===null&&Ip(u),_=u.type,x=u.pendingProps,S=r!==null?r.memoizedProps:null,P=x.children,Nt(_,x)?P=null:S!==null&&Nt(_,S)&&(u.flags|=32),Jv(r,u),mn(r,u,P,f),u.child;case 6:return r===null&&Ip(u),null;case 13:return i0(r,u,f);case 4:return Fp(u,u.stateNode.containerInfo),_=u.pendingProps,r===null?u.child=Oa(u,null,_,f):mn(r,u,_,f),u.child;case 11:return _=u.type,x=u.pendingProps,x=u.elementType===_?x:_i(_,x),Yv(r,u,_,x,f);case 7:return mn(r,u,u.pendingProps,f),u.child;case 8:return mn(r,u,u.pendingProps.children,f),u.child;case 12:return mn(r,u,u.pendingProps.children,f),u.child;case 10:t:{if(_=u.type._context,x=u.pendingProps,S=u.memoizedProps,P=x.value,oe(Oh,_._currentValue),_._currentValue=P,S!==null)if(zn(S.value,P)){if(S.children===x.children&&!wn.current){u=_s(r,u,f);break t}}else for(S=u.child,S!==null&&(S.return=u);S!==null;){var A=S.dependencies;if(A!==null){P=S.child;for(var D=A.firstContext;D!==null;){if(D.context===_){if(S.tag===1){D=gs(-1,f&-f),D.tag=2;var Z=S.updateQueue;if(Z!==null){Z=Z.shared;var nt=Z.pending;nt===null?D.next=D:(D.next=nt.next,nt.next=D),Z.pending=D}}S.lanes|=f,D=S.alternate,D!==null&&(D.lanes|=f),Op(S.return,f,u),A.lanes|=f;break}D=D.next}}else if(S.tag===10)P=S.type===u.type?null:S.child;else if(S.tag===18){if(P=S.return,P===null)throw Error(e(341));P.lanes|=f,A=P.alternate,A!==null&&(A.lanes|=f),Op(P,f,u),P=S.sibling}else P=S.child;if(P!==null)P.return=S;else for(P=S;P!==null;){if(P===u){P=null;break}if(S=P.sibling,S!==null){S.return=P.return,P=S;break}P=P.return}S=P}mn(r,u,x.children,f),u=u.child}return u;case 9:return x=u.type,_=u.pendingProps.children,Na(u,f),x=ei(x),_=_(x),u.flags|=1,mn(r,u,_,f),u.child;case 14:return _=u.type,x=_i(_,u.pendingProps),x=_i(_.type,x),qv(r,u,_,x,f);case 15:return Xv(r,u,u.type,u.pendingProps,f);case 17:return _=u.type,x=u.pendingProps,x=u.elementType===_?x:_i(_,x),Gh(r,u),u.tag=1,Sn(_)?(r=!0,Eh(u)):r=!1,Na(u,f),jv(u,_,x),qp(u,_,x,f),tm(null,u,_,!0,r,f);case 19:return r0(r,u,f);case 22:return Qv(r,u,f)}throw Error(e(156,u.tag))};function I0(r,u){return nh(r,u)}function $E(r,u,f,_){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(r,u,f,_){return new $E(r,u,f,_)}function xm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function YE(r){if(typeof r=="function")return xm(r)?1:0;if(r!=null){if(r=r.$$typeof,r===vt)return 11;if(r===Rt)return 14}return 2}function Sr(r,u){var f=r.alternate;return f===null?(f=si(r.tag,u,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=u,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&14680064,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,u=r.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f}function id(r,u,f,_,x,S){var P=2;if(_=r,typeof r=="function")xm(r)&&(P=1);else if(typeof r=="string")P=5;else t:switch(r){case Y:return bo(f.children,x,S,u);case $:P=8,x|=8;break;case rt:return r=si(12,f,u,x|2),r.elementType=rt,r.lanes=S,r;case Kt:return r=si(13,f,u,x),r.elementType=Kt,r.lanes=S,r;case Ft:return r=si(19,f,u,x),r.elementType=Ft,r.lanes=S,r;case ft:return sd(f,x,S,u);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case dt:P=10;break t;case ct:P=9;break t;case vt:P=11;break t;case Rt:P=14;break t;case bt:P=16,_=null;break t}throw Error(e(130,r==null?r:typeof r,""))}return u=si(P,f,u,x),u.elementType=r,u.type=_,u.lanes=S,u}function bo(r,u,f,_){return r=si(7,r,_,u),r.lanes=f,r}function sd(r,u,f,_){return r=si(22,r,_,u),r.elementType=ft,r.lanes=f,r.stateNode={isHidden:!1},r}function wm(r,u,f){return r=si(6,r,null,u),r.lanes=f,r}function Sm(r,u,f){return u=si(4,r.children!==null?r.children:[],r.key,u),u.lanes=f,u.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},u}function qE(r,u,f,_,x){this.tag=u,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$s(0),this.expirationTimes=$s(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$s(0),this.identifierPrefix=_,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function bm(r,u,f,_,x,S,P,A,D){return r=new qE(r,u,f,A,D),u===1?(u=1,S===!0&&(u|=8)):u=0,S=si(3,null,null,u),r.current=S,S.stateNode=r,S.memoizedState={element:_,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(S),r}function XE(r,u,f){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:_==null?null:""+_,children:r,containerInfo:u,implementation:f}}function M0(r){if(!r)return fr;r=r._reactInternals;t:{if(Li(r)!==r||r.tag!==1)throw Error(e(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Sn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(e(171))}if(r.tag===1){var f=r.type;if(Sn(f))return sv(r,f,u)}return u}function L0(r,u,f,_,x,S,P,A,D){return r=bm(f,_,!0,r,x,S,P,A,D),r.context=M0(null),f=r.current,_=gn(),x=xr(f),S=gs(_,x),S.callback=u??null,gr(f,S,x),r.current.lanes=x,Rn(r,x,_),Cn(r,_),r}function rd(r,u,f,_){var x=u.current,S=gn(),P=xr(x);return f=M0(f),u.context===null?u.context=f:u.pendingContext=f,u=gs(S,P),u.payload={element:r},_=_===void 0?null:_,_!==null&&(u.callback=_),r=gr(x,u,P),r!==null&&(xi(r,x,P,S),Nh(r,x,P)),P}function od(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function A0(r,u){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<u?f:u}}function Tm(r,u){A0(r,u),(r=r.alternate)&&A0(r,u)}function QE(){return null}var R0=typeof reportError=="function"?reportError:function(r){console.error(r)};function Cm(r){this._internalRoot=r}ad.prototype.render=Cm.prototype.render=function(r){var u=this._internalRoot;if(u===null)throw Error(e(409));rd(r,u,null,null)},ad.prototype.unmount=Cm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var u=r.containerInfo;xo(function(){rd(null,r,null,null)}),u[Jt]=null}};function ad(r){this._internalRoot=r}ad.prototype.unstable_scheduleHydration=function(r){if(r){var u=ca();r={blockedOn:null,target:r,priority:u};for(var f=0;f<Re.length&&u!==0&&u<Re[f].priority;f++);Re.splice(f,0,r),f===0&&ha(r)}};function Pm(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ld(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function O0(){}function JE(r,u,f,_,x){if(x){if(typeof _=="function"){var S=_;_=function(){var Z=od(P);S.call(Z)}}var P=L0(u,_,r,0,null,!1,!1,"",O0);return r._reactRootContainer=P,r[Jt]=P.current,lr(r.nodeType===8?r.parentNode:r),xo(),P}for(;x=r.lastChild;)r.removeChild(x);if(typeof _=="function"){var A=_;_=function(){var Z=od(D);A.call(Z)}}var D=bm(r,0,!1,null,null,!1,!1,"",O0);return r._reactRootContainer=D,r[Jt]=D.current,lr(r.nodeType===8?r.parentNode:r),xo(function(){rd(u,D,f,_)}),D}function ud(r,u,f,_,x){var S=f._reactRootContainer;if(S){var P=S;if(typeof x=="function"){var A=x;x=function(){var D=od(P);A.call(D)}}rd(u,P,r,x)}else P=JE(f,u,r,x,_);return od(P)}la=function(r){switch(r.tag){case 3:var u=r.stateNode;if(u.current.memoizedState.isDehydrated){var f=At(u.pendingLanes);f!==0&&(hi(u,f|1),Cn(u,_e()),(Yt&6)===0&&(Wa=_e()+500,pr()))}break;case 13:xo(function(){var _=ms(r,1);if(_!==null){var x=gn();xi(_,r,1,x)}}),Tm(r,1)}},ts=function(r){if(r.tag===13){var u=ms(r,134217728);if(u!==null){var f=gn();xi(u,r,134217728,f)}Tm(r,134217728)}},ua=function(r){if(r.tag===13){var u=xr(r),f=ms(r,u);if(f!==null){var _=gn();xi(f,r,u,_)}Tm(r,u)}},ca=function(){return $t},to=function(r,u){var f=$t;try{return $t=r,u()}finally{$t=f}},ea=function(r,u,f){switch(u){case"input":if(Gr(r,f),u=f.name,f.type==="radio"&&u!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var _=f[u];if(_!==r&&_.form===r.form){var x=Ea(_);if(!x)throw Error(e(90));Vs(_),Gr(_,x)}}}break;case"textarea":Uc(r,f);break;case"select":u=f.value,u!=null&&Mi(r,!!f.multiple,u,!1)}},qc=_m,Xc=xo;var tI={usingClientEntryPoint:!1,Events:[cs,hs,Ea,$c,Yc,_m]},Su={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eI={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=th(r),r===null?null:r.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance||QE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{Qr=cd.inject(eI),An=cd}catch{}}return Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tI,Pn.createPortal=function(r,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pm(u))throw Error(e(200));return XE(r,u,null,f)},Pn.createRoot=function(r,u){if(!Pm(r))throw Error(e(299));var f=!1,_="",x=R0;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),u=bm(r,1,!1,null,null,f,!1,_,x),r[Jt]=u.current,lr(r.nodeType===8?r.parentNode:r),new Cm(u)},Pn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var u=r._reactInternals;if(u===void 0)throw typeof r.render=="function"?Error(e(188)):(r=Object.keys(r).join(","),Error(e(268,r)));return r=th(u),r=r===null?null:r.stateNode,r},Pn.flushSync=function(r){return xo(r)},Pn.hydrate=function(r,u,f){if(!ld(u))throw Error(e(200));return ud(null,r,u,!0,f)},Pn.hydrateRoot=function(r,u,f){if(!Pm(r))throw Error(e(405));var _=f!=null&&f.hydratedSources||null,x=!1,S="",P=R0;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(P=f.onRecoverableError)),u=L0(u,null,r,1,f??null,x,!1,S,P),r[Jt]=u.current,lr(r),_)for(r=0;r<_.length;r++)f=_[r],x=f._getVersion,x=x(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,x]:u.mutableSourceEagerHydrationData.push(f,x);return new ad(u)},Pn.render=function(r,u,f){if(!ld(u))throw Error(e(200));return ud(null,r,u,!1,f)},Pn.unmountComponentAtNode=function(r){if(!ld(r))throw Error(e(40));return r._reactRootContainer?(xo(function(){ud(null,null,r,!1,function(){r._reactRootContainer=null,r[Jt]=null})}),!0):!1},Pn.unstable_batchedUpdates=_m,Pn.unstable_renderSubtreeIntoContainer=function(r,u,f,_){if(!ld(f))throw Error(e(200));if(r==null||r._reactInternals===void 0)throw Error(e(38));return ud(r,u,f,!1,_)},Pn.version="18.3.1-next-f1338f8080-20240426",Pn}var j0;function Fb(){if(j0)return Im.exports;j0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Im.exports=CI(),Im.exports}var U0;function PI(){if(U0)return hd;U0=1;var n=Fb();return hd.createRoot=n.createRoot,hd.hydrateRoot=n.hydrateRoot,hd}var kI=PI(),H0={};const Z0="@firebase/database",G0="1.1.0";let zb="";function EI(n){zb=n}class II{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Fe(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:m_(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class MI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e}get(t){return Ns(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Bb=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new II(t)}}catch{}return new MI},Ro=Bb("localStorage"),LI=Bb("sessionStorage");const Ja=new Eb("@firebase/database"),AI=(function(){let n=1;return function(){return n++}})(),Vb=function(n){const t=iI(n),e=new sI;e.update(t);const i=e.digest();return rI.encodeByteArray(i)},Pc=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Pc.apply(null,i):typeof i=="object"?t+=Fe(i):t+=i,t+=" "}return t};let Vu=null,K0=!0;const RI=function(n,t){ot(!0,"Can't turn on custom loggers persistently."),Ja.logLevel=g_.VERBOSE,Vu=Ja.log.bind(Ja)},ln=function(...n){if(K0===!0&&(K0=!1,Vu===null&&LI.get("logging_enabled")===!0&&RI()),Vu){const t=Pc.apply(null,n);Vu(t)}},kc=function(n){return function(...t){ln(n,...t)}},wg=function(...n){const t="FIREBASE INTERNAL ERROR: "+Pc(...n);Ja.error(t)},Ls=function(...n){const t=`FIREBASE FATAL ERROR: ${Pc(...n)}`;throw Ja.error(t),new Error(t)},Hn=function(...n){const t="FIREBASE WARNING: "+Pc(...n);Ja.warn(t)},OI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Hn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wb=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},DI=function(n){if(document.readyState==="complete")n();else{let t=!1;const e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},al="[MIN_NAME]",jo="[MAX_NAME]",_l=function(n,t){if(n===t)return 0;if(n===al||t===jo)return-1;if(t===al||n===jo)return 1;{const e=$0(n),i=$0(t);return e!==null?i!==null?e-i===0?n.length-t.length:e-i:-1:i!==null?1:n<t?-1:1}},NI=function(n,t){return n===t?0:n<t?-1:1},Tu=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+Fe(t))},S_=function(n){if(typeof n!="object"||n===null)return Fe(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)i!==0&&(e+=","),e+=Fe(t[i]),e+=":",e+=S_(n[t[i]]);return e+="}",e},jb=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let s=0;s<e;s+=t)s+t>e?i.push(n.substring(s,e)):i.push(n.substring(s,s+t));return i};function Ln(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Ub=function(n){ot(!Wb(n),"Invalid JSON number");const t=11,e=52,i=(1<<t-1)-1;let s,o,l,c,d;n===0?(o=0,l=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=c+i,l=Math.round(n*Math.pow(2,e-c)-Math.pow(2,e))):(o=0,l=Math.round(n/Math.pow(2,1-i-e))));const p=[];for(d=e;d;d-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(d=t;d;d-=1)p.push(o%2?1:0),o=Math.floor(o/2);p.push(s?1:0),p.reverse();const g=p.join("");let y="";for(d=0;d<64;d+=8){let w=parseInt(g.substr(d,8),2).toString(16);w.length===1&&(w="0"+w),y=y+w}return y.toLowerCase()},FI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function BI(n,t){let e="Unknown Error";n==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?e="Client doesn't have permission to access the desired data.":n==="unavailable"&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}const VI=new RegExp("^-?(0*)\\d{1,10}$"),WI=-2147483648,jI=2147483647,$0=function(n){if(VI.test(n)){const t=Number(n);if(t>=WI&&t<=jI)return t}return null},Ec=function(n){try{n()}catch(t){setTimeout(()=>{const e=t.stack||"";throw Hn("Exception was thrown by user callback.",e),t},Math.floor(0))}},UI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wu=function(n,t){const e=setTimeout(n,t);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};class HI{constructor(t,e){this.appCheckProvider=e,this.appName=t.name,Si(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(e=>e.addTokenListener(t))}notifyForInvalidToken(){Hn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ZI{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&e.code==="auth/token-not-initialized"?(ln("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hn(t)}}class Rd{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Rd.OWNER="owner";const b_="5",Hb="v",Zb="s",Gb="r",Kb="f",$b=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Yb="ls",qb="p",Sg="ac",Xb="websocket",Qb="long_polling";class Jb{constructor(t,e,i,s,o=!1,l="",c=!1,d=!1,p=null){this.secure=e,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ro.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ro.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function GI(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function tT(n,t,e){ot(typeof t=="string","typeof type must == string"),ot(typeof e=="object","typeof params must == object");let i;if(t===Xb)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(t===Qb)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);GI(n)&&(e.ns=n.namespace);const s=[];return Ln(e,(o,l)=>{s.push(o+"="+l)}),i+s.join("&")}class KI{constructor(){this.counters_={}}incrementCounter(t,e=1){Ns(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return lI(this.counters_)}}const Am={},Rm={};function T_(n){const t=n.toString();return Am[t]||(Am[t]=new KI),Am[t]}function $I(n,t){const e=n.toString();return Rm[e]||(Rm[e]=t()),Rm[e]}class YI{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Ec(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Y0="start",qI="close",XI="pLPCommand",QI="pRTLPCB",eT="id",nT="pw",iT="ser",JI="cb",tM="seg",eM="ts",nM="d",iM="dframe",sT=1870,rT=30,sM=sT-rT,rM=25e3,oM=3e4;class Ga{constructor(t,e,i,s,o,l,c){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=kc(t),this.stats_=T_(e),this.urlFn=d=>(this.appCheckToken&&(d[Sg]=this.appCheckToken),tT(e,Qb,d))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new YI(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(oM)),DI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new C_((...o)=>{const[l,c,d,p,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Y0)this.id=c,this.password=d;else if(l===qI)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[Y0]="t",i[iT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[JI]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Hb]=b_,this.transportSessionId&&(i[Zb]=this.transportSessionId),this.lastSessionId&&(i[Yb]=this.lastSessionId),this.applicationId&&(i[qb]=this.applicationId),this.appCheckToken&&(i[Sg]=this.appCheckToken),typeof location<"u"&&location.hostname&&$b.test(location.hostname)&&(i[Gb]=Kb);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ga.forceAllow_=!0}static forceDisallow(){Ga.forceDisallow_=!0}static isAvailable(){return Ga.forceAllow_?!0:!Ga.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FI()&&!zI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=Fe(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=uI(e),s=jb(i,sM);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const i={};i[iM]="t",i[eT]=t,i[nT]=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=Fe(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class C_{constructor(t,e,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=AI(),window[XI+this.uniqueCallbackIdentifier]=t,window[QI+this.uniqueCallbackIdentifier]=e,this.myIFrame=C_.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){ln("frame writing exception"),c.stack&&ln(c.stack),ln(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ln("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[eT]=this.myID,t[nT]=this.myPW,t[iT]=this.currentSerial;let e=this.urlFn(t),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+rT+i.length<=sT;){const l=this.pendingSegs.shift();i=i+"&"+tM+s+"="+l.seg+"&"+eM+s+"="+l.ts+"&"+nM+s+"="+l.d,s++}return e=e+i,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},s=setTimeout(i,Math.floor(rM)),o=()=>{clearTimeout(s),i()};this.addTag(t,o)}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ln("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}const aM=16384,lM=45e3;let $d=null;typeof MozWebSocket<"u"?$d=MozWebSocket:typeof WebSocket<"u"&&($d=WebSocket);class bi{constructor(t,e,i,s,o,l,c){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=kc(this.connId),this.stats_=T_(e),this.connURL=bi.connectionURL_(e,l,c,s,i),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,i,s,o){const l={};return l[Hb]=b_,typeof location<"u"&&location.hostname&&$b.test(location.hostname)&&(l[Gb]=Kb),e&&(l[Zb]=e),i&&(l[Yb]=i),s&&(l[Sg]=s),o&&(l[qb]=o),tT(t,Xb,l)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ro.set("previous_websocket_failure",!0);try{let i;cI(),this.mySock=new $d(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){bi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(e);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&$d!==null&&!bi.forceDisallow_}static previouslyFailed(){return Ro.isInMemoryStorage||Ro.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ro.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const i=m_(e);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ot(this.frames===null,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(e);else{const i=this.extractFrameCount_(e);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const e=Fe(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=jb(e,aM);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lM))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bi.responsesRequiredToBeHealthy=2;bi.healthyTimeout=3e4;class nc{static get ALL_TRANSPORTS(){return[Ga,bi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const e=bi&&bi.isAvailable();let i=e&&!bi.previouslyFailed();if(t.webSocketOnly&&(e||Hn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[bi];else{const s=this.transports_=[];for(const o of nc.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);nc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}nc.globalTransportInitialized_=!1;const uM=6e4,cM=5e3,hM=10*1024,dM=100*1024,Om="t",q0="d",fM="s",X0="r",pM="e",Q0="o",J0="a",tx="n",ex="p",mM="h";class gM{constructor(t,e,i,s,o,l,c,d,p,g){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=d,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=kc("c:"+this.id+":"),this.transportManager_=new nc(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const s=t.healthyTimeout||0;s>0&&(this.healthyTimeout_=Wu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dM?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Om in t){const e=t[Om];e===J0?this.upgradeIfSecondaryHealthy_():e===X0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===Q0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Tu("t",t),i=Tu("d",t);if(e==="c")this.onSecondaryControl_(i);else if(e==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ex,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:J0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Tu("t",t),i=Tu("d",t);e==="c"?this.onControl_(i):e==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Tu(Om,t);if(q0 in t){const i=t[q0];if(e===mM){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(e===tx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===fM?this.onConnectionShutdown_(i):e===X0?this.onReset_(i):e===pM?wg("Server Error: "+i):e===Q0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wg("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,s=t.h;this.sessionId=t.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),b_!==i&&Hn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Wu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uM))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cM))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ex,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ro.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class oT{put(t,e,i,s){}merge(t,e,i,s){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class aT{constructor(t){this.allowedEvents_=t,this.listeners_={},ot(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const s=this.getInitialEvent(t);s&&e.apply(i,s)}off(t,e,i){this.validateEventType_(t);const s=this.listeners_[t]||[];for(let o=0;o<s.length;o++)if(s[o].callback===e&&(!i||i===s[o].context)){s.splice(o,1);return}}validateEventType_(t){ot(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Yd extends aT{static getInstance(){return new Yd}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!__()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return ot(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const nx=32,ix=768;class se{constructor(t,e){if(e===void 0){this.pieces_=t.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"}}function Qt(){return new se("")}function jt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Nr(n){return n.pieces_.length-n.pieceNum_}function le(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new se(n.pieces_,t)}function lT(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function _M(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)n.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}function uT(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function cT(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new se(t,0)}function ze(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof se)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&e.push(i[s])}return new se(e,0)}function Ut(n){return n.pieceNum_>=n.pieces_.length}function _n(n,t){const e=jt(n),i=jt(t);if(e===null)return t;if(e===i)return _n(le(n),le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function P_(n,t){if(Nr(n)!==Nr(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ti(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Nr(n)>Nr(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class yM{constructor(t,e){this.errorPrefix_=e,this.parts_=uT(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Mf(this.parts_[i]);hT(this)}}function vM(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=Mf(t),hT(n)}function xM(n){const t=n.parts_.pop();n.byteLength_-=Mf(t),n.parts_.length>0&&(n.byteLength_-=1)}function hT(n){if(n.byteLength_>ix)throw new Error(n.errorPrefix_+"has a key path longer than "+ix+" bytes ("+n.byteLength_+").");if(n.parts_.length>nx)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nx+") or object contains a cycle "+Io(n))}function Io(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}class k_ extends aT{static getInstance(){return new k_}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return ot(t==="visible","Unknown event type: "+t),[this.visible_]}}const Cu=1e3,wM=300*1e3,sx=30*1e3,SM=1.3,bM=3e4,TM="server_kill",rx=3;class Ms extends oT{constructor(t,e,i,s,o,l,c,d){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=Ms.nextPersistentConnectionId_++,this.log_=kc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Cu,this.maxReconnectDelay_=wM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");k_.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Yd.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,i){const s=++this.requestNumber_,o={r:s,a:t,b:e};this.log_(Fe(o)),ot(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const e=new Mb,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?e.resolve(c):e.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),e.promise}listen(t,e,i,s){this.initConnection_();const o=t._queryIdentifier,l=t._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),ot(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ot(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:e,query:t,tag:i};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(i)})}sendListen_(t){const e=t.query,i=e._path.toString(),s=e._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i},l="q";t.tag&&(o.q=e._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(l,o,c=>{const d=c.d,p=c.s;Ms.warnOnListenWarnings_(d,e),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",c),p!=="ok"&&this.removeListen_(i,s),t.onComplete&&t.onComplete(p,d))})}static warnOnListenWarnings_(t,e){if(t&&typeof t=="object"&&Ns(t,"w")){const i=ol(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();Hn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||oI(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sx)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=aI(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(e,i,s=>{const o=s.s,l=s.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,i=t.d||"error";e==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,i)})}unlisten(t,e){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),ot(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,e)}sendUnlisten_(t,e,i,s){this.log_("Unlisten on "+t+" for "+e);const o={p:t},l="n";s&&(o.q=i,o.t=s),this.sendRequest(l,o)}onDisconnectPut(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:i})}onDisconnectMerge(t,e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:i})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,i,s){const o={p:e,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(t,e,i,s){this.putInternal("p",t,e,i,s)}merge(t,e,i,s){this.putInternal("m",t,e,i,s)}putInternal(t,e,i,s,o){this.initConnection_();const l={p:e,d:i};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:t,request:l,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,i,o=>{this.log_(e+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Fe(t));const e=t.r,i=this.requestCBHash_[e];i&&(delete this.requestCBHash_[e],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),t==="d"?this.onDataUpdate_(e.p,e.d,!1,e.t):t==="m"?this.onDataUpdate_(e.p,e.d,!0,e.t):t==="c"?this.onListenRevoked_(e.p,e.q):t==="ac"?this.onAuthRevoked_(e.s,e.d):t==="apc"?this.onAppCheckRevoked_(e.s,e.d):t==="sd"?this.onSecurityDebugPacket_(e):wg("Unrecognized action received from server: "+Fe(t)+`
Are you using the latest client?`)}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ot(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cu,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Cu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>bM&&(this.reconnectDelay_=Cu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*SM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Ms.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const d=function(){c?c.close():(l=!0,i())},p=function(y){ot(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)};this.realtime_={close:d,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,w]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?ln("getToken() completed but was canceled"):(ln("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,c=new gM(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,i,T=>{Hn(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(TM)},o))}catch(y){this.log_("Failed to get token: "+y),l||(this.repoInfo_.nodeAdmin&&Hn(y),d())}}}interrupt(t){ln("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ln("Resuming connection for reason: "+t),delete this.interruptReasons_[t],xg(this.interruptReasons_)&&(this.reconnectDelay_=Cu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let i;e?i=e.map(o=>S_(o)).join("$"):i="default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,e){const i=new se(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(e),o.delete(e),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,e){ln("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=rx&&(this.reconnectDelay_=sx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){ln("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=rx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";t["sdk."+e+"."+zb.replace(/\./g,"-")]=1,__()?t["framework.cordova"]=1:Lb()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Yd.getInstance().currentlyOnline();return xg(this.interruptReasons_)&&t}}Ms.nextPersistentConnectionId_=0;Ms.nextConnectionId_=0;class Vt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Vt(t,e)}}class Lf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Vt(al,t),s=new Vt(al,e);return this.compare(i,s)!==0}minPost(){return Vt.MIN}}let dd;class dT extends Lf{static get __EMPTY_NODE(){return dd}static set __EMPTY_NODE(t){dd=t}compare(t,e){return _l(t.name,e.name)}isDefinedOn(t){throw Tc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Vt.MIN}maxPost(){return new Vt(jo,dd)}makePost(t,e){return ot(typeof t=="string","KeyIndex indexValue must always be a string."),new Vt(t,dd)}toString(){return".key"}}const tl=new dT;class fd{constructor(t,e,i,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(t=t,l=e?i(t.key,e):1,s&&(l*=-1),l<0)this.isReverse_?t=t.left:t=t.right;else if(l===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class He{constructor(t,e,i,s,o){this.key=t,this.value=e,this.color=i??He.RED,this.left=s??In.EMPTY_NODE,this.right=o??In.EMPTY_NODE}copy(t,e,i,s,o){return new He(t??this.key,e??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const o=i(t,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(t,e,i),null):o===0?s=s.copy(null,e,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return In.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let i,s;if(i=this,e(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),e(t,i.key)===0){if(i.right.isEmpty())return In.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}He.RED=!0;He.BLACK=!1;class CM{copy(t,e,i,s,o){return this}insert(t,e,i){return new He(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class In{constructor(t,e=In.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new In(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,He.BLACK,null,null))}remove(t){return new In(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,He.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),e===0)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,s=null;for(;!i.isEmpty();)if(e=this.comparator_(t,i.key),e===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else e<0?i=i.left:e>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new fd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new fd(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new fd(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new fd(this.root_,null,this.comparator_,!0,t)}}In.EMPTY_NODE=new CM;function PM(n,t){return _l(n.name,t.name)}function E_(n,t){return _l(n,t)}let bg;function kM(n){bg=n}const fT=function(n){return typeof n=="number"?"number:"+Ub(n):"string:"+n},pT=function(n){if(n.isLeafNode()){const t=n.val();ot(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ns(t,".sv"),"Priority must be a string or number.")}else ot(n===bg||n.isEmpty(),"priority of unexpected type.");ot(n===bg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ox;class Ue{static set __childrenNodeConstructor(t){ox=t}static get __childrenNodeConstructor(){return ox}constructor(t,e=Ue.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,ot(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),pT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ue(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ut(t)?this:jt(t)===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return t===".priority"?this.updatePriority(e):e.isEmpty()&&t!==".priority"?this:Ue.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const i=jt(t);return i===null?e:e.isEmpty()&&i!==".priority"?this:(ot(i!==".priority"||Nr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ue.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+fT(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",e==="number"?t+=Ub(this.value_):t+=this.value_,this.lazyHash_=Vb(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ue.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ue.__childrenNodeConstructor?-1:(ot(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,i=typeof this.value_,s=Ue.VALUE_TYPE_ORDER.indexOf(e),o=Ue.VALUE_TYPE_ORDER.indexOf(i);return ot(s>=0,"Unknown leaf type: "+e),ot(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}else return!1}}Ue.VALUE_TYPE_ORDER=["object","boolean","number","string"];let mT,gT;function EM(n){mT=n}function IM(n){gT=n}class MM extends Lf{compare(t,e){const i=t.node.getPriority(),s=e.node.getPriority(),o=i.compareTo(s);return o===0?_l(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Vt.MIN}maxPost(){return new Vt(jo,new Ue("[PRIORITY-POST]",gT))}makePost(t,e){const i=mT(t);return new Vt(e,new Ue("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ce=new MM;const LM=Math.log(2);class AM{constructor(t){const e=o=>parseInt(Math.log(o)/LM,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;const s=i(this.count);this.bits_=t+1&s}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const qd=function(n,t,e,i){n.sort(t);const s=function(d,p){const g=p-d;let y,w;if(g===0)return null;if(g===1)return y=n[d],w=e?e(y):y,new He(w,y.node,He.BLACK,null,null);{const T=parseInt(g/2,10)+d,C=s(d,T),k=s(T+1,p);return y=n[T],w=e?e(y):y,new He(w,y.node,He.BLACK,C,k)}},o=function(d){let p=null,g=null,y=n.length;const w=function(C,k){const I=y-C,M=y;y-=C;const R=s(I+1,M),F=n[I],j=e?e(F):F;T(new He(j,F.node,k,null,R))},T=function(C){p?(p.left=C,p=C):(g=C,p=C)};for(let C=0;C<d.count;++C){const k=d.nextBitIsOne(),I=Math.pow(2,d.count-(C+1));k?w(I,He.BLACK):(w(I,He.BLACK),w(I,He.RED))}return g},l=new AM(n.length),c=o(l);return new In(i||t,c)};let Dm;const Ua={};class Ts{static get Default(){return ot(Ua&&Ce,"ChildrenNode.ts has not been loaded"),Dm=Dm||new Ts({".priority":Ua},{".priority":Ce}),Dm}constructor(t,e){this.indexes_=t,this.indexSet_=e}get(t){const e=ol(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof In?e:null}hasIndex(t){return Ns(this.indexSet_,t.toString())}addIndex(t,e){ot(t!==tl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const o=e.getIterator(Vt.Wrap);let l=o.getNext();for(;l;)s=s||t.isDefinedOn(l.node),i.push(l),l=o.getNext();let c;s?c=qd(i,t.getCompare()):c=Ua;const d=t.toString(),p={...this.indexSet_};p[d]=t;const g={...this.indexes_};return g[d]=c,new Ts(g,p)}addToIndexes(t,e){const i=Zd(this.indexes_,(s,o)=>{const l=ol(this.indexSet_,o);if(ot(l,"Missing index implementation for "+o),s===Ua)if(l.isDefinedOn(t.node)){const c=[],d=e.getIterator(Vt.Wrap);let p=d.getNext();for(;p;)p.name!==t.name&&c.push(p),p=d.getNext();return c.push(t),qd(c,l.getCompare())}else return Ua;else{const c=e.get(t.name);let d=s;return c&&(d=d.remove(new Vt(t.name,c))),d.insert(t,t.node)}});return new Ts(i,this.indexSet_)}removeFromIndexes(t,e){const i=Zd(this.indexes_,s=>{if(s===Ua)return s;{const o=e.get(t.name);return o?s.remove(new Vt(t.name,o)):s}});return new Ts(i,this.indexSet_)}}let Pu;class kt{static get EMPTY_NODE(){return Pu||(Pu=new kt(new In(E_),null,Ts.Default))}constructor(t,e,i){this.children_=t,this.priorityNode_=e,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&pT(this.priorityNode_),this.children_.isEmpty()&&ot(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pu}updatePriority(t){return this.children_.isEmpty()?this:new kt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const e=this.children_.get(t);return e===null?Pu:e}}getChild(t){const e=jt(t);return e===null?this:this.getImmediateChild(e).getChild(le(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,e){if(ot(e,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(e);{const i=new Vt(t,e);let s,o;e.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,e),o=this.indexMap_.addToIndexes(i,this.children_));const l=s.isEmpty()?Pu:this.priorityNode_;return new kt(s,l,o)}}updateChild(t,e){const i=jt(t);if(i===null)return e;{ot(jt(t)!==".priority"||Nr(t)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(le(t),e);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let i=0,s=0,o=!0;if(this.forEachChild(Ce,(l,c)=>{e[l]=c.val(t),i++,o&&kt.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):o=!1}),!t&&o&&s<2*i){const l=[];for(const c in e)l[c]=e[c];return l}else return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+fT(this.getPriority().val())+":"),this.forEachChild(Ce,(e,i)=>{const s=i.hash();s!==""&&(t+=":"+e+":"+s)}),this.lazyHash_=t===""?"":Vb(t)}return this.lazyHash_}getPredecessorChildName(t,e,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Vt(t,e));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new Vt(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const i=e.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new Vt(e,this.children_.get(e)):null}forEachChild(t,e){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>e(s.name,s.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Vt.Wrap);let o=s.peek();for(;o!=null&&e.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const i=this.resolveIndex_(e);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Vt.Wrap);let o=s.peek();for(;o!=null&&e.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ic?-1:0}withIndex(t){if(t===tl||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new kt(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===tl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority()))if(this.children_.count()===e.children_.count()){const i=this.getIterator(Ce),s=e.getIterator(Ce);let o=i.getNext(),l=s.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=i.getNext(),l=s.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(t){return t===tl?null:this.indexMap_.get(t.toString())}}kt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class RM extends kt{constructor(){super(new In(E_),kt.EMPTY_NODE,Ts.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return kt.EMPTY_NODE}isEmpty(){return!1}}const Ic=new RM;Object.defineProperties(Vt,{MIN:{value:new Vt(al,kt.EMPTY_NODE)},MAX:{value:new Vt(jo,Ic)}});dT.__EMPTY_NODE=kt.EMPTY_NODE;Ue.__childrenNodeConstructor=kt;kM(Ic);IM(Ic);const OM=!0;function qe(n,t=null){if(n===null)return kt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),ot(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const e=n;return new Ue(e,qe(t))}if(!(n instanceof Array)&&OM){const e=[];let i=!1;if(Ln(n,(l,c)=>{if(l.substring(0,1)!=="."){const d=qe(c);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),e.push(new Vt(l,d)))}}),e.length===0)return kt.EMPTY_NODE;const o=qd(e,PM,l=>l.name,E_);if(i){const l=qd(e,Ce.getCompare());return new kt(o,qe(t),new Ts({".priority":l},{".priority":Ce}))}else return new kt(o,qe(t),Ts.Default)}else{let e=kt.EMPTY_NODE;return Ln(n,(i,s)=>{if(Ns(n,i)&&i.substring(0,1)!=="."){const o=qe(s);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(qe(t))}}EM(qe);class DM extends Lf{constructor(t){super(),this.indexPath_=t,ot(!Ut(t)&&jt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),s=this.extractChild(e.node),o=i.compareTo(s);return o===0?_l(t.name,e.name):o}makePost(t,e){const i=qe(t),s=kt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Vt(e,s)}maxPost(){const t=kt.EMPTY_NODE.updateChild(this.indexPath_,Ic);return new Vt(jo,t)}toString(){return uT(this.indexPath_,0).join("/")}}class NM extends Lf{compare(t,e){const i=t.node.compareTo(e.node);return i===0?_l(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Vt.MIN}maxPost(){return Vt.MAX}makePost(t,e){const i=qe(t);return new Vt(e,i)}toString(){return".value"}}const FM=new NM;function _T(n){return{type:"value",snapshotNode:n}}function ll(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function ic(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function sc(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}function zM(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}class I_{constructor(t){this.index_=t}updateChild(t,e,i,s,o,l){ot(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=t.getImmediateChild(e);return c.getChild(s).equals(i.getChild(s))&&c.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?t.hasChild(e)?l.trackChildChange(ic(e,c)):ot(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(ll(e,i)):l.trackChildChange(sc(e,i,c))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Ce,(s,o)=>{e.hasChild(s)||i.trackChildChange(ic(s,o))}),e.isLeafNode()||e.forEachChild(Ce,(s,o)=>{if(t.hasChild(s)){const l=t.getImmediateChild(s);l.equals(o)||i.trackChildChange(sc(s,o,l))}else i.trackChildChange(ll(s,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?kt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class rc{constructor(t){this.indexedFilter_=new I_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=rc.getStartPost_(t),this.endPost_=rc.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,s,o,l){return this.matches(new Vt(e,i))||(i=kt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,s,o,l)}updateFullNode(t,e,i){e.isLeafNode()&&(e=kt.EMPTY_NODE);let s=e.withIndex(this.index_);s=s.updatePriority(kt.EMPTY_NODE);const o=this;return e.forEachChild(Ce,(l,c)=>{o.matches(new Vt(l,c))||(s=s.updateImmediateChild(l,kt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,s,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()}}class BM{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new rc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,s,o,l){return this.rangedFilter_.matches(new Vt(e,i))||(i=kt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,s,o,l):this.fullLimitUpdateChild_(t,e,i,o,l)}updateFullNode(t,e,i){let s;if(e.isLeafNode()||e.isEmpty())s=kt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){s=kt.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{s=e.withIndex(this.index_),s=s.updatePriority(kt.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let l=0;for(;o.hasNext();){const c=o.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:s=s.updateImmediateChild(c.name,kt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,s,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,s,o){let l;if(this.reverse_){const y=this.index_.getCompare();l=(w,T)=>y(T,w)}else l=this.index_.getCompare();const c=t;ot(c.numChildren()===this.limit_,"");const d=new Vt(e,i),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(c.hasChild(e)){const y=c.getImmediateChild(e);let w=s.getChildAfterChild(this.index_,p,this.reverse_);for(;w!=null&&(w.name===e||c.hasChild(w.name));)w=s.getChildAfterChild(this.index_,w,this.reverse_);const T=w==null?1:l(w,d);if(g&&!i.isEmpty()&&T>=0)return o?.trackChildChange(sc(e,i,y)),c.updateImmediateChild(e,i);{o?.trackChildChange(ic(e,y));const k=c.updateImmediateChild(e,kt.EMPTY_NODE);return w!=null&&this.rangedFilter_.matches(w)?(o?.trackChildChange(ll(w.name,w.node)),k.updateImmediateChild(w.name,w.node)):k}}else return i.isEmpty()?t:g&&l(p,d)>=0?(o!=null&&(o.trackChildChange(ic(p.name,p.node)),o.trackChildChange(ll(e,i))),c.updateImmediateChild(e,i).updateImmediateChild(p.name,kt.EMPTY_NODE)):t}}class M_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ot(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ot(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:al}hasEnd(){return this.endSet_}getIndexEndValue(){return ot(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ot(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ot(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ce}copy(){const t=new M_;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function VM(n){return n.loadsAllData()?new I_(n.getIndex()):n.hasLimit()?new BM(n):new rc(n)}function ax(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Ce?e="$priority":n.index_===FM?e="$value":n.index_===tl?e="$key":(ot(n.index_ instanceof DM,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=Fe(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=Fe(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+Fe(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=Fe(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+Fe(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function lx(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;e===""&&(n.isViewFromLeft()?e="l":e="r"),t.vf=e}return n.index_!==Ce&&(t.i=n.index_.toString()),t}class Xd extends oT{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return e!==void 0?"tag$"+e:(ot(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,e,i,s){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=kc("p:rest:"),this.listens_={}}listen(t,e,i,s){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const l=Xd.getListenId_(t,i),c={};this.listens_[l]=c;const d=ax(t._queryParams);this.restRequest_(o+".json",d,(p,g)=>{let y=g;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(o,y,!1,i),ol(this.listens_,l)===c){let w;p?p===401?w="permission_denied":w="rest_error:"+p:w="ok",s(w,null)}})}unlisten(t,e){const i=Xd.getListenId_(t,e);delete this.listens_[i]}get(t){const e=ax(t._queryParams),i=t._path.toString(),s=new Mb;return this.restRequest_(i+".json",e,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(i,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(e.auth=s.accessToken),o&&o.token&&(e.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ml(e);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=m_(c.responseText)}catch{Hn("Failed to parse JSON response for "+l+": "+c.responseText)}i(null,d)}else c.status!==401&&c.status!==404&&Hn("Got unsuccessful REST response for "+l+" Status: "+c.status),i(c.status);i=null}},c.open("GET",l,!0),c.send()})}}class WM{constructor(){this.rootNode_=kt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Qd(){return{value:null,children:new Map}}function yT(n,t,e){if(Ut(t))n.value=e,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(t,e);else{const i=jt(t);n.children.has(i)||n.children.set(i,Qd());const s=n.children.get(i);t=le(t),yT(s,t,e)}}function Tg(n,t,e){n.value!==null?e(t,n.value):jM(n,(i,s)=>{const o=new se(t.toString()+"/"+i);Tg(s,o,e)})}function jM(n,t){n.children.forEach((e,i)=>{t(i,e)})}class UM{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e={...t};return this.last_&&Ln(this.last_,(i,s)=>{e[i]=e[i]-s}),this.last_=t,e}}const ux=10*1e3,HM=30*1e3,ZM=300*1e3;class GM{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new UM(t);const i=ux+(HM-ux)*Math.random();Wu(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Ln(t,(s,o)=>{o>0&&Ns(this.statsToReport_,s)&&(e[s]=o,i=!0)}),i&&this.server_.reportStats(e),Wu(this.reportStats_.bind(this),Math.floor(Math.random()*2*ZM))}}var Ci;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ci||(Ci={}));function vT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function L_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function A_(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Jd{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ci.ACK_USER_WRITE,this.source=vT()}operationForChild(t){if(Ut(this.path)){if(this.affectedTree.value!=null)return ot(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new se(t));return new Jd(Qt(),e,this.revert)}}else return ot(jt(this.path)===t,"operationForChild called for unrelated child."),new Jd(le(this.path),this.affectedTree,this.revert)}}class oc{constructor(t,e){this.source=t,this.path=e,this.type=Ci.LISTEN_COMPLETE}operationForChild(t){return Ut(this.path)?new oc(this.source,Qt()):new oc(this.source,le(this.path))}}class Uo{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ci.OVERWRITE}operationForChild(t){return Ut(this.path)?new Uo(this.source,Qt(),this.snap.getImmediateChild(t)):new Uo(this.source,le(this.path),this.snap)}}class ac{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ci.MERGE}operationForChild(t){if(Ut(this.path)){const e=this.children.subtree(new se(t));return e.isEmpty()?null:e.value?new Uo(this.source,Qt(),e.value):new ac(this.source,Qt(),e)}else return ot(jt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ac(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Fr{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ut(t))return this.isFullyInitialized()&&!this.filtered_;const e=jt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class KM{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function $M(n,t,e,i){const s=[],o=[];return t.forEach(l=>{l.type==="child_changed"&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(zM(l.childName,l.snapshotNode))}),ku(n,s,"child_removed",t,i,e),ku(n,s,"child_added",t,i,e),ku(n,s,"child_moved",o,i,e),ku(n,s,"child_changed",t,i,e),ku(n,s,"value",t,i,e),s}function ku(n,t,e,i,s,o){const l=i.filter(c=>c.type===e);l.sort((c,d)=>qM(n,c,d)),l.forEach(c=>{const d=YM(n,c,o);s.forEach(p=>{p.respondsTo(c.type)&&t.push(p.createEvent(d,n.query_))})})}function YM(n,t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}function qM(n,t,e){if(t.childName==null||e.childName==null)throw Tc("Should only compare child_ events.");const i=new Vt(t.childName,t.snapshotNode),s=new Vt(e.childName,e.snapshotNode);return n.index_.compare(i,s)}function Af(n,t){return{eventCache:n,serverCache:t}}function ju(n,t,e,i){return Af(new Fr(t,e,i),n.serverCache)}function xT(n,t,e,i){return Af(n.eventCache,new Fr(t,e,i))}function tf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ho(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Nm;const XM=()=>(Nm||(Nm=new In(NI)),Nm);class he{static fromObject(t){let e=new he(null);return Ln(t,(i,s)=>{e=e.set(new se(i),s)}),e}constructor(t,e=XM()){this.value=t,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(this.value!=null&&e(this.value))return{path:Qt(),value:this.value};if(Ut(t))return null;{const i=jt(t),s=this.children.get(i);if(s!==null){const o=s.findRootMostMatchingPathAndValue(le(t),e);return o!=null?{path:ze(new se(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ut(t))return this;{const e=jt(t),i=this.children.get(e);return i!==null?i.subtree(le(t)):new he(null)}}set(t,e){if(Ut(t))return new he(e,this.children);{const i=jt(t),o=(this.children.get(i)||new he(null)).set(le(t),e),l=this.children.insert(i,o);return new he(this.value,l)}}remove(t){if(Ut(t))return this.children.isEmpty()?new he(null):new he(null,this.children);{const e=jt(t),i=this.children.get(e);if(i){const s=i.remove(le(t));let o;return s.isEmpty()?o=this.children.remove(e):o=this.children.insert(e,s),this.value===null&&o.isEmpty()?new he(null):new he(this.value,o)}else return this}}get(t){if(Ut(t))return this.value;{const e=jt(t),i=this.children.get(e);return i?i.get(le(t)):null}}setTree(t,e){if(Ut(t))return e;{const i=jt(t),o=(this.children.get(i)||new he(null)).setTree(le(t),e);let l;return o.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,o),new he(this.value,l)}}fold(t){return this.fold_(Qt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((s,o)=>{i[s]=o.fold_(ze(t,s),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Qt(),e)}findOnPath_(t,e,i){const s=this.value?i(e,this.value):!1;if(s)return s;if(Ut(t))return null;{const o=jt(t),l=this.children.get(o);return l?l.findOnPath_(le(t),ze(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Qt(),e)}foreachOnPath_(t,e,i){if(Ut(t))return this;{this.value&&i(e,this.value);const s=jt(t),o=this.children.get(s);return o?o.foreachOnPath_(le(t),ze(e,s),i):new he(null)}}foreach(t){this.foreach_(Qt(),t)}foreach_(t,e){this.children.inorderTraversal((i,s)=>{s.foreach_(ze(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Ei{constructor(t){this.writeTree_=t}static empty(){return new Ei(new he(null))}}function Uu(n,t,e){if(Ut(t))return new Ei(new he(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(i!=null){const s=i.path;let o=i.value;const l=_n(s,t);return o=o.updateChild(l,e),new Ei(n.writeTree_.set(s,o))}else{const s=new he(e),o=n.writeTree_.setTree(t,s);return new Ei(o)}}}function cx(n,t,e){let i=n;return Ln(e,(s,o)=>{i=Uu(i,ze(t,s),o)}),i}function hx(n,t){if(Ut(t))return Ei.empty();{const e=n.writeTree_.setTree(t,new he(null));return new Ei(e)}}function Cg(n,t){return Yo(n,t)!=null}function Yo(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return e!=null?n.writeTree_.get(e.path).getChild(_n(e.path,t)):null}function dx(n){const t=[],e=n.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(Ce,(i,s)=>{t.push(new Vt(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&t.push(new Vt(i,s.value))}),t}function Rr(n,t){if(Ut(t))return n;{const e=Yo(n,t);return e!=null?new Ei(new he(e)):new Ei(n.writeTree_.subtree(t))}}function Pg(n){return n.writeTree_.isEmpty()}function ul(n,t){return wT(Qt(),n.writeTree_,t)}function wT(n,t,e){if(t.value!=null)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((s,o)=>{s===".priority"?(ot(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):e=wT(ze(n,s),o,e)}),!e.getChild(n).isEmpty()&&i!==null&&(e=e.updateChild(ze(n,".priority"),i)),e}}function Rf(n,t){return CT(t,n)}function QM(n,t,e,i,s){ot(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:s}),s&&(n.visibleWrites=Uu(n.visibleWrites,t,e)),n.lastWriteId=i}function JM(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}function t1(n,t){const e=n.allWrites.findIndex(c=>c.writeId===t);ot(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let s=i.visible,o=!1,l=n.allWrites.length-1;for(;s&&l>=0;){const c=n.allWrites[l];c.visible&&(l>=e&&e1(c,i.path)?s=!1:Ti(i.path,c.path)&&(o=!0)),l--}if(s){if(o)return n1(n),!0;if(i.snap)n.visibleWrites=hx(n.visibleWrites,i.path);else{const c=i.children;Ln(c,d=>{n.visibleWrites=hx(n.visibleWrites,ze(i.path,d))})}return!0}else return!1}function e1(n,t){if(n.snap)return Ti(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ti(ze(n.path,e),t))return!0;return!1}function n1(n){n.visibleWrites=ST(n.allWrites,i1,Qt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function i1(n){return n.visible}function ST(n,t,e){let i=Ei.empty();for(let s=0;s<n.length;++s){const o=n[s];if(t(o)){const l=o.path;let c;if(o.snap)Ti(e,l)?(c=_n(e,l),i=Uu(i,c,o.snap)):Ti(l,e)&&(c=_n(l,e),i=Uu(i,Qt(),o.snap.getChild(c)));else if(o.children){if(Ti(e,l))c=_n(e,l),i=cx(i,c,o.children);else if(Ti(l,e))if(c=_n(l,e),Ut(c))i=cx(i,Qt(),o.children);else{const d=ol(o.children,jt(c));if(d){const p=d.getChild(le(c));i=Uu(i,Qt(),p)}}}else throw Tc("WriteRecord should have .snap or .children")}}return i}function bT(n,t,e,i,s){if(!i&&!s){const o=Yo(n.visibleWrites,t);if(o!=null)return o;{const l=Rr(n.visibleWrites,t);if(Pg(l))return e;if(e==null&&!Cg(l,Qt()))return null;{const c=e||kt.EMPTY_NODE;return ul(l,c)}}}else{const o=Rr(n.visibleWrites,t);if(!s&&Pg(o))return e;if(!s&&e==null&&!Cg(o,Qt()))return null;{const l=function(p){return(p.visible||s)&&(!i||!~i.indexOf(p.writeId))&&(Ti(p.path,t)||Ti(t,p.path))},c=ST(n.allWrites,l,t),d=e||kt.EMPTY_NODE;return ul(c,d)}}}function s1(n,t,e){let i=kt.EMPTY_NODE;const s=Yo(n.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Ce,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(e){const o=Rr(n.visibleWrites,t);return e.forEachChild(Ce,(l,c)=>{const d=ul(Rr(o,new se(l)),c);i=i.updateImmediateChild(l,d)}),dx(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const o=Rr(n.visibleWrites,t);return dx(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function r1(n,t,e,i,s){ot(i||s,"Either existingEventSnap or existingServerSnap must exist");const o=ze(t,e);if(Cg(n.visibleWrites,o))return null;{const l=Rr(n.visibleWrites,o);return Pg(l)?s.getChild(e):ul(l,s.getChild(e))}}function o1(n,t,e,i){const s=ze(t,e),o=Yo(n.visibleWrites,s);if(o!=null)return o;if(i.isCompleteForChild(e)){const l=Rr(n.visibleWrites,s);return ul(l,i.getNode().getImmediateChild(e))}else return null}function a1(n,t){return Yo(n.visibleWrites,t)}function l1(n,t,e,i,s,o,l){let c;const d=Rr(n.visibleWrites,t),p=Yo(d,Qt());if(p!=null)c=p;else if(e!=null)c=ul(d,e);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],y=l.getCompare(),w=o?c.getReverseIteratorFrom(i,l):c.getIteratorFrom(i,l);let T=w.getNext();for(;T&&g.length<s;)y(T,i)!==0&&g.push(T),T=w.getNext();return g}else return[]}function u1(){return{visibleWrites:Ei.empty(),allWrites:[],lastWriteId:-1}}function ef(n,t,e,i){return bT(n.writeTree,n.treePath,t,e,i)}function R_(n,t){return s1(n.writeTree,n.treePath,t)}function fx(n,t,e,i){return r1(n.writeTree,n.treePath,t,e,i)}function nf(n,t){return a1(n.writeTree,ze(n.treePath,t))}function c1(n,t,e,i,s,o){return l1(n.writeTree,n.treePath,t,e,i,s,o)}function O_(n,t,e){return o1(n.writeTree,n.treePath,t,e)}function TT(n,t){return CT(ze(n.treePath,t),n.writeTree)}function CT(n,t){return{treePath:n,writeTree:t}}class h1{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;ot(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),ot(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const o=s.type;if(e==="child_added"&&o==="child_removed")this.changeMap.set(i,sc(i,t.snapshotNode,s.snapshotNode));else if(e==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(e==="child_removed"&&o==="child_changed")this.changeMap.set(i,ic(i,s.oldSnap));else if(e==="child_changed"&&o==="child_added")this.changeMap.set(i,ll(i,t.snapshotNode));else if(e==="child_changed"&&o==="child_changed")this.changeMap.set(i,sc(i,t.snapshotNode,s.oldSnap));else throw Tc("Illegal combination of changes: "+t+" occurred after "+s)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}class d1{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}}const PT=new d1;class D_{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new Fr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return O_(this.writes_,t,i)}}getChildAfterChild(t,e,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ho(this.viewCache_),o=c1(this.writes_,s,e,1,i,t);return o.length===0?null:o[0]}}function f1(n){return{filter:n}}function p1(n,t){ot(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ot(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function m1(n,t,e,i,s){const o=new h1;let l,c;if(e.type===Ci.OVERWRITE){const p=e;p.source.fromUser?l=kg(n,t,p.path,p.snap,i,s,o):(ot(p.source.fromServer,"Unknown source."),c=p.source.tagged||t.serverCache.isFiltered()&&!Ut(p.path),l=sf(n,t,p.path,p.snap,i,s,c,o))}else if(e.type===Ci.MERGE){const p=e;p.source.fromUser?l=_1(n,t,p.path,p.children,i,s,o):(ot(p.source.fromServer,"Unknown source."),c=p.source.tagged||t.serverCache.isFiltered(),l=Eg(n,t,p.path,p.children,i,s,c,o))}else if(e.type===Ci.ACK_USER_WRITE){const p=e;p.revert?l=x1(n,t,p.path,i,s,o):l=y1(n,t,p.path,p.affectedTree,i,s,o)}else if(e.type===Ci.LISTEN_COMPLETE)l=v1(n,t,e.path,i,o);else throw Tc("Unknown operation type: "+e.type);const d=o.getChanges();return g1(t,l,d),{viewCache:l,changes:d}}function g1(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=tf(n);(e.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(_T(tf(t)))}}function kT(n,t,e,i,s,o){const l=t.eventCache;if(nf(i,e)!=null)return t;{let c,d;if(Ut(e))if(ot(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=Ho(t),g=p instanceof kt?p:kt.EMPTY_NODE,y=R_(i,g);c=n.filter.updateFullNode(t.eventCache.getNode(),y,o)}else{const p=ef(i,Ho(t));c=n.filter.updateFullNode(t.eventCache.getNode(),p,o)}else{const p=jt(e);if(p===".priority"){ot(Nr(e)===1,"Can't have a priority with additional path components");const g=l.getNode();d=t.serverCache.getNode();const y=fx(i,e,g,d);y!=null?c=n.filter.updatePriority(g,y):c=l.getNode()}else{const g=le(e);let y;if(l.isCompleteForChild(p)){d=t.serverCache.getNode();const w=fx(i,e,l.getNode(),d);w!=null?y=l.getNode().getImmediateChild(p).updateChild(g,w):y=l.getNode().getImmediateChild(p)}else y=O_(i,p,t.serverCache);y!=null?c=n.filter.updateChild(l.getNode(),p,y,g,s,o):c=l.getNode()}}return ju(t,c,l.isFullyInitialized()||Ut(e),n.filter.filtersNodes())}}function sf(n,t,e,i,s,o,l,c){const d=t.serverCache;let p;const g=l?n.filter:n.filter.getIndexedFilter();if(Ut(e))p=g.updateFullNode(d.getNode(),i,null);else if(g.filtersNodes()&&!d.isFiltered()){const T=d.getNode().updateChild(e,i);p=g.updateFullNode(d.getNode(),T,null)}else{const T=jt(e);if(!d.isCompleteForPath(e)&&Nr(e)>1)return t;const C=le(e),I=d.getNode().getImmediateChild(T).updateChild(C,i);T===".priority"?p=g.updatePriority(d.getNode(),I):p=g.updateChild(d.getNode(),T,I,C,PT,null)}const y=xT(t,p,d.isFullyInitialized()||Ut(e),g.filtersNodes()),w=new D_(s,y,o);return kT(n,y,e,s,w,c)}function kg(n,t,e,i,s,o,l){const c=t.eventCache;let d,p;const g=new D_(s,t,o);if(Ut(e))p=n.filter.updateFullNode(t.eventCache.getNode(),i,l),d=ju(t,p,!0,n.filter.filtersNodes());else{const y=jt(e);if(y===".priority")p=n.filter.updatePriority(t.eventCache.getNode(),i),d=ju(t,p,c.isFullyInitialized(),c.isFiltered());else{const w=le(e),T=c.getNode().getImmediateChild(y);let C;if(Ut(w))C=i;else{const k=g.getCompleteChild(y);k!=null?lT(w)===".priority"&&k.getChild(cT(w)).isEmpty()?C=k:C=k.updateChild(w,i):C=kt.EMPTY_NODE}if(T.equals(C))d=t;else{const k=n.filter.updateChild(c.getNode(),y,C,w,g,l);d=ju(t,k,c.isFullyInitialized(),n.filter.filtersNodes())}}}return d}function px(n,t){return n.eventCache.isCompleteForChild(t)}function _1(n,t,e,i,s,o,l){let c=t;return i.foreach((d,p)=>{const g=ze(e,d);px(t,jt(g))&&(c=kg(n,c,g,p,s,o,l))}),i.foreach((d,p)=>{const g=ze(e,d);px(t,jt(g))||(c=kg(n,c,g,p,s,o,l))}),c}function mx(n,t,e){return e.foreach((i,s)=>{t=t.updateChild(i,s)}),t}function Eg(n,t,e,i,s,o,l,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,p;Ut(e)?p=i:p=new he(null).setTree(e,i);const g=t.serverCache.getNode();return p.children.inorderTraversal((y,w)=>{if(g.hasChild(y)){const T=t.serverCache.getNode().getImmediateChild(y),C=mx(n,T,w);d=sf(n,d,new se(y),C,s,o,l,c)}}),p.children.inorderTraversal((y,w)=>{const T=!t.serverCache.isCompleteForChild(y)&&w.value===null;if(!g.hasChild(y)&&!T){const C=t.serverCache.getNode().getImmediateChild(y),k=mx(n,C,w);d=sf(n,d,new se(y),k,s,o,l,c)}}),d}function y1(n,t,e,i,s,o,l){if(nf(s,e)!=null)return t;const c=t.serverCache.isFiltered(),d=t.serverCache;if(i.value!=null){if(Ut(e)&&d.isFullyInitialized()||d.isCompleteForPath(e))return sf(n,t,e,d.getNode().getChild(e),s,o,c,l);if(Ut(e)){let p=new he(null);return d.getNode().forEachChild(tl,(g,y)=>{p=p.set(new se(g),y)}),Eg(n,t,e,p,s,o,c,l)}else return t}else{let p=new he(null);return i.foreach((g,y)=>{const w=ze(e,g);d.isCompleteForPath(w)&&(p=p.set(g,d.getNode().getChild(w)))}),Eg(n,t,e,p,s,o,c,l)}}function v1(n,t,e,i,s){const o=t.serverCache,l=xT(t,o.getNode(),o.isFullyInitialized()||Ut(e),o.isFiltered());return kT(n,l,e,i,PT,s)}function x1(n,t,e,i,s,o){let l;if(nf(i,e)!=null)return t;{const c=new D_(i,t,s),d=t.eventCache.getNode();let p;if(Ut(e)||jt(e)===".priority"){let g;if(t.serverCache.isFullyInitialized())g=ef(i,Ho(t));else{const y=t.serverCache.getNode();ot(y instanceof kt,"serverChildren would be complete if leaf node"),g=R_(i,y)}g=g,p=n.filter.updateFullNode(d,g,o)}else{const g=jt(e);let y=O_(i,g,t.serverCache);y==null&&t.serverCache.isCompleteForChild(g)&&(y=d.getImmediateChild(g)),y!=null?p=n.filter.updateChild(d,g,y,le(e),c,o):t.eventCache.getNode().hasChild(g)?p=n.filter.updateChild(d,g,kt.EMPTY_NODE,le(e),c,o):p=d,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=ef(i,Ho(t)),l.isLeafNode()&&(p=n.filter.updateFullNode(p,l,o)))}return l=t.serverCache.isFullyInitialized()||nf(i,Qt())!=null,ju(t,p,l,n.filter.filtersNodes())}}class w1{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new I_(i.getIndex()),o=VM(i);this.processor_=f1(o);const l=e.serverCache,c=e.eventCache,d=s.updateFullNode(kt.EMPTY_NODE,l.getNode(),null),p=o.updateFullNode(kt.EMPTY_NODE,c.getNode(),null),g=new Fr(d,l.isFullyInitialized(),s.filtersNodes()),y=new Fr(p,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=Af(y,g),this.eventGenerator_=new KM(this.query_)}get query(){return this.query_}}function S1(n){return n.viewCache_.serverCache.getNode()}function b1(n){return tf(n.viewCache_)}function T1(n,t){const e=Ho(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Ut(t)&&!e.getImmediateChild(jt(t)).isEmpty())?e.getChild(t):null}function gx(n){return n.eventRegistrations_.length===0}function C1(n,t){n.eventRegistrations_.push(t)}function _x(n,t,e){const i=[];if(e){ot(t==null,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(e,s);l&&i.push(l)})}if(t){let s=[];for(let o=0;o<n.eventRegistrations_.length;++o){const l=n.eventRegistrations_[o];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function yx(n,t,e,i){t.type===Ci.MERGE&&t.source.queryId!==null&&(ot(Ho(n.viewCache_),"We should always have a full cache before handling merges"),ot(tf(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,o=m1(n.processor_,s,t,e,i);return p1(n.processor_,o.viewCache),ot(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,ET(n,o.changes,o.viewCache.eventCache.getNode(),null)}function P1(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ce,(o,l)=>{i.push(ll(o,l))}),e.isFullyInitialized()&&i.push(_T(e.getNode())),ET(n,i,e.getNode(),t)}function ET(n,t,e,i){const s=i?[i]:n.eventRegistrations_;return $M(n.eventGenerator_,t,e,s)}let rf;class IT{constructor(){this.views=new Map}}function k1(n){ot(!rf,"__referenceConstructor has already been defined"),rf=n}function E1(){return ot(rf,"Reference.ts has not been loaded"),rf}function I1(n){return n.views.size===0}function N_(n,t,e,i){const s=t.source.queryId;if(s!==null){const o=n.views.get(s);return ot(o!=null,"SyncTree gave us an op for an invalid query."),yx(o,t,e,i)}else{let o=[];for(const l of n.views.values())o=o.concat(yx(l,t,e,i));return o}}function MT(n,t,e,i,s){const o=t._queryIdentifier,l=n.views.get(o);if(!l){let c=ef(e,s?i:null),d=!1;c?d=!0:i instanceof kt?(c=R_(e,i),d=!1):(c=kt.EMPTY_NODE,d=!1);const p=Af(new Fr(c,d,!1),new Fr(i,s,!1));return new w1(t,p)}return l}function M1(n,t,e,i,s,o){const l=MT(n,t,i,s,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,l),C1(l,e),P1(l,e)}function L1(n,t,e,i){const s=t._queryIdentifier,o=[];let l=[];const c=zr(n);if(s==="default")for(const[d,p]of n.views.entries())l=l.concat(_x(p,e,i)),gx(p)&&(n.views.delete(d),p.query._queryParams.loadsAllData()||o.push(p.query));else{const d=n.views.get(s);d&&(l=l.concat(_x(d,e,i)),gx(d)&&(n.views.delete(s),d.query._queryParams.loadsAllData()||o.push(d.query)))}return c&&!zr(n)&&o.push(new(E1())(t._repo,t._path)),{removed:o,events:l}}function LT(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Or(n,t){let e=null;for(const i of n.views.values())e=e||T1(i,t);return e}function AT(n,t){if(t._queryParams.loadsAllData())return Of(n);{const i=t._queryIdentifier;return n.views.get(i)}}function RT(n,t){return AT(n,t)!=null}function zr(n){return Of(n)!=null}function Of(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let of;function A1(n){ot(!of,"__referenceConstructor has already been defined"),of=n}function R1(){return ot(of,"Reference.ts has not been loaded"),of}let O1=1;class vx{constructor(t){this.listenProvider_=t,this.syncPointTree_=new he(null),this.pendingWriteTree_=u1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function D1(n,t,e,i,s){return QM(n.pendingWriteTree_,t,e,i,s),s?Lc(n,new Uo(vT(),t,e)):[]}function Ka(n,t,e=!1){const i=JM(n.pendingWriteTree_,t);if(t1(n.pendingWriteTree_,t)){let o=new he(null);return i.snap!=null?o=o.set(Qt(),!0):Ln(i.children,l=>{o=o.set(new se(l),!0)}),Lc(n,new Jd(i.path,o,e))}else return[]}function Mc(n,t,e){return Lc(n,new Uo(L_(),t,e))}function N1(n,t,e){const i=he.fromObject(e);return Lc(n,new ac(L_(),t,i))}function F1(n,t){return Lc(n,new oc(L_(),t))}function z1(n,t,e){const i=F_(n,e);if(i){const s=z_(i),o=s.path,l=s.queryId,c=_n(o,t),d=new oc(A_(l),c);return B_(n,o,d)}else return[]}function af(n,t,e,i,s=!1){const o=t._path,l=n.syncPointTree_.get(o);let c=[];if(l&&(t._queryIdentifier==="default"||RT(l,t))){const d=L1(l,t,e,i);I1(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const p=d.removed;if(c=d.events,!s){const g=p.findIndex(w=>w._queryParams.loadsAllData())!==-1,y=n.syncPointTree_.findOnPath(o,(w,T)=>zr(T));if(g&&!y){const w=n.syncPointTree_.subtree(o);if(!w.isEmpty()){const T=W1(w);for(let C=0;C<T.length;++C){const k=T[C],I=k.query,M=zT(n,k);n.listenProvider_.startListening(Hu(I),lc(n,I),M.hashFn,M.onComplete)}}}!y&&p.length>0&&!i&&(g?n.listenProvider_.stopListening(Hu(t),null):p.forEach(w=>{const T=n.queryToTagMap.get(Df(w));n.listenProvider_.stopListening(Hu(w),T)}))}j1(n,p)}return c}function OT(n,t,e,i){const s=F_(n,i);if(s!=null){const o=z_(s),l=o.path,c=o.queryId,d=_n(l,t),p=new Uo(A_(c),d,e);return B_(n,l,p)}else return[]}function B1(n,t,e,i){const s=F_(n,i);if(s){const o=z_(s),l=o.path,c=o.queryId,d=_n(l,t),p=he.fromObject(e),g=new ac(A_(c),d,p);return B_(n,l,g)}else return[]}function Ig(n,t,e,i=!1){const s=t._path;let o=null,l=!1;n.syncPointTree_.foreachOnPath(s,(w,T)=>{const C=_n(w,s);o=o||Or(T,C),l=l||zr(T)});let c=n.syncPointTree_.get(s);c?(l=l||zr(c),o=o||Or(c,Qt())):(c=new IT,n.syncPointTree_=n.syncPointTree_.set(s,c));let d;o!=null?d=!0:(d=!1,o=kt.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((T,C)=>{const k=Or(C,Qt());k&&(o=o.updateImmediateChild(T,k))}));const p=RT(c,t);if(!p&&!t._queryParams.loadsAllData()){const w=Df(t);ot(!n.queryToTagMap.has(w),"View does not exist, but we have a tag");const T=U1();n.queryToTagMap.set(w,T),n.tagToQueryMap.set(T,w)}const g=Rf(n.pendingWriteTree_,s);let y=M1(c,t,e,g,o,d);if(!p&&!l&&!i){const w=AT(c,t);y=y.concat(H1(n,t,w))}return y}function DT(n,t,e){const s=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(l,c)=>{const d=_n(l,t),p=Or(c,d);if(p)return p});return bT(s,t,o,e,!0)}function V1(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(p,g)=>{const y=_n(p,e);i=i||Or(g,y)});let s=n.syncPointTree_.get(e);s?i=i||Or(s,Qt()):(s=new IT,n.syncPointTree_=n.syncPointTree_.set(e,s));const o=i!=null,l=o?new Fr(i,!0,!1):null,c=Rf(n.pendingWriteTree_,t._path),d=MT(s,t,c,o?l.getNode():kt.EMPTY_NODE,o);return b1(d)}function Lc(n,t){return NT(t,n.syncPointTree_,null,Rf(n.pendingWriteTree_,Qt()))}function NT(n,t,e,i){if(Ut(n.path))return FT(n,t,e,i);{const s=t.get(Qt());e==null&&s!=null&&(e=Or(s,Qt()));let o=[];const l=jt(n.path),c=n.operationForChild(l),d=t.children.get(l);if(d&&c){const p=e?e.getImmediateChild(l):null,g=TT(i,l);o=o.concat(NT(c,d,p,g))}return s&&(o=o.concat(N_(s,n,i,e))),o}}function FT(n,t,e,i){const s=t.get(Qt());e==null&&s!=null&&(e=Or(s,Qt()));let o=[];return t.children.inorderTraversal((l,c)=>{const d=e?e.getImmediateChild(l):null,p=TT(i,l),g=n.operationForChild(l);g&&(o=o.concat(FT(g,c,d,p)))}),s&&(o=o.concat(N_(s,n,i,e))),o}function zT(n,t){const e=t.query,i=lc(n,e);return{hashFn:()=>(S1(t)||kt.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?z1(n,e._path,i):F1(n,e._path);{const o=BI(s,e);return af(n,e,null,o)}}}}function lc(n,t){const e=Df(t);return n.queryToTagMap.get(e)}function Df(n){return n._path.toString()+"$"+n._queryIdentifier}function F_(n,t){return n.tagToQueryMap.get(t)}function z_(n){const t=n.indexOf("$");return ot(t!==-1&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new se(n.substr(0,t))}}function B_(n,t,e){const i=n.syncPointTree_.get(t);ot(i,"Missing sync point for query tag that we're tracking");const s=Rf(n.pendingWriteTree_,t);return N_(i,e,s,null)}function W1(n){return n.fold((t,e,i)=>{if(e&&zr(e))return[Of(e)];{let s=[];return e&&(s=LT(e)),Ln(i,(o,l)=>{s=s.concat(l)}),s}})}function Hu(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(R1())(n._repo,n._path):n}function j1(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const s=Df(i),o=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(o)}}}function U1(){return O1++}function H1(n,t,e){const i=t._path,s=lc(n,t),o=zT(n,e),l=n.listenProvider_.startListening(Hu(t),s,o.hashFn,o.onComplete),c=n.syncPointTree_.subtree(i);if(s)ot(!zr(c.value),"If we're adding a query, it shouldn't be shadowed");else{const d=c.fold((p,g,y)=>{if(!Ut(p)&&g&&zr(g))return[Of(g).query];{let w=[];return g&&(w=w.concat(LT(g).map(T=>T.query))),Ln(y,(T,C)=>{w=w.concat(C)}),w}});for(let p=0;p<d.length;++p){const g=d[p];n.listenProvider_.stopListening(Hu(g),lc(n,g))}}return l}class V_{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new V_(e)}node(){return this.node_}}class W_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ze(this.path_,t);return new W_(this.syncTree_,e)}node(){return DT(this.syncTree_,this.path_)}}const Z1=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},xx=function(n,t,e){if(!n||typeof n!="object")return n;if(ot(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return G1(n[".sv"],t,e);if(typeof n[".sv"]=="object")return K1(n[".sv"],t);ot(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},G1=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:ot(!1,"Unexpected server value: "+n)}},K1=function(n,t,e){n.hasOwnProperty("increment")||ot(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&ot(!1,"Unexpected increment value: "+i);const s=t.node();if(ot(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const l=s.getValue();return typeof l!="number"?i:l+i},$1=function(n,t,e,i){return j_(t,new W_(e,n),i)},Y1=function(n,t,e){return j_(n,new V_(t),e)};function j_(n,t,e){const i=n.getPriority().val(),s=xx(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const l=n,c=xx(l.getValue(),t,e);return c!==l.getValue()||s!==l.getPriority().val()?new Ue(c,qe(s)):n}else{const l=n;return o=l,s!==l.getPriority().val()&&(o=o.updatePriority(new Ue(s))),l.forEachChild(Ce,(c,d)=>{const p=j_(d,t.getImmediateChild(c),e);p!==d&&(o=o.updateImmediateChild(c,p))}),o}}class U_{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function H_(n,t){let e=t instanceof se?t:new se(t),i=n,s=jt(e);for(;s!==null;){const o=ol(i.node.children,s)||{children:{},childCount:0};i=new U_(s,i,o),e=le(e),s=jt(e)}return i}function yl(n){return n.node.value}function BT(n,t){n.node.value=t,Mg(n)}function VT(n){return n.node.childCount>0}function q1(n){return yl(n)===void 0&&!VT(n)}function Nf(n,t){Ln(n.node.children,(e,i)=>{t(new U_(e,n,i))})}function WT(n,t,e,i){e&&t(n),Nf(n,s=>{WT(s,t,!0)})}function X1(n,t,e){let i=n.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Ac(n){return new se(n.parent===null?n.name:Ac(n.parent)+"/"+n.name)}function Mg(n){n.parent!==null&&Q1(n.parent,n.name,n)}function Q1(n,t,e){const i=q1(e),s=Ns(n.node.children,t);i&&s?(delete n.node.children[t],n.node.childCount--,Mg(n)):!i&&!s&&(n.node.children[t]=e.node,n.node.childCount++,Mg(n))}const J1=/[\[\].#$\/\u0000-\u001F\u007F]/,tL=/[\[\].#$\u0000-\u001F\u007F]/,Fm=10*1024*1024,jT=function(n){return typeof n=="string"&&n.length!==0&&!J1.test(n)},UT=function(n){return typeof n=="string"&&n.length!==0&&!tL.test(n)},eL=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),UT(n)},HT=function(n,t,e){const i=e instanceof se?new yM(e,n):e;if(t===void 0)throw new Error(n+"contains undefined "+Io(i));if(typeof t=="function")throw new Error(n+"contains a function "+Io(i)+" with contents = "+t.toString());if(Wb(t))throw new Error(n+"contains "+t.toString()+" "+Io(i));if(typeof t=="string"&&t.length>Fm/3&&Mf(t)>Fm)throw new Error(n+"contains a string greater than "+Fm+" utf8 bytes "+Io(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let s=!1,o=!1;if(Ln(t,(l,c)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!jT(l)))throw new Error(n+" contains an invalid key ("+l+") "+Io(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vM(i,l),HT(n,c,i),xM(i)}),s&&o)throw new Error(n+' contains ".value" child '+Io(i)+" in addition to actual children.")}},ZT=function(n,t,e,i){if(!UT(e))throw new Error(Ib(n,t)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},nL=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ZT(n,t,e)},iL=function(n,t){const e=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!jT(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!eL(e))throw new Error(Ib(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class sL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function GT(n,t){let e=null;for(let i=0;i<t.length;i++){const s=t[i],o=s.getPath();e!==null&&!P_(o,e.path)&&(n.eventLists_.push(e),e=null),e===null&&(e={events:[],path:o}),e.events.push(s)}e&&n.eventLists_.push(e)}function KT(n,t,e){GT(n,e),$T(n,i=>P_(i,t))}function jr(n,t,e){GT(n,e),$T(n,i=>Ti(i,t)||Ti(t,i))}function $T(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const o=s.path;t(o)?(rL(n.eventLists_[i]),n.eventLists_[i]=null):e=!1}}e&&(n.eventLists_=[]),n.recursionDepth_--}function rL(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(e!==null){n.events[t]=null;const i=e.getEventRunner();Vu&&ln("event: "+e.toString()),Ec(i)}}}const oL="repo_interrupt",aL=25;class lL{constructor(t,e,i,s){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qd(),this.transactionQueueTree_=new U_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uL(n,t,e){if(n.stats_=T_(n.repoInfo_),n.forceRestClient_||UI())n.server_=new Xd(n.repoInfo_,(i,s,o,l)=>{wx(n,i,s,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Sx(n,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fe(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ms(n.repoInfo_,t,(i,s,o,l)=>{wx(n,i,s,o,l)},i=>{Sx(n,i)},i=>{hL(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=$I(n.repoInfo_,()=>new GM(n.stats_,n.server_)),n.infoData_=new WM,n.infoSyncTree_=new vx({startListening:(i,s,o,l)=>{let c=[];const d=n.infoData_.getNode(i._path);return d.isEmpty()||(c=Mc(n.infoSyncTree_,i._path,d),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),Z_(n,"connected",!1),n.serverSyncTree_=new vx({startListening:(i,s,o,l)=>(n.server_.listen(i,o,s,(c,d)=>{const p=l(c,d);jr(n.eventQueue_,i._path,p)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function cL(n){const e=n.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function YT(n){return Z1({timestamp:cL(n)})}function wx(n,t,e,i,s){n.dataUpdateCount++;const o=new se(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let l=[];if(s)if(i){const d=Zd(e,p=>qe(p));l=B1(n.serverSyncTree_,o,d,s)}else{const d=qe(e);l=OT(n.serverSyncTree_,o,d,s)}else if(i){const d=Zd(e,p=>qe(p));l=N1(n.serverSyncTree_,o,d)}else{const d=qe(e);l=Mc(n.serverSyncTree_,o,d)}let c=o;l.length>0&&(c=$_(n,o)),jr(n.eventQueue_,c,l)}function Sx(n,t){Z_(n,"connected",t),t===!1&&pL(n)}function hL(n,t){Ln(t,(e,i)=>{Z_(n,e,i)})}function Z_(n,t,e){const i=new se("/.info/"+t),s=qe(e);n.infoData_.updateSnapshot(i,s);const o=Mc(n.infoSyncTree_,i,s);jr(n.eventQueue_,i,o)}function dL(n){return n.nextWriteId_++}function fL(n,t,e){const i=V1(n.serverSyncTree_,t);return i!=null?Promise.resolve(i):n.server_.get(t).then(s=>{const o=qe(s).withIndex(t._queryParams.getIndex());Ig(n.serverSyncTree_,t,e,!0);let l;if(t._queryParams.loadsAllData())l=Mc(n.serverSyncTree_,t._path,o);else{const c=lc(n.serverSyncTree_,t);l=OT(n.serverSyncTree_,t._path,o,c)}return jr(n.eventQueue_,t._path,l),af(n.serverSyncTree_,t,e,null,!0),o},s=>(G_(n,"get for query "+Fe(t)+" failed: "+s),Promise.reject(new Error(s))))}function pL(n){G_(n,"onDisconnectEvents");const t=YT(n),e=Qd();Tg(n.onDisconnect_,Qt(),(s,o)=>{const l=$1(s,o,n.serverSyncTree_,t);yT(e,s,l)});let i=[];Tg(e,Qt(),(s,o)=>{i=i.concat(Mc(n.serverSyncTree_,s,o));const l=xL(n,s);$_(n,l)}),n.onDisconnect_=Qd(),jr(n.eventQueue_,Qt(),i)}function mL(n,t,e){let i;jt(t._path)===".info"?i=Ig(n.infoSyncTree_,t,e):i=Ig(n.serverSyncTree_,t,e),KT(n.eventQueue_,t._path,i)}function gL(n,t,e){let i;jt(t._path)===".info"?i=af(n.infoSyncTree_,t,e):i=af(n.serverSyncTree_,t,e),KT(n.eventQueue_,t._path,i)}function _L(n){n.persistentConnection_&&n.persistentConnection_.interrupt(oL)}function G_(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ln(e,...t)}function qT(n,t,e){return DT(n.serverSyncTree_,t,e)||kt.EMPTY_NODE}function K_(n,t=n.transactionQueueTree_){if(t||Ff(n,t),yl(t)){const e=QT(n,t);ot(e.length>0,"Sending zero length transaction queue"),e.every(s=>s.status===0)&&yL(n,Ac(t),e)}else VT(t)&&Nf(t,e=>{K_(n,e)})}function yL(n,t,e){const i=e.map(p=>p.currentWriteId),s=qT(n,t,i);let o=s;const l=s.hash();for(let p=0;p<e.length;p++){const g=e[p];ot(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=_n(t,g.path);o=o.updateChild(y,g.currentOutputSnapshotRaw)}const c=o.val(!0),d=t;n.server_.put(d.toString(),c,p=>{G_(n,"transaction put response",{path:d.toString(),status:p});let g=[];if(p==="ok"){const y=[];for(let w=0;w<e.length;w++)e[w].status=2,g=g.concat(Ka(n.serverSyncTree_,e[w].currentWriteId)),e[w].onComplete&&y.push(()=>e[w].onComplete(null,!0,e[w].currentOutputSnapshotResolved)),e[w].unwatcher();Ff(n,H_(n.transactionQueueTree_,t)),K_(n,n.transactionQueueTree_),jr(n.eventQueue_,t,g);for(let w=0;w<y.length;w++)Ec(y[w])}else{if(p==="datastale")for(let y=0;y<e.length;y++)e[y].status===3?e[y].status=4:e[y].status=0;else{Hn("transaction at "+d.toString()+" failed: "+p);for(let y=0;y<e.length;y++)e[y].status=4,e[y].abortReason=p}$_(n,t)}},l)}function $_(n,t){const e=XT(n,t),i=Ac(e),s=QT(n,e);return vL(n,s,i),i}function vL(n,t,e){if(t.length===0)return;const i=[];let s=[];const l=t.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const d=t[c],p=_n(e,d.path);let g=!1,y;if(ot(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,s=s.concat(Ka(n.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=aL)g=!0,y="maxretry",s=s.concat(Ka(n.serverSyncTree_,d.currentWriteId,!0));else{const w=qT(n,d.path,l);d.currentInputSnapshot=w;const T=t[c].update(w.val());if(T!==void 0){HT("transaction failed: Data returned ",T,d.path);let C=qe(T);typeof T=="object"&&T!=null&&Ns(T,".priority")||(C=C.updatePriority(w.getPriority()));const I=d.currentWriteId,M=YT(n),R=Y1(C,w,M);d.currentOutputSnapshotRaw=C,d.currentOutputSnapshotResolved=R,d.currentWriteId=dL(n),l.splice(l.indexOf(I),1),s=s.concat(D1(n.serverSyncTree_,d.path,R,d.currentWriteId,d.applyLocally)),s=s.concat(Ka(n.serverSyncTree_,I,!0))}else g=!0,y="nodata",s=s.concat(Ka(n.serverSyncTree_,d.currentWriteId,!0))}jr(n.eventQueue_,e,s),s=[],g&&(t[c].status=2,(function(w){setTimeout(w,Math.floor(0))})(t[c].unwatcher),t[c].onComplete&&(y==="nodata"?i.push(()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot)):i.push(()=>t[c].onComplete(new Error(y),!1,null))))}Ff(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)Ec(i[c]);K_(n,n.transactionQueueTree_)}function XT(n,t){let e,i=n.transactionQueueTree_;for(e=jt(t);e!==null&&yl(i)===void 0;)i=H_(i,e),t=le(t),e=jt(t);return i}function QT(n,t){const e=[];return JT(n,t,e),e.sort((i,s)=>i.order-s.order),e}function JT(n,t,e){const i=yl(t);if(i)for(let s=0;s<i.length;s++)e.push(i[s]);Nf(t,s=>{JT(n,s,e)})}function Ff(n,t){const e=yl(t);if(e){let i=0;for(let s=0;s<e.length;s++)e[s].status!==2&&(e[i]=e[s],i++);e.length=i,BT(t,e.length>0?e:void 0)}Nf(t,i=>{Ff(n,i)})}function xL(n,t){const e=Ac(XT(n,t)),i=H_(n.transactionQueueTree_,t);return X1(i,s=>{zm(n,s)}),zm(n,i),WT(i,s=>{zm(n,s)}),e}function zm(n,t){const e=yl(t);if(e){const i=[];let s=[],o=-1;for(let l=0;l<e.length;l++)e[l].status===3||(e[l].status===1?(ot(o===l-1,"All SENT items should be at beginning of queue."),o=l,e[l].status=3,e[l].abortReason="set"):(ot(e[l].status===0,"Unexpected transaction status in abort"),e[l].unwatcher(),s=s.concat(Ka(n.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&i.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?BT(t,void 0):e.length=o+1,jr(n.eventQueue_,Ac(t),s);for(let l=0;l<i.length;l++)Ec(i[l])}}function wL(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let s=e[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}t+="/"+s}return t}function SL(n){const t={};n.charAt(0)==="?"&&(n=n.substring(1));for(const e of n.split("&")){if(e.length===0)continue;const i=e.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Hn(`Invalid query segment '${e}' in query '${n}'`)}return t}const bx=function(n,t){const e=bL(n),i=e.namespace;e.domain==="firebase.com"&&Ls(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&e.domain!=="localhost"&&Ls("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||OI();const s=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new Jb(e.host,e.secure,i,s,t,"",i!==e.subdomain),path:new se(e.pathString)}},bL=function(n){let t="",e="",i="",s="",o="",l=!0,c="https",d=443;if(typeof n=="string"){let p=n.indexOf("//");p>=0&&(c=n.substring(0,p-1),n=n.substring(p+2));let g=n.indexOf("/");g===-1&&(g=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),t=n.substring(0,Math.min(g,y)),g<y&&(s=wL(n.substring(g,y)));const w=SL(n.substring(Math.min(n.length,y)));p=t.indexOf(":"),p>=0?(l=c==="https"||c==="wss",d=parseInt(t.substring(p+1),10)):p=t.length;const T=t.slice(0,p);if(T.toLowerCase()==="localhost")e="localhost";else if(T.split(".").length<=2)e=T;else{const C=t.indexOf(".");i=t.substring(0,C).toLowerCase(),e=t.substring(C+1),o=i}"ns"in w&&(o=w.ns)}return{host:t,port:d,domain:e,subdomain:i,secure:l,scheme:c,pathString:s,namespace:o}};class TL{constructor(t,e,i,s){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=s}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Fe(this.snapshot.exportVal())}}class CL{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class tC{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return ot(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Y_{constructor(t,e,i,s){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=s}get key(){return Ut(this._path)?null:lT(this._path)}get ref(){return new Fs(this._repo,this._path)}get _queryIdentifier(){const t=lx(this._queryParams),e=S_(t);return e==="{}"?"default":e}get _queryObject(){return lx(this._queryParams)}isEqual(t){if(t=Gn(t),!(t instanceof Y_))return!1;const e=this._repo===t._repo,i=P_(this._path,t._path),s=this._queryIdentifier===t._queryIdentifier;return e&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+_M(this._path)}}class Fs extends Y_{constructor(t,e){super(t,e,new M_,!1)}get parent(){const t=cT(this._path);return t===null?null:new Fs(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class uc{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new se(t),i=Lg(this.ref,t);return new uc(this._node.getChild(e),i,Ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>t(new uc(s,Lg(this.ref,i),Ce)))}hasChild(t){const e=new se(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function lf(n,t){return n=Gn(n),n._checkNotDeleted("ref"),t!==void 0?Lg(n._root,t):n._root}function Lg(n,t){return n=Gn(n),jt(n._path)===null?nL("child","path",t):ZT("child","path",t),new Fs(n._repo,ze(n._path,t))}function PL(n){n=Gn(n);const t=new tC(()=>{}),e=new zf(t);return fL(n._repo,n,e).then(i=>new uc(i,new Fs(n._repo,n._path),n._queryParams.getIndex()))}class zf{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,e){const i=e._queryParams.getIndex();return new TL("value",this,new uc(t.snapshotNode,new Fs(e._repo,e._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new CL(this,t,e):null}matches(t){return t instanceof zf?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function kL(n,t,e,i,s){const o=new tC(e,void 0),l=new zf(o);return mL(n._repo,n,l),()=>gL(n._repo,n,l)}function uf(n,t,e,i){return kL(n,"value",t)}k1(Fs);A1(Fs);const EL="FIREBASE_DATABASE_EMULATOR_HOST",Ag={};let IL=!1;function ML(n,t,e,i){const s=t.lastIndexOf(":"),o=t.substring(0,s),l=Cc(o);n.repoInfo_=new Jb(t,l,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,e),i&&(n.authTokenProvider_=i)}function LL(n,t,e,i,s){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||Ls("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ln("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l=bx(o,s),c=l.repoInfo,d;typeof process<"u"&&H0&&(d=H0[EL]),d?(o=`http://${d}?ns=${c.namespace}`,l=bx(o,s),c=l.repoInfo):l.repoInfo.secure;const p=new ZI(n.name,n.options,t);iL("Invalid Firebase Database URL",l),Ut(l.path)||Ls("Database URL must point to the root of a Firebase Database (not including a child path).");const g=RL(c,n,p,new HI(n,e));return new OL(g,n)}function AL(n,t){const e=Ag[t];(!e||e[n.key]!==n)&&Ls(`Database ${t}(${n.repoInfo_}) has already been deleted.`),_L(n),delete e[n.key]}function RL(n,t,e,i){let s=Ag[t.name];s||(s={},Ag[t.name]=s);let o=s[n.toURLString()];return o&&Ls("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new lL(n,IL,e,i),s[n.toURLString()]=o,o}class OL{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fs(this._repo,Qt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(AL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Ls("Cannot call "+t+" on a deleted database.")}}function DL(n=Ab(),t){const e=y_(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const i=hI("database");i&&NL(e,...i)}return e}function NL(n,t,e,i={}){n=Gn(n),n._checkNotDeleted("useEmulator");const s=`${t}:${e}`,o=n._repoInternal;if(n._instanceStarted){if(s===n._repoInternal.repoInfo_.host&&Gd(i,o.repoInfo_.emulatorOptions))return;Ls("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let l;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Ls('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Rd(Rd.OWNER);else if(i.mockUserToken){const c=typeof i.mockUserToken=="string"?i.mockUserToken:dI(i.mockUserToken,n.app.options.projectId);l=new Rd(c)}Cc(t)&&(Rb(t),Ob("Database",!0)),ML(o,s,i,l)}function FL(n){EI(gl),yg(new vg("database",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return LL(i,s,o,e)},"PUBLIC").setMultipleInstances(!0)),Hd(Z0,G0,n),Hd(Z0,G0,"esm2020")}Ms.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};Ms.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};FL();const zL="modulepreload",BL=function(n){return"/GPS-Map-With-RangeFinder-Dashboard/"+n},Tx={},VL=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){let d=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");s=d(e.map(p=>{if(p=BL(p),p in Tx)return;Tx[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":zL,g||(w.as="script"),w.crossOrigin="",w.href=p,c&&w.setAttribute("nonce",c),document.head.appendChild(w),g)return new Promise((T,C)=>{w.addEventListener("load",T),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})};function eC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WL=eC,nC=new v_("auth","Firebase",eC());const cf=new Eb("@firebase/auth");function jL(n,...t){cf.logLevel<=g_.WARN&&cf.warn(`Auth (${gl}): ${n}`,...t)}function Od(n,...t){cf.logLevel<=g_.ERROR&&cf.error(`Auth (${gl}): ${n}`,...t)}function Yi(n,...t){throw X_(n,...t)}function Ii(n,...t){return X_(n,...t)}function q_(n,t,e){const i={...WL(),[t]:e};return new v_("auth","Firebase",i).create(t,{appName:n.name})}function Fo(n){return q_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UL(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&Yi(n,"argument-error"),q_(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function X_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return nC.create(n,...t)}function Lt(n,t,...e){if(!n)throw X_(t,...e)}function Cs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Od(t),new Error(t)}function As(n,t){n||Cs(t)}function Rg(){return typeof self<"u"&&self.location?.href||""}function HL(){return Cx()==="http:"||Cx()==="https:"}function Cx(){return typeof self<"u"&&self.location?.protocol||null}function ZL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HL()||fI()||"connection"in navigator)?navigator.onLine:!0}function GL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Rc{constructor(t,e){this.shortDelay=t,this.longDelay=e,As(e>t,"Short delay should be less than long delay!"),this.isMobile=__()||Lb()}get(){return ZL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Q_(n,t){As(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class iC{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $L=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YL=new Rc(3e4,6e4);function J_(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function vl(n,t,e,i,s={}){return sC(n,s,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const c=ml({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:t,headers:d,...o};return yI()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Cc(n.emulatorConfig.host)&&(p.credentials="include"),iC.fetch()(await rC(n,n.config.apiHost,e,c),p)})}async function sC(n,t,e){n._canInitEmulator=!1;const i={...KL,...t};try{const s=new XL(n),o=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw pd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw pd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw pd(n,"user-disabled",l);const g=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw q_(n,g,p);Yi(n,g)}}catch(s){if(s instanceof x_)throw s;Yi(n,"network-request-failed",{message:String(s)})}}async function qL(n,t,e,i,s={}){const o=await vl(n,t,e,i,s);return"mfaPendingCredential"in o&&Yi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function rC(n,t,e,i){const s=`${t}${e}?${i}`,o=n,l=o.config.emulator?Q_(n.config,s):`${n.config.apiScheme}://${s}`;return $L.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class XL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ii(this.auth,"network-request-failed")),YL.get())})}}function pd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=Ii(n,t,i);return s.customData._tokenResponse=e,s}async function QL(n,t){return vl(n,"POST","/v1/accounts:delete",t)}async function hf(n,t){return vl(n,"POST","/v1/accounts:lookup",t)}function Zu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JL(n,t=!1){const e=Gn(n),i=await e.getIdToken(t),s=ty(i);Lt(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:i,authTime:Zu(Bm(s.auth_time)),issuedAtTime:Zu(Bm(s.iat)),expirationTime:Zu(Bm(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Bm(n){return Number(n)*1e3}function ty(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const s=mI(e);return s?JSON.parse(s):(Od("Failed to decode base64 JWT payload"),null)}catch(s){return Od("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Px(n){const t=ty(n);return Lt(t,"internal-error"),Lt(typeof t.exp<"u","internal-error"),Lt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function cc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof x_&&tA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function tA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class eA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Og{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function df(n){const t=n.auth,e=await n.getIdToken(),i=await cc(n,hf(t,{idToken:e}));Lt(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?oC(s.providerUserInfo):[],l=iA(n.providerData,o),c=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!l?.length,p=c?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Og(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function nA(n){const t=Gn(n);await df(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function iA(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function oC(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function sA(n,t){const e=await sC(n,{},async()=>{const i=ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=await rC(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:i};return n.emulatorConfig&&Cc(n.emulatorConfig.host)&&(d.credentials="include"),iC.fetch()(l,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function rA(n,t){return vl(n,"POST","/v2/accounts:revokeToken",J_(n,t))}class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Lt(t.idToken,"internal-error"),Lt(typeof t.idToken<"u","internal-error"),Lt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Px(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Lt(t.length!==0,"internal-error");const e=Px(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Lt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:o}=await sA(t,e);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:o}=e,l=new el;return i&&(Lt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(Lt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),o&&(Lt(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return Cs("not implemented")}}function Tr(n,t){Lt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Pi{constructor({uid:t,auth:e,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new eA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Og(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await cc(this,this.stsTokenManager.getToken(this.auth,t));return Lt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return JL(this,t)}reload(){return nA(this)}_assign(t){this!==t&&(Lt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Pi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await df(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(Fo(this.auth));const t=await this.getIdToken();return await cc(this,QL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,s=e.email??void 0,o=e.phoneNumber??void 0,l=e.photoURL??void 0,c=e.tenantId??void 0,d=e._redirectEventId??void 0,p=e.createdAt??void 0,g=e.lastLoginAt??void 0,{uid:y,emailVerified:w,isAnonymous:T,providerData:C,stsTokenManager:k}=e;Lt(y&&k,t,"internal-error");const I=el.fromJSON(this.name,k);Lt(typeof y=="string",t,"internal-error"),Tr(i,t.name),Tr(s,t.name),Lt(typeof w=="boolean",t,"internal-error"),Lt(typeof T=="boolean",t,"internal-error"),Tr(o,t.name),Tr(l,t.name),Tr(c,t.name),Tr(d,t.name),Tr(p,t.name),Tr(g,t.name);const M=new Pi({uid:y,auth:t,email:s,emailVerified:w,displayName:i,isAnonymous:T,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:I,createdAt:p,lastLoginAt:g});return C&&Array.isArray(C)&&(M.providerData=C.map(R=>({...R}))),d&&(M._redirectEventId=d),M}static async _fromIdTokenResponse(t,e,i=!1){const s=new el;s.updateFromServerResponse(e);const o=new Pi({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await df(o),o}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];Lt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?oC(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,c=new el;c.updateFromIdToken(i);const d=new Pi({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Og(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(d,p),d}}const kx=new Map;function Ps(n){As(n instanceof Function,"Expected a class definition");let t=kx.get(n);return t?(As(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,kx.set(n,t),t)}class aC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}aC.type="NONE";const Ex=aC;function Dd(n,t,e){return`firebase:${n}:${t}:${e}`}class nl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Dd(this.userKey,s.apiKey,o),this.fullPersistenceKey=Dd("persistence",s.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await hf(this.auth,{idToken:t}).catch(()=>{});return e?Pi._fromGetAccountInfoResponse(this.auth,e,t):null}return Pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new nl(Ps(Ex),t,i);const s=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||Ps(Ex);const l=Dd(i,t.config.apiKey,t.name);let c=null;for(const p of e)try{const g=await p._get(l);if(g){let y;if(typeof g=="string"){const w=await hf(t,{idToken:g}).catch(()=>{});if(!w)break;y=await Pi._fromGetAccountInfoResponse(t,w,g)}else y=Pi._fromJSON(t,g);p!==o&&(c=y),o=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new nl(o,t,i):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(e.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new nl(o,t,i))}}function Ix(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fC(t))return"Blackberry";if(pC(t))return"Webos";if(uC(t))return"Safari";if((t.includes("chrome/")||cC(t))&&!t.includes("edge/"))return"Chrome";if(dC(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function lC(n=Zn()){return/firefox\//i.test(n)}function uC(n=Zn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function cC(n=Zn()){return/crios\//i.test(n)}function hC(n=Zn()){return/iemobile/i.test(n)}function dC(n=Zn()){return/android/i.test(n)}function fC(n=Zn()){return/blackberry/i.test(n)}function pC(n=Zn()){return/webos/i.test(n)}function ey(n=Zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function oA(n=Zn()){return ey(n)&&!!window.navigator?.standalone}function aA(){return _I()&&document.documentMode===10}function mC(n=Zn()){return ey(n)||dC(n)||pC(n)||fC(n)||/windows phone/i.test(n)||hC(n)}function gC(n,t=[]){let e;switch(n){case"Browser":e=Ix(Zn());break;case"Worker":e=`${Ix(Zn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${gl}/${i}`}class lA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,c)=>{try{const d=t(o);l(d)}catch(d){c(d)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function uA(n,t={}){return vl(n,"GET","/v2/passwordPolicy",J_(n,t))}const cA=6;class hA{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??cA,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class dA{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mx(this),this.idTokenSubscription=new Mx(this),this.beforeStateQueue=new lA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ps(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await hf(this,{idToken:t}),i=await Pi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Si(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await df(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=GL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Si(this.app))return Promise.reject(Fo(this));const e=t?Gn(t):null;return e&&Lt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Lt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(Fo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Si(this.app)?Promise.reject(Fo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await uA(this),e=new hA(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new v_("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await rA(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ps(t)||this._popupRedirectResolver;Lt(e,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[Ps(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lt(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,s);return()=>{l=!0,d()}}else{const d=t.addObserver(e);return()=>{l=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=gC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&jL(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bf(n){return Gn(n)}class Mx{constructor(t){this.auth=t,this.observer=null,this.addObserver=pI(e=>this.observer=e)}get next(){return Lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ny={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fA(n){ny=n}function pA(n){return ny.loadJS(n)}function mA(){return ny.gapiScript}function gA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function _A(n,t){const e=y_(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),o=e.getOptions();if(Gd(o,t??{}))return s;Yi(s,"already-initialized")}return e.initialize({options:t})}function yA(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ps);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function vA(n,t,e){const i=Bf(n);Lt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,o=_C(t),{host:l,port:c}=xA(t),d=c===null?"":`:${c}`,p={url:`${o}//${l}${d}/`},g=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Lt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Lt(Gd(p,i.config.emulator)&&Gd(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,Cc(l)?(Rb(`${o}//${l}${d}`),Ob("Auth",!0)):wA()}function _C(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function xA(n){const t=_C(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:Lx(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:Lx(l)}}}function Lx(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function wA(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class yC{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Cs("not implemented")}_getIdTokenResponse(t){return Cs("not implemented")}_linkToIdToken(t,e){return Cs("not implemented")}_getReauthenticationResolver(t){return Cs("not implemented")}}async function il(n,t){return qL(n,"POST","/v1/accounts:signInWithIdp",J_(n,t))}const SA="http://localhost";class Zo extends yC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Zo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Yi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...o}=e;if(!i||!s)return null;const l=new Zo(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return il(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,il(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,il(t,e)}buildRequest(){const t={requestUri:SA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ml(e)}return t}}class iy{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Oc extends iy{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Pr extends Oc{constructor(){super("facebook.com")}static credential(t){return Zo._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class bs extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Zo._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return bs.credential(e,i)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";class kr extends Oc{constructor(){super("github.com")}static credential(t){return Zo._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";class Er extends Oc{constructor(){super("twitter.com")}static credential(t,e){return Zo._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Er.credential(e,i)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";class cl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const o=await Pi._fromIdTokenResponse(t,i,s),l=Ax(i);return new cl({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=Ax(i);return new cl({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function Ax(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class ff extends x_{constructor(t,e,i,s){super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,ff.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new ff(t,e,i,s)}}function vC(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ff._fromErrorAndOperation(n,o,t,i):o})}async function bA(n,t,e=!1){const i=await cc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return cl._forOperation(n,"link",i)}async function TA(n,t,e=!1){const{auth:i}=n;if(Si(i.app))return Promise.reject(Fo(i));const s="reauthenticate";try{const o=await cc(n,vC(i,s,t,n),e);Lt(o.idToken,i,"internal-error");const l=ty(o.idToken);Lt(l,i,"internal-error");const{sub:c}=l;return Lt(n.uid===c,i,"user-mismatch"),cl._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Yi(i,"user-mismatch"),o}}async function CA(n,t,e=!1){if(Si(n.app))return Promise.reject(Fo(n));const i="signIn",s=await vC(n,i,t),o=await cl._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(o.user),o}function PA(n,t,e,i){return Gn(n).onIdTokenChanged(t,e,i)}function kA(n,t,e){return Gn(n).beforeAuthStateChanged(t,e)}function EA(n,t,e,i){return Gn(n).onAuthStateChanged(t,e,i)}function IA(n){return Gn(n).signOut()}const pf="__sak";class xC{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const MA=1e3,LA=10;class wC extends xC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);aA()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,LA):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},MA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}wC.type="LOCAL";const AA=wC;class SC extends xC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}SC.type="SESSION";const bC=SC;function RA(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Vf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new Vf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:o}=e.data,l=this.handlersMap[s];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async p=>p(e.origin,o)),d=await RA(c);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];function sy(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class OA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const p=sy("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const w=y;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Zi(){return window}function DA(n){Zi().location.href=n}function TC(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function NA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FA(){return navigator?.serviceWorker?.controller||null}function zA(){return TC()?self:null}const CC="firebaseLocalStorageDb",BA=1,mf="firebaseLocalStorage",PC="fbase_key";class Dc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Wf(n,t){return n.transaction([mf],t?"readwrite":"readonly").objectStore(mf)}function VA(){const n=indexedDB.deleteDatabase(CC);return new Dc(n).toPromise()}function Dg(){const n=indexedDB.open(CC,BA);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(mf,{keyPath:PC})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(mf)?t(i):(i.close(),await VA(),t(await Dg()))})})}async function Rx(n,t,e){const i=Wf(n,!0).put({[PC]:t,value:e});return new Dc(i).toPromise()}async function WA(n,t){const e=Wf(n,!1).get(t),i=await new Dc(e).toPromise();return i===void 0?null:i.value}function Ox(n,t){const e=Wf(n,!0).delete(t);return new Dc(e).toPromise()}const jA=800,UA=3;class kC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>UA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(zA()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await NA(),!this.activeServiceWorker)return;this.sender=new OA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Dg();return await Rx(t,pf,"1"),await Ox(t,pf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Rx(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>WA(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Ox(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=Wf(s,!1).getAll();return new Dc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kC.type="LOCAL";const HA=kC;new Rc(3e4,6e4);function EC(n,t){return t?Ps(t):(Lt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class ry extends yC{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return il(t,this._buildIdpRequest())}_linkToIdToken(t,e){return il(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return il(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function ZA(n){return CA(n.auth,new ry(n),n.bypassAuthState)}function GA(n){const{auth:t,user:e}=n;return Lt(e,t,"internal-error"),TA(e,new ry(n),n.bypassAuthState)}async function KA(n){const{auth:t,user:e}=n;return Lt(e,t,"internal-error"),bA(e,new ry(n),n.bypassAuthState)}class IC{constructor(t,e,i,s,o=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:o,error:l,type:c}=t;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ZA;case"linkViaPopup":case"linkViaRedirect":return KA;case"reauthViaPopup":case"reauthViaRedirect":return GA;default:Yi(this.auth,"internal-error")}}resolve(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $A=new Rc(2e3,1e4);async function YA(n,t,e){if(Si(n.app))return Promise.reject(Ii(n,"operation-not-supported-in-this-environment"));const i=Bf(n);UL(n,t,iy);const s=EC(i,e);return new Oo(i,"signInViaPopup",t,s).executeNotNull()}class Oo extends IC{constructor(t,e,i,s,o){super(t,e,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Lt(t,this.auth,"internal-error"),t}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const t=sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$A.get())};t()}}Oo.currentPopupAction=null;const qA="pendingRedirect",Nd=new Map;class XA extends IC{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Nd.get(this.auth._key());if(!t){try{const i=await QA(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Nd.set(this.auth._key(),t)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QA(n,t){const e=eR(t),i=tR(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function JA(n,t){Nd.set(n._key(),t)}function tR(n){return Ps(n._redirectPersistence)}function eR(n){return Dd(qA,n.config.apiKey,n.name)}async function nR(n,t,e=!1){if(Si(n.app))return Promise.reject(Fo(n));const i=Bf(n),s=EC(i,t),l=await new XA(i,s,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}const iR=600*1e3;class sR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rR(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!MC(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ii(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dx(t))}saveEventToCache(t){this.cachedEventUids.add(Dx(t)),this.lastProcessedEventTime=Date.now()}}function Dx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function MC({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function rR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MC(n);default:return!1}}async function oR(n,t={}){return vl(n,"GET","/v1/projects",t)}const aR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lR=/^https?/;async function uR(n){if(n.config.emulator)return;const{authorizedDomains:t}=await oR(n);for(const e of t)try{if(cR(e))return}catch{}Yi(n,"unauthorized-domain")}function cR(n){const t=Rg(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!lR.test(e))return!1;if(aR.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const hR=new Rc(3e4,6e4);function Nx(){const n=Zi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function dR(n){return new Promise((t,e)=>{function i(){Nx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Nx(),e(Ii(n,"network-request-failed"))},timeout:hR.get()})}if(Zi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Zi().gapi?.load)i();else{const s=gA("iframefcb");return Zi()[s]=()=>{gapi.load?i():e(Ii(n,"network-request-failed"))},pA(`${mA()}?onload=${s}`).catch(o=>e(o))}}).catch(t=>{throw Fd=null,t})}let Fd=null;function fR(n){return Fd=Fd||dR(n),Fd}const pR=new Rc(5e3,15e3),mR="__/auth/iframe",gR="emulator/auth/iframe",_R={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vR(n){const t=n.config;Lt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Q_(t,gR):`https://${n.config.authDomain}/${mR}`,i={apiKey:t.apiKey,appName:n.name,v:gl},s=yR.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${ml(i).slice(1)}`}async function xR(n){const t=await fR(n),e=Zi().gapi;return Lt(e,n,"internal-error"),t.open({where:document.body,url:vR(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_R,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=Ii(n,"network-request-failed"),c=Zi().setTimeout(()=>{o(l)},pR.get());function d(){Zi().clearTimeout(c),s(i)}i.ping(d).then(d,()=>{o(l)})}))}const wR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SR=500,bR=600,TR="_blank",CR="http://localhost";class Fx{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PR(n,t,e,i=SR,s=bR){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const d={...wR,width:i.toString(),height:s.toString(),top:o,left:l},p=Zn().toLowerCase();e&&(c=cC(p)?TR:e),lC(p)&&(t=t||CR,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[T,C])=>`${w}${T}=${C},`,"");if(oA(p)&&c!=="_self")return kR(t||"",c),new Fx(null);const y=window.open(t||"",c,g);Lt(y,n,"popup-blocked");try{y.focus()}catch{}return new Fx(y)}function kR(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const ER="__/auth/handler",IR="emulator/auth/handler",MR=encodeURIComponent("fac");async function zx(n,t,e,i,s,o){Lt(n.config.authDomain,n,"auth-domain-config-required"),Lt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:gl,eventId:s};if(t instanceof iy){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",xg(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(t instanceof Oc){const g=t.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await n._getAppCheckToken(),p=d?`#${MR}=${encodeURIComponent(d)}`:"";return`${LR(n)}?${ml(c).slice(1)}${p}`}function LR({config:n}){return n.emulator?Q_(n,IR):`https://${n.authDomain}/${ER}`}const Vm="webStorageSupport";class AR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bC,this._completeRedirectFn=nR,this._overrideRedirectResult=JA}async _openPopup(t,e,i,s){As(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await zx(t,e,i,Rg(),s);return PR(t,o,sy())}async _openRedirect(t,e,i,s){await this._originValidation(t);const o=await zx(t,e,i,Rg(),s);return DA(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:o}=this.eventManagers[e];return s?Promise.resolve(s):(As(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await xR(t),i=new sR(t);return e.register("authEvent",s=>(Lt(s?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Vm,{type:Vm},s=>{const o=s?.[0]?.[Vm];o!==void 0&&e(!!o),Yi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=uR(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return mC()||uC()||ey()}}const RR=AR;var Bx="@firebase/auth",Vx="1.11.1";class OR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NR(n){yg(new vg("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Lt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gC(n)},p=new dA(i,s,o,d);return yA(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),yg(new vg("auth-internal",t=>{const e=Bf(t.getProvider("auth").getImmediate());return(i=>new OR(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hd(Bx,Vx,DR(n)),Hd(Bx,Vx,"esm2020")}const FR=300,zR=Db("authIdTokenMaxAge")||FR;let Wx=null;const BR=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>zR)return;const s=e?.token;Wx!==s&&(Wx=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function VR(n=Ab()){const t=y_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=_A(n,{popupRedirectResolver:RR,persistence:[HA,AA,bC]}),i=Db("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=BR(o.toString());kA(e,l,()=>l(e.currentUser)),PA(e,c=>l(c))}}const s=gI("auth");return s&&vA(e,`http://${s}`),e}function WR(){return document.getElementsByTagName("head")?.[0]??document}fA({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const o=Ii("internal-error");o.customData=s,e(o)},i.type="text/javascript",i.charset="UTF-8",WR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NR("Browser");let LC={apiKey:"AIzaSyCHC8l0qOXJcBDcw3YdJWjJzSpMwmHK82w",authDomain:"rangefinder-eac84.firebaseapp.com",databaseURL:"https://rangefinder-eac84-default-rtdb.firebaseio.com",projectId:"rangefinder-eac84",storageBucket:"rangefinder-eac84.firebasestorage.app",messagingSenderId:"623226713136",appId:"1:623226713136:web:aabe44871a5cc19ac469f5",measurementId:"G-D12TG8WG9N"};try{const n=await VL(()=>import("./firebaseConfig.local-CYBHTYhd.js"),__vite__mapDeps([0,1])).then(t=>t.firebaseConfig).catch(()=>null);n&&(LC=n)}catch{}const AC=vI(LC),gf=DL(AC),Wm=VR(AC);function Nc(n){return n+.5|0}const Ir=(n,t,e)=>Math.max(Math.min(n,e),t);function Ou(n){return Ir(Nc(n*2.55),0,255)}function Dr(n){return Ir(Nc(n*255),0,255)}function Ss(n){return Ir(Nc(n/2.55)/100,0,1)}function jx(n){return Ir(Nc(n*100),0,100)}const ri={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ng=[..."0123456789ABCDEF"],jR=n=>Ng[n&15],UR=n=>Ng[(n&240)>>4]+Ng[n&15],md=n=>(n&240)>>4===(n&15),HR=n=>md(n.r)&&md(n.g)&&md(n.b)&&md(n.a);function ZR(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ri[n[1]]*17,g:255&ri[n[2]]*17,b:255&ri[n[3]]*17,a:t===5?ri[n[4]]*17:255}:(t===7||t===9)&&(e={r:ri[n[1]]<<4|ri[n[2]],g:ri[n[3]]<<4|ri[n[4]],b:ri[n[5]]<<4|ri[n[6]],a:t===9?ri[n[7]]<<4|ri[n[8]]:255})),e}const GR=(n,t)=>n<255?t(n):"";function KR(n){var t=HR(n)?jR:UR;return n?"#"+t(n.r)+t(n.g)+t(n.b)+GR(n.a,t):void 0}const $R=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function RC(n,t,e){const i=t*Math.min(e,1-e),s=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function YR(n,t,e){const i=(s,o=(s+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function qR(n,t,e){const i=RC(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function XR(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function oy(n){const e=n.r/255,i=n.g/255,s=n.b/255,o=Math.max(e,i,s),l=Math.min(e,i,s),c=(o+l)/2;let d,p,g;return o!==l&&(g=o-l,p=c>.5?g/(2-o-l):g/(o+l),d=XR(e,i,s,g,o),d=d*60+.5),[d|0,p||0,c]}function ay(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Dr)}function ly(n,t,e){return ay(RC,n,t,e)}function QR(n,t,e){return ay(qR,n,t,e)}function JR(n,t,e){return ay(YR,n,t,e)}function OC(n){return(n%360+360)%360}function tO(n){const t=$R.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Ou(+t[5]):Dr(+t[5]));const s=OC(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=QR(s,o,l):t[1]==="hsv"?i=JR(s,o,l):i=ly(s,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function eO(n,t){var e=oy(n);e[0]=OC(e[0]+t),e=ly(e),n.r=e[0],n.g=e[1],n.b=e[2]}function nO(n){if(!n)return;const t=oy(n),e=t[0],i=jx(t[1]),s=jx(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${Ss(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const Ux={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function iO(){const n={},t=Object.keys(Hx),e=Object.keys(Ux);let i,s,o,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<e.length;s++)o=e[s],c=c.replace(o,Ux[o]);o=parseInt(Hx[l],16),n[c]=[o>>16&255,o>>8&255,o&255]}return n}let gd;function sO(n){gd||(gd=iO(),gd.transparent=[0,0,0,0]);const t=gd[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const rO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function oO(n){const t=rO.exec(n);let e=255,i,s,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?Ou(l):Ir(l*255,0,255)}return i=+t[1],s=+t[3],o=+t[5],i=255&(t[2]?Ou(i):Ir(i,0,255)),s=255&(t[4]?Ou(s):Ir(s,0,255)),o=255&(t[6]?Ou(o):Ir(o,0,255)),{r:i,g:s,b:o,a:e}}}function aO(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ss(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const jm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ha=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function lO(n,t,e){const i=Ha(Ss(n.r)),s=Ha(Ss(n.g)),o=Ha(Ss(n.b));return{r:Dr(jm(i+e*(Ha(Ss(t.r))-i))),g:Dr(jm(s+e*(Ha(Ss(t.g))-s))),b:Dr(jm(o+e*(Ha(Ss(t.b))-o))),a:n.a+e*(t.a-n.a)}}function _d(n,t,e){if(n){let i=oy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=ly(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function DC(n,t){return n&&Object.assign(t||{},n)}function Zx(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Dr(n[3]))):(t=DC(n,{r:0,g:0,b:0,a:1}),t.a=Dr(t.a)),t}function uO(n){return n.charAt(0)==="r"?oO(n):tO(n)}class hc{constructor(t){if(t instanceof hc)return t;const e=typeof t;let i;e==="object"?i=Zx(t):e==="string"&&(i=ZR(t)||sO(t)||uO(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=DC(this._rgb);return t&&(t.a=Ss(t.a)),t}set rgb(t){this._rgb=Zx(t)}rgbString(){return this._valid?aO(this._rgb):void 0}hexString(){return this._valid?KR(this._rgb):void 0}hslString(){return this._valid?nO(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let o;const l=e===o?.5:e,c=2*l-1,d=i.a-s.a,p=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;o=1-p,i.r=255&p*i.r+o*s.r+.5,i.g=255&p*i.g+o*s.g+.5,i.b=255&p*i.b+o*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=lO(this._rgb,t._rgb,e)),this}clone(){return new hc(this.rgb)}alpha(t){return this._rgb.a=Dr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Nc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return _d(this._rgb,2,t),this}darken(t){return _d(this._rgb,2,-t),this}saturate(t){return _d(this._rgb,1,t),this}desaturate(t){return _d(this._rgb,1,-t),this}rotate(t){return eO(this._rgb,t),this}}function vs(){}const cO=(()=>{let n=0;return()=>n++})();function Ht(n){return n==null}function me(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Gt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Pe(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Un(n,t){return Pe(n)?n:t}function Dt(n,t){return typeof n>"u"?t:n}const hO=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,NC=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ae(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function te(n,t,e,i){let s,o,l;if(me(n))for(o=n.length,s=0;s<o;s++)t.call(e,n[s],s);else if(Gt(n))for(l=Object.keys(n),o=l.length,s=0;s<o;s++)t.call(e,n[l[s]],l[s])}function _f(n,t){let e,i,s,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],o=t[e],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function yf(n){if(me(n))return n.map(yf);if(Gt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=yf(n[e[s]]);return t}return n}function FC(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function dO(n,t,e,i){if(!FC(n))return;const s=t[n],o=e[n];Gt(s)&&Gt(o)?dc(s,o,i):t[n]=yf(o)}function dc(n,t,e){const i=me(t)?t:[t],s=i.length;if(!Gt(n))return n;e=e||{};const o=e.merger||dO;let l;for(let c=0;c<s;++c){if(l=i[c],!Gt(l))continue;const d=Object.keys(l);for(let p=0,g=d.length;p<g;++p)o(d[p],n,l,e)}return n}function Gu(n,t){return dc(n,t,{merger:fO})}function fO(n,t,e){if(!FC(n))return;const i=t[n],s=e[n];Gt(i)&&Gt(s)?Gu(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=yf(s))}const Gx={"":n=>n,x:n=>n.x,y:n=>n.y};function pO(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function mO(n){const t=pO(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Br(n,t){return(Gx[t]||(Gx[t]=mO(t)))(n)}function uy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const fc=n=>typeof n<"u",Vr=n=>typeof n=="function",Kx=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function gO(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Xt=Math.PI,de=2*Xt,_O=de+Xt,vf=Number.POSITIVE_INFINITY,yO=Xt/180,Ie=Xt/2,To=Xt/4,$x=Xt*2/3,Mr=Math.log10,Gi=Math.sign;function Ku(n,t,e){return Math.abs(n-t)<e}function Yx(n){const t=Math.round(n);n=Ku(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Mr(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function vO(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,o)=>s-o).pop(),t}function xO(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function hl(n){return!xO(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function wO(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function zC(n,t,e){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ki(n){return n*(Xt/180)}function cy(n){return n*(180/Xt)}function qx(n){if(!Pe(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function BC(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Xt&&(o+=de),{angle:o,distance:s}}function Fg(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function SO(n,t){return(n-t+_O)%de-Xt}function an(n){return(n%de+de)%de}function pc(n,t,e,i){const s=an(n),o=an(t),l=an(e),c=an(o-s),d=an(l-s),p=an(s-o),g=an(s-l);return s===o||s===l||i&&o===l||c>d&&p<g}function Ze(n,t,e){return Math.max(t,Math.min(e,n))}function bO(n){return Ze(n,-32768,32767)}function ks(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function hy(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,e(o)?s=o:i=o;return{lo:s,hi:i}}const Es=(n,t,e,i)=>hy(n,e,i?s=>{const o=n[s][t];return o<e||o===e&&n[s+1][t]===e}:s=>n[s][t]<e),TO=(n,t,e)=>hy(n,e,i=>n[i][t]>=e);function CO(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const VC=["push","pop","shift","splice","unshift"];function PO(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),VC.forEach(e=>{const i="_onData"+uy(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=s.apply(this,o);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...o)}),l}})})}function Xx(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(VC.forEach(o=>{delete n[o]}),delete n._chartjs)}function WC(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const jC=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function UC(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,jC.call(window,()=>{i=!1,n.apply(t,e)}))}}function kO(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const dy=n=>n==="start"?"left":n==="end"?"right":"center",on=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,EO=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function HC(n,t,e){const i=t.length;let s=0,o=i;if(n._sorted){const{iScale:l,vScale:c,_parsed:d}=n,p=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:y,max:w,minDefined:T,maxDefined:C}=l.getUserBounds();if(T){if(s=Math.min(Es(d,g,y).lo,e?i:Es(t,g,l.getPixelForValue(y)).lo),p){const k=d.slice(0,s+1).reverse().findIndex(I=>!Ht(I[c.axis]));s-=Math.max(0,k)}s=Ze(s,0,i-1)}if(C){let k=Math.max(Es(d,l.axis,w,!0).hi+1,e?0:Es(t,g,l.getPixelForValue(w),!0).hi+1);if(p){const I=d.slice(k-1).findIndex(M=>!Ht(M[c.axis]));k+=Math.max(0,I)}o=Ze(k,s,i)-s}else o=i-s}return{start:s,count:o}}function ZC(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),o}const yd=n=>n===0||n===1,Qx=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*de/e)),Jx=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*de/e)+1,$u={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ie)+1,easeOutSine:n=>Math.sin(n*Ie),easeInOutSine:n=>-.5*(Math.cos(Xt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>yd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>yd(n)?n:Qx(n,.075,.3),easeOutElastic:n=>yd(n)?n:Jx(n,.075,.3),easeInOutElastic(n){return yd(n)?n:n<.5?.5*Qx(n*2,.1125,.45):.5+.5*Jx(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-$u.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?$u.easeInBounce(n*2)*.5:$u.easeOutBounce(n*2-1)*.5+.5};function fy(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function tw(n){return fy(n)?n:new hc(n)}function Um(n){return fy(n)?n:new hc(n).saturate(.5).darken(.1).hexString()}const IO=["x","y","borderWidth","radius","tension"],MO=["color","borderColor","backgroundColor"];function LO(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:MO},numbers:{type:"number",properties:IO}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function AO(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ew=new Map;function RO(n,t){t=t||{};const e=n+JSON.stringify(t);let i=ew.get(e);return i||(i=new Intl.NumberFormat(n,t),ew.set(e,i)),i}function Fc(n,t,e){return RO(t,e).format(n)}const GC={values(n){return me(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(e.length>1){const p=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(p<1e-4||p>1e15)&&(s="scientific"),o=OO(n,e)}const l=Mr(Math.abs(o)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),Fc(n,i,d)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(Mr(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?GC.numeric.call(this,n,t,e):""}};function OO(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var jf={formatters:GC};function DO(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Go=Object.create(null),zg=Object.create(null);function Yu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Hm(n,t,e){return typeof t=="string"?dc(Yu(n,t),e):dc(Yu(n,""),t)}class NO{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Um(s.backgroundColor),this.hoverBorderColor=(i,s)=>Um(s.borderColor),this.hoverColor=(i,s)=>Um(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Hm(this,t,e)}get(t){return Yu(this,t)}describe(t,e){return Hm(zg,t,e)}override(t,e){return Hm(Go,t,e)}route(t,e,i,s){const o=Yu(this,t),l=Yu(this,i),c="_"+e;Object.defineProperties(o,{[c]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[c],p=l[s];return Gt(d)?Object.assign({},p,d):Dt(d,p)},set(d){this[c]=d}}})}apply(t){t.forEach(e=>e(this))}}var ge=new NO({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[LO,AO,DO]);function FO(n){return!n||Ht(n.size)||Ht(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function xf(n,t,e,i,s){let o=t[s];return o||(o=t[s]=n.measureText(s).width,e.push(s)),o>i&&(i=o),i}function zO(n,t,e,i){i=i||{};let s=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const c=e.length;let d,p,g,y,w;for(d=0;d<c;d++)if(y=e[d],y!=null&&!me(y))l=xf(n,s,o,l,y);else if(me(y))for(p=0,g=y.length;p<g;p++)w=y[p],w!=null&&!me(w)&&(l=xf(n,s,o,l,w));n.restore();const T=o.length/2;if(T>e.length){for(d=0;d<T;d++)delete s[o[d]];o.splice(0,T)}return l}function Co(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function nw(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Bg(n,t,e,i){KC(n,t,e,i,null)}function KC(n,t,e,i,s){let o,l,c,d,p,g,y,w;const T=t.pointStyle,C=t.rotation,k=t.radius;let I=(C||0)*yO;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(I),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),T){default:s?n.ellipse(e,i,s/2,k,0,0,de):n.arc(e,i,k,0,de),n.closePath();break;case"triangle":g=s?s/2:k,n.moveTo(e+Math.sin(I)*g,i-Math.cos(I)*k),I+=$x,n.lineTo(e+Math.sin(I)*g,i-Math.cos(I)*k),I+=$x,n.lineTo(e+Math.sin(I)*g,i-Math.cos(I)*k),n.closePath();break;case"rectRounded":p=k*.516,d=k-p,l=Math.cos(I+To)*d,y=Math.cos(I+To)*(s?s/2-p:d),c=Math.sin(I+To)*d,w=Math.sin(I+To)*(s?s/2-p:d),n.arc(e-y,i-c,p,I-Xt,I-Ie),n.arc(e+w,i-l,p,I-Ie,I),n.arc(e+y,i+c,p,I,I+Ie),n.arc(e-w,i+l,p,I+Ie,I+Xt),n.closePath();break;case"rect":if(!C){d=Math.SQRT1_2*k,g=s?s/2:d,n.rect(e-g,i-d,2*g,2*d);break}I+=To;case"rectRot":y=Math.cos(I)*(s?s/2:k),l=Math.cos(I)*k,c=Math.sin(I)*k,w=Math.sin(I)*(s?s/2:k),n.moveTo(e-y,i-c),n.lineTo(e+w,i-l),n.lineTo(e+y,i+c),n.lineTo(e-w,i+l),n.closePath();break;case"crossRot":I+=To;case"cross":y=Math.cos(I)*(s?s/2:k),l=Math.cos(I)*k,c=Math.sin(I)*k,w=Math.sin(I)*(s?s/2:k),n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+w,i-l),n.lineTo(e-w,i+l);break;case"star":y=Math.cos(I)*(s?s/2:k),l=Math.cos(I)*k,c=Math.sin(I)*k,w=Math.sin(I)*(s?s/2:k),n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+w,i-l),n.lineTo(e-w,i+l),I+=To,y=Math.cos(I)*(s?s/2:k),l=Math.cos(I)*k,c=Math.sin(I)*k,w=Math.sin(I)*(s?s/2:k),n.moveTo(e-y,i-c),n.lineTo(e+y,i+c),n.moveTo(e+w,i-l),n.lineTo(e-w,i+l);break;case"line":l=s?s/2:Math.cos(I)*k,c=Math.sin(I)*k,n.moveTo(e-l,i-c),n.lineTo(e+l,i+c);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(I)*(s?s/2:k),i+Math.sin(I)*k);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Is(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Uf(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Hf(n){n.restore()}function BO(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function VO(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function WO(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ht(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function jO(n,t,e,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,c=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,p=e+o.actualBoundingBoxDescent,g=s.strikethrough?(d+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,g),n.lineTo(c,g),n.stroke()}}function UO(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Ko(n,t,e,i,s,o={}){const l=me(t)?t:[t],c=o.strokeWidth>0&&o.strokeColor!=="";let d,p;for(n.save(),n.font=s.string,WO(n,o),d=0;d<l.length;++d)p=l[d],o.backdrop&&UO(n,o.backdrop),c&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ht(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(p,e,i,o.maxWidth)),n.fillText(p,e,i,o.maxWidth),jO(n,e,i,p,o),i+=Number(s.lineHeight);n.restore()}function mc(n,t){const{x:e,y:i,w:s,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Xt,Xt,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Xt,Ie,!0),n.lineTo(e+s-l.bottomRight,i+o),n.arc(e+s-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Ie,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-Ie,!0),n.lineTo(e+l.topLeft,i)}const HO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ZO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function GO(n,t){const e=(""+n).match(HO);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const KO=n=>+n||0;function py(n,t){const e={},i=Gt(t),s=i?Object.keys(t):t,o=Gt(n)?i?l=>Dt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=KO(o(l));return e}function $C(n){return py(n,{top:"y",right:"x",bottom:"y",left:"x"})}function zo(n){return py(n,["topLeft","topRight","bottomLeft","bottomRight"])}function hn(n){const t=$C(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Be(n,t){n=n||{},t=t||ge.font;let e=Dt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Dt(n.style,t.style);i&&!(""+i).match(ZO)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Dt(n.family,t.family),lineHeight:GO(Dt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Dt(n.weight,t.weight),string:""};return s.string=FO(s),s}function Du(n,t,e,i){let s,o,l;for(s=0,o=n.length;s<o;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function $O(n,t,e){const{min:i,max:s}=n,o=NC(t,(s-i)/2),l=(c,d)=>e&&c===0?0:c+d;return{min:l(i,-Math.abs(o)),max:l(s,o)}}function Ur(n,t){return Object.assign(Object.create(n),t)}function my(n,t=[""],e,i,s=()=>n[0]){const o=e||n;typeof i>"u"&&(i=QC("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:s,override:c=>my([c,...n],t,o,i)};return new Proxy(l,{deleteProperty(c,d){return delete c[d],delete c._keys,delete n[0][d],!0},get(c,d){return qC(c,d,()=>nD(d,t,n,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,d){return sw(c).includes(d)},ownKeys(c){return sw(c)},set(c,d,p){const g=c._storage||(c._storage=s());return c[d]=g[d]=p,delete c._keys,!0}})}function dl(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:YC(n,i),setContext:o=>dl(n,o,e,i),override:o=>dl(n.override(o),t,e,i)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,c){return qC(o,l,()=>qO(o,l,c))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,c){return n[l]=c,delete o[l],!0}})}function YC(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:Vr(e)?e:()=>e,isIndexable:Vr(i)?i:()=>i}}const YO=(n,t)=>n?n+uy(t):t,gy=(n,t)=>Gt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function qC(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function qO(n,t,e){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=n;let c=i[t];return Vr(c)&&l.isScriptable(t)&&(c=XO(t,c,n,e)),me(c)&&c.length&&(c=QO(t,c,n,l.isIndexable)),gy(t,c)&&(c=dl(c,s,o&&o[t],l)),c}function XO(n,t,e,i){const{_proxy:s,_context:o,_subProxy:l,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let d=t(o,l||i);return c.delete(n),gy(n,d)&&(d=_y(s._scopes,s,n,d)),d}function QO(n,t,e,i){const{_proxy:s,_context:o,_subProxy:l,_descriptors:c}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Gt(t[0])){const d=t,p=s._scopes.filter(g=>g!==d);t=[];for(const g of d){const y=_y(p,s,n,g);t.push(dl(y,o,l&&l[n],c))}}return t}function XC(n,t,e){return Vr(n)?n(t,e):n}const JO=(n,t)=>n===!0?t:typeof n=="string"?Br(t,n):void 0;function tD(n,t,e,i,s){for(const o of t){const l=JO(e,o);if(l){n.add(l);const c=XC(l._fallback,e,s);if(typeof c<"u"&&c!==e&&c!==i)return c}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function _y(n,t,e,i){const s=t._rootScopes,o=XC(t._fallback,e,i),l=[...n,...s],c=new Set;c.add(i);let d=iw(c,l,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=iw(c,l,o,d,i),d===null)?!1:my(Array.from(c),[""],s,o,()=>eD(t,e,i))}function iw(n,t,e,i,s){for(;e;)e=tD(n,t,e,i,s);return e}function eD(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return me(s)&&Gt(e)?e:s||{}}function nD(n,t,e,i){let s;for(const o of t)if(s=QC(YO(o,n),e),typeof s<"u")return gy(n,s)?_y(e,i,n,s):s}function QC(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function sw(n){let t=n._keys;return t||(t=n._keys=iD(n._scopes)),t}function iD(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function JC(n,t,e,i){const{iScale:s}=n,{key:o="r"}=this._parsing,l=new Array(i);let c,d,p,g;for(c=0,d=i;c<d;++c)p=c+e,g=t[p],l[c]={r:s.parse(Br(g,o),p)};return l}const sD=Number.EPSILON||1e-14,fl=(n,t)=>t<n.length&&!n[t].skip&&n[t],tP=n=>n==="x"?"y":"x";function rD(n,t,e,i){const s=n.skip?t:n,o=t,l=e.skip?t:e,c=Fg(o,s),d=Fg(l,o);let p=c/(c+d),g=d/(c+d);p=isNaN(p)?0:p,g=isNaN(g)?0:g;const y=i*p,w=i*g;return{previous:{x:o.x-y*(l.x-s.x),y:o.y-y*(l.y-s.y)},next:{x:o.x+w*(l.x-s.x),y:o.y+w*(l.y-s.y)}}}function oD(n,t,e){const i=n.length;let s,o,l,c,d,p=fl(n,0);for(let g=0;g<i-1;++g)if(d=p,p=fl(n,g+1),!(!d||!p)){if(Ku(t[g],0,sD)){e[g]=e[g+1]=0;continue}s=e[g]/t[g],o=e[g+1]/t[g],c=Math.pow(s,2)+Math.pow(o,2),!(c<=9)&&(l=3/Math.sqrt(c),e[g]=s*l*t[g],e[g+1]=o*l*t[g])}}function aD(n,t,e="x"){const i=tP(e),s=n.length;let o,l,c,d=fl(n,0);for(let p=0;p<s;++p){if(l=c,c=d,d=fl(n,p+1),!c)continue;const g=c[e],y=c[i];l&&(o=(g-l[e])/3,c[`cp1${e}`]=g-o,c[`cp1${i}`]=y-o*t[p]),d&&(o=(d[e]-g)/3,c[`cp2${e}`]=g+o,c[`cp2${i}`]=y+o*t[p])}}function lD(n,t="x"){const e=tP(t),i=n.length,s=Array(i).fill(0),o=Array(i);let l,c,d,p=fl(n,0);for(l=0;l<i;++l)if(c=d,d=p,p=fl(n,l+1),!!d){if(p){const g=p[t]-d[t];s[l]=g!==0?(p[e]-d[e])/g:0}o[l]=c?p?Gi(s[l-1])!==Gi(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}oD(n,s,o),aD(n,o,t)}function vd(n,t,e){return Math.max(Math.min(n,e),t)}function uD(n,t){let e,i,s,o,l,c=Is(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=c,c=e<i-1&&Is(n[e+1],t),o&&(s=n[e],l&&(s.cp1x=vd(s.cp1x,t.left,t.right),s.cp1y=vd(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=vd(s.cp2x,t.left,t.right),s.cp2y=vd(s.cp2y,t.top,t.bottom)))}function cD(n,t,e,i,s){let o,l,c,d;if(t.spanGaps&&(n=n.filter(p=>!p.skip)),t.cubicInterpolationMode==="monotone")lD(n,s);else{let p=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)c=n[o],d=rD(p,c,n[Math.min(o+1,l-(i?0:1))%l],t.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,p=c}t.capBezierPoints&&uD(n,e)}function yy(){return typeof window<"u"&&typeof document<"u"}function vy(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function wf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Zf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function hD(n,t){return Zf(n).getPropertyValue(t)}const dD=["top","right","bottom","left"];function Bo(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const o=dD[s];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const fD=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function pD(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:o}=i;let l=!1,c,d;if(fD(s,o,n.target))c=s,d=o;else{const p=t.getBoundingClientRect();c=i.clientX-p.left,d=i.clientY-p.top,l=!0}return{x:c,y:d,box:l}}function Mo(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=Zf(e),o=s.boxSizing==="border-box",l=Bo(s,"padding"),c=Bo(s,"border","width"),{x:d,y:p,box:g}=pD(n,e),y=l.left+(g&&c.left),w=l.top+(g&&c.top);let{width:T,height:C}=t;return o&&(T-=l.width+c.width,C-=l.height+c.height),{x:Math.round((d-y)/T*e.width/i),y:Math.round((p-w)/C*e.height/i)}}function mD(n,t,e){let i,s;if(t===void 0||e===void 0){const o=n&&vy(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),c=Zf(o),d=Bo(c,"border","width"),p=Bo(c,"padding");t=l.width-p.width-d.width,e=l.height-p.height-d.height,i=wf(c.maxWidth,o,"clientWidth"),s=wf(c.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||vf,maxHeight:s||vf}}const Lr=n=>Math.round(n*10)/10;function gD(n,t,e,i){const s=Zf(n),o=Bo(s,"margin"),l=wf(s.maxWidth,n,"clientWidth")||vf,c=wf(s.maxHeight,n,"clientHeight")||vf,d=mD(n,t,e);let{width:p,height:g}=d;if(s.boxSizing==="content-box"){const w=Bo(s,"border","width"),T=Bo(s,"padding");p-=T.width+w.width,g-=T.height+w.height}return p=Math.max(0,p-o.width),g=Math.max(0,i?p/i:g-o.height),p=Lr(Math.min(p,l,d.maxWidth)),g=Lr(Math.min(g,c,d.maxHeight)),p&&!g&&(g=Lr(p/2)),(t!==void 0||e!==void 0)&&i&&d.height&&g>d.height&&(g=d.height,p=Lr(Math.floor(g*i))),{width:p,height:g}}function rw(n,t,e){const i=t||1,s=Lr(n.height*i),o=Lr(n.width*i);n.height=Lr(n.height),n.width=Lr(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==o?(n.currentDevicePixelRatio=i,l.height=s,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const _D=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};yy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function ow(n,t){const e=hD(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Lo(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function yD(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function vD(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=Lo(n,s,e),c=Lo(s,o,e),d=Lo(o,t,e),p=Lo(l,c,e),g=Lo(c,d,e);return Lo(p,g,e)}const xD=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},wD=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function sl(n,t,e){return n?xD(t,e):wD()}function eP(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function nP(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function iP(n){return n==="angle"?{between:pc,compare:SO,normalize:an}:{between:ks,compare:(t,e)=>t-e,normalize:t=>t}}function aw({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function SD(n,t,e){const{property:i,start:s,end:o}=e,{between:l,normalize:c}=iP(i),d=t.length;let{start:p,end:g,loop:y}=n,w,T;if(y){for(p+=d,g+=d,w=0,T=d;w<T&&l(c(t[p%d][i]),s,o);++w)p--,g--;p%=d,g%=d}return g<p&&(g+=d),{start:p,end:g,loop:y,style:n.style}}function sP(n,t,e){if(!e)return[n];const{property:i,start:s,end:o}=e,l=t.length,{compare:c,between:d,normalize:p}=iP(i),{start:g,end:y,loop:w,style:T}=SD(n,t,e),C=[];let k=!1,I=null,M,R,F;const j=()=>d(s,F,M)&&c(s,F)!==0,B=()=>c(o,M)===0||d(o,F,M),G=()=>k||j(),Y=()=>!k||B();for(let $=g,rt=g;$<=y;++$)R=t[$%l],!R.skip&&(M=p(R[i]),M!==F&&(k=d(M,s,o),I===null&&G()&&(I=c(M,s)===0?$:rt),I!==null&&Y()&&(C.push(aw({start:I,end:$,loop:w,count:l,style:T})),I=null),rt=$,F=M));return I!==null&&C.push(aw({start:I,end:y,loop:w,count:l,style:T})),C}function rP(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const o=sP(i[s],n.points,t);o.length&&e.push(...o)}return e}function bD(n,t,e,i){let s=0,o=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(o+=s);o>s&&n[o%t].skip;)o--;return o%=t,{start:s,end:o}}function TD(n,t,e,i){const s=n.length,o=[];let l=t,c=n[t],d;for(d=t+1;d<=e;++d){const p=n[d%s];p.skip||p.stop?c.skip||(i=!1,o.push({start:t%s,end:(d-1)%s,loop:i}),t=l=p.stop?d:null):(l=d,c.skip&&(t=d)),c=p}return l!==null&&o.push({start:t%s,end:l%s,loop:i}),o}function CD(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const o=!!n._loop,{start:l,end:c}=bD(e,s,o,i);if(i===!0)return lw(n,[{start:l,end:c,loop:o}],e,t);const d=c<l?c+s:c,p=!!n._fullLoop&&l===0&&c===s-1;return lw(n,TD(e,l,d,p),e,t)}function lw(n,t,e,i){return!i||!i.setContext||!e?t:PD(n,t,e,i)}function PD(n,t,e,i){const s=n._chart.getContext(),o=uw(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,d=e.length,p=[];let g=o,y=t[0].start,w=y;function T(C,k,I,M){const R=c?-1:1;if(C!==k){for(C+=d;e[C%d].skip;)C-=R;for(;e[k%d].skip;)k+=R;C%d!==k%d&&(p.push({start:C%d,end:k%d,loop:I,style:M}),g=M,y=k%d)}}for(const C of t){y=c?y:C.start;let k=e[y%d],I;for(w=y+1;w<=C.end;w++){const M=e[w%d];I=uw(i.setContext(Ur(s,{type:"segment",p0:k,p1:M,p0DataIndex:(w-1)%d,p1DataIndex:w%d,datasetIndex:l}))),kD(I,g)&&T(y,w-1,C.loop,g),k=M,g=I}y<w-1&&T(y,w-1,C.loop,g)}return p}function uw(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function kD(n,t){if(!t)return!1;const e=[],i=function(s,o){return fy(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function xd(n,t,e){return n.options.clip?n[e]:t[e]}function ED(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:xd(e,t,"left"),right:xd(e,t,"right"),top:xd(i,t,"top"),bottom:xd(i,t,"bottom")}:t}function oP(n,t){const e=t._clip;if(e.disabled)return!1;const i=ED(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class ID{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const o=e.listeners[s],l=e.duration;o.forEach(c=>c({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=jC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,c=!1,d;for(;l>=0;--l)d=o[l],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),c=!0):(o[l]=o[o.length-1],o.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),o.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var xs=new ID;const cw="transparent",MD={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=tw(n||cw),s=i.valid&&tw(t||cw);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class LD{constructor(t,e,i,s){const o=e[i];s=Du([t.to,s,o,t.from]);const l=Du([t.from,o,s]);this._active=!0,this._fn=t.fn||MD[t.type||typeof l],this._easing=$u[t.easing]||$u.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Du([t.to,e,s,t.from]),this._from=Du([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,o=this._from,l=this._loop,c=this._to;let d;if(this._active=o!==c&&(l||e<i),!this._active){this._target[s]=c,this._notify(!0);return}if(e<0){this._target[s]=o;return}d=e/i%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(o,c,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class aP{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Gt(t))return;const e=Object.keys(ge.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!Gt(o))return;const l={};for(const c of e)l[c]=o[c];(me(o.properties)&&o.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,e){const i=e.options,s=RD(t,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&AD(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,s=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),c=Date.now();let d;for(d=l.length-1;d>=0;--d){const p=l[d];if(p.charAt(0)==="$")continue;if(p==="options"){s.push(...this._animateOptions(t,e));continue}const g=e[p];let y=o[p];const w=i.get(p);if(y)if(w&&y.active()){y.update(w,g,c);continue}else y.cancel();if(!w||!w.duration){t[p]=g;continue}o[p]=y=new LD(w,t,p,g),s.push(y)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return xs.add(this._chart,i),!0}}function AD(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function RD(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function hw(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:s,end:i?s:o}}function OD(n,t,e){if(e===!1)return!1;const i=hw(n,e),s=hw(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function DD(n){let t,e,i,s;return Gt(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function lP(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,o;for(s=0,o=i.length;s<o;++s)e.push(i[s].index);return e}function dw(n,t,e,i={}){const s=n.keys,o=i.mode==="single";let l,c,d,p;if(t===null)return;let g=!1;for(l=0,c=s.length;l<c;++l){if(d=+s[l],d===e){if(g=!0,i.all)continue;break}p=n.values[d],Pe(p)&&(o||t===0||Gi(t)===Gi(p))&&(t+=p)}return!g&&!i.all?0:t}function ND(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let d,p,g;for(d=0,p=l.length;d<p;++d)g=l[d],c[d]={[s]:g,[o]:n[g]};return c}function Zm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function FD(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function zD(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function BD(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function fw(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const o=n[s.index];if(e&&o>0||!e&&o<0)return s.index}return null}function pw(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:c}=i,d=o.axis,p=l.axis,g=FD(o,l,i),y=t.length;let w;for(let T=0;T<y;++T){const C=t[T],{[d]:k,[p]:I}=C,M=C._stacks||(C._stacks={});w=M[p]=BD(s,g,k),w[c]=I,w._top=fw(w,l,!0,i.type),w._bottom=fw(w,l,!1,i.type);const R=w._visualValues||(w._visualValues={});R[c]=I}}function Gm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function VD(n,t){return Ur(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function WD(n,t,e){return Ur(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Eu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const o=s._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Km=n=>n==="reset"||n==="none",mw=(n,t)=>t?n:Object.assign({},n),jD=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:lP(e,!0),values:null};class Hr{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Zm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Eu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(y,w,T,C)=>y==="x"?w:y==="r"?C:T,o=e.xAxisID=Dt(i.xAxisID,Gm(t,"x")),l=e.yAxisID=Dt(i.yAxisID,Gm(t,"y")),c=e.rAxisID=Dt(i.rAxisID,Gm(t,"r")),d=e.indexAxis,p=e.iAxisID=s(d,o,l,c),g=e.vAxisID=s(d,l,o,c);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(p),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Xx(this._data,this),t._stacked&&Eu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Gt(e)){const s=this._cachedMeta;this._data=ND(e,s)}else if(i!==e){if(i){Xx(i,this);const s=this._cachedMeta;Eu(s),s._parsed=[]}e&&Object.isExtensible(e)&&PO(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=e._stacked;e._stacked=Zm(e.vScale,e),e.stack!==i.stack&&(s=!0,Eu(e),e.stack=i.stack),this._resyncElements(t),(s||o!==e._stacked)&&(pw(this,e._parsed),e._stacked=Zm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:l}=i,c=o.axis;let d=t===0&&e===s.length?!0:i._sorted,p=t>0&&i._parsed[t-1],g,y,w;if(this._parsing===!1)i._parsed=s,i._sorted=!0,w=s;else{me(s[t])?w=this.parseArrayData(i,s,t,e):Gt(s[t])?w=this.parseObjectData(i,s,t,e):w=this.parsePrimitiveData(i,s,t,e);const T=()=>y[c]===null||p&&y[c]<p[c];for(g=0;g<e;++g)i._parsed[g+t]=y=w[g],d&&(T()&&(d=!1),p=y);i._sorted=d}l&&pw(this,w)}parsePrimitiveData(t,e,i,s){const{iScale:o,vScale:l}=t,c=o.axis,d=l.axis,p=o.getLabels(),g=o===l,y=new Array(s);let w,T,C;for(w=0,T=s;w<T;++w)C=w+i,y[w]={[c]:g||o.parse(p[C],C),[d]:l.parse(e[C],C)};return y}parseArrayData(t,e,i,s){const{xScale:o,yScale:l}=t,c=new Array(s);let d,p,g,y;for(d=0,p=s;d<p;++d)g=d+i,y=e[g],c[d]={x:o.parse(y[0],g),y:l.parse(y[1],g)};return c}parseObjectData(t,e,i,s){const{xScale:o,yScale:l}=t,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,p=new Array(s);let g,y,w,T;for(g=0,y=s;g<y;++g)w=g+i,T=e[w],p[g]={x:o.parse(Br(T,c),w),y:l.parse(Br(T,d),w)};return p}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,o=this._cachedMeta,l=e[t.axis],c={keys:lP(s,!0),values:e._stacks[t.axis]._visualValues};return dw(c,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const o=i[e.axis];let l=o===null?NaN:o;const c=s&&i._stacks[e.axis];s&&c&&(s.values=c,l=dw(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),d=jD(e,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=zD(c);let w,T;function C(){T=s[w];const k=T[c.axis];return!Pe(T[t.axis])||g>k||y<k}for(w=0;w<l&&!(!C()&&(this.updateRangeFromParsed(p,t,T,d),o));++w);if(o){for(w=l-1;w>=0;--w)if(!C()){this.updateRangeFromParsed(p,t,T,d);break}}return p}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,o,l;for(s=0,o=e.length;s<o;++s)l=e[s][t.axis],Pe(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=DD(Dt(this.options.clip,OD(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],o=e.chartArea,l=[],c=this._drawStart||0,d=this._drawCount||s.length-c,p=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,o,c,d),g=c;g<c+d;++g){const y=s[g];y.hidden||(y.active&&p?l.push(y):y.draw(t,o))}for(g=0;g<l.length;++g)l[g].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=WD(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=VD(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",o=this._cachedDataOpts,l=t+"-"+e,c=o[l],d=this.enableOptionSharing&&fc(i);if(c)return mw(c,d);const p=this.chart.config,g=p.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],w=p.getOptionScopes(this.getDataset(),g),T=Object.keys(ge.elements[t]),C=()=>this.getContext(i,s,e),k=p.resolveNamedOptions(w,T,C,y);return k.$shared&&(k.$shared=d,o[l]=Object.freeze(mw(k,d))),k}_resolveAnimations(t,e,i){const s=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,c=o[l];if(c)return c;let d;if(s.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,e),w=g.getOptionScopes(this.getDataset(),y);d=g.createResolver(w,this.getContext(t,i,e))}const p=new aP(s,d&&d.animations);return d&&d._cacheable&&(o[l]=Object.freeze(p)),p}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Km(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==s;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,s){Km(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Km(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const o=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[c,d,p]of this._syncList)this[c](d,p);this._syncList=[];const s=i.length,o=e.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,e,i=!0){const s=this._cachedMeta,o=s.data,l=t+e;let c;const d=p=>{for(p.length+=e,c=p.length-1;c>=l;c--)p[c]=p[c-e]};for(d(o),c=t;c<l;++c)o[c]=new this.dataElementType;this._parsing&&d(s._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Eu(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function UD(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,o=e.length;s<o;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=WC(i.sort((s,o)=>s-o))}return n._cache.$bar}function HD(n){const t=n.iScale,e=UD(t,n.type);let i=t._length,s,o,l,c;const d=()=>{l===32767||l===-32768||(fc(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(s=0,o=e.length;s<o;++s)l=t.getPixelForValue(e[s]),d();for(c=void 0,s=0,o=t.ticks.length;s<o;++s)l=t.getPixelForTick(s),d();return i}function ZD(n,t,e,i){const s=e.barThickness;let o,l;return Ht(s)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=s*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function GD(n,t,e,i){const s=t.pixels,o=s[n];let l=n>0?s[n-1]:null,c=n<s.length-1?s[n+1]:null;const d=e.categoryPercentage;l===null&&(l=o-(c===null?t.end-t.start:c-o)),c===null&&(c=o+o-l);const p=o-(o-Math.min(l,c))/2*d;return{chunk:Math.abs(c-l)/2*d/i,ratio:e.barPercentage,start:p}}function KD(n,t,e,i){const s=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(s,o),c=Math.max(s,o);let d=l,p=c;Math.abs(l)>Math.abs(c)&&(d=c,p=l),t[e.axis]=p,t._custom={barStart:d,barEnd:p,start:s,end:o,min:l,max:c}}function uP(n,t,e,i){return me(n)?KD(n,t,e,i):t[e.axis]=e.parse(n,i),t}function gw(n,t,e,i){const s=n.iScale,o=n.vScale,l=s.getLabels(),c=s===o,d=[];let p,g,y,w;for(p=e,g=e+i;p<g;++p)w=t[p],y={},y[s.axis]=c||s.parse(l[p],p),d.push(uP(w,y,o,p));return d}function $m(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function $D(n,t,e){return n!==0?Gi(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function YD(n){let t,e,i,s,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",o="start"):(s="start",o="end"),{start:e,end:i,reverse:t,top:s,bottom:o}}function qD(n,t,e,i){let s=t.borderSkipped;const o={};if(!s){n.borderSkipped=o;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:d,top:p,bottom:g}=YD(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=p:(e._bottom||0)===i?s=g:(o[_w(g,l,c,d)]=!0,s=p)),o[_w(s,l,c,d)]=!0,n.borderSkipped=o}function _w(n,t,e,i){return i?(n=XD(n,t,e),n=yw(n,e,t)):n=yw(n,t,e),n}function XD(n,t,e){return n===t?e:n===e?t:n}function yw(n,t,e){return n==="start"?t:n==="end"?e:n}function QD(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class JD extends Hr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,s){return gw(t,e,i,s)}parseArrayData(t,e,i,s){return gw(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:o,vScale:l}=t,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,p=o.axis==="x"?c:d,g=l.axis==="x"?c:d,y=[];let w,T,C,k;for(w=i,T=i+s;w<T;++w)k=e[w],C={},C[o.axis]=o.parse(Br(k,p),w),y.push(uP(Br(k,g),C,l,w));return y}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,o=this.getParsed(t),l=o._custom,c=$m(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const o=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),p=c.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:w}=this._getSharedOptions(e,s);for(let T=e;T<e+i;T++){const C=this.getParsed(T),k=o||Ht(C[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(T),I=this._calculateBarIndexPixels(T,g),M=(C._stacks||{})[c.axis],R={horizontal:p,base:k.base,enableBorderRadius:!M||$m(C._custom)||l===M._top||l===M._bottom,x:p?k.head:I.center,y:p?I.center:k.head,height:p?I.size:Math.abs(k.size),width:p?Math.abs(k.size):I.size};w&&(R.options=y||this.resolveDataElementOptions(T,t[T].active?"active":s));const F=R.options||t[T].options;qD(R,F,M,l),QD(R,F,g.ratio),this.updateElement(t[T],T,R,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(e),d=c&&c[i.axis],p=g=>{const y=g._parsed.find(T=>T[i.axis]===d),w=y&&y[g.vScale.axis];if(Ht(w)||isNaN(w))return!0};for(const g of s)if(!(e!==void 0&&p(g))&&((o===!1||l.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Dt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const s=this._getStacks(t,i),o=e!==void 0?s.indexOf(e):-1;return o===-1?s.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let o,l;for(o=0,l=e.data.length;o<l;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const c=t.barThickness;return{min:c||HD(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:o,minBarLength:l}}=this,c=o||0,d=this.getParsed(t),p=d._custom,g=$m(p);let y=d[e.axis],w=0,T=i?this.applyStack(e,d,i):y,C,k;T!==y&&(w=T-y,T=y),g&&(y=p.barStart,T=p.barEnd-p.barStart,y!==0&&Gi(y)!==Gi(p.barEnd)&&(w=0),w+=y);const I=!Ht(o)&&!g?o:w;let M=e.getPixelForValue(I);if(this.chart.getDataVisibility(t)?C=e.getPixelForValue(w+T):C=M,k=C-M,Math.abs(k)<l){k=$D(k,e,c)*l,y===c&&(M-=k/2);const R=e.getPixelForDecimal(0),F=e.getPixelForDecimal(1),j=Math.min(R,F),B=Math.max(R,F);M=Math.max(Math.min(M,B),j),C=M+k,i&&!g&&(d._stacks[e.axis]._visualValues[s]=e.getValueForPixel(C)-e.getValueForPixel(M))}if(M===e.getPixelForValue(c)){const R=Gi(k)*e.getLineWidthForValue(c)/2;M+=R,k-=R}return{size:k,base:M,head:C,center:C+k/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,o=s.skipNull,l=Dt(s.maxBarThickness,1/0);let c,d;const p=this._getAxisCount();if(e.grouped){const g=o?this._getStackCount(t):e.stackCount,y=s.barThickness==="flex"?GD(t,e,s,g*p):ZD(t,e,s,g*p),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,T=this._getAxis().indexOf(Dt(w,this.getFirstScaleIdForIndexAxis())),C=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+T;c=y.start+y.chunk*C+y.chunk/2,d=Math.min(l,y.chunk*y.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),d=Math.min(l,e.min*e.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}class tN extends Hr{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const o=super.parsePrimitiveData(t,e,i,s);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(t,e,i,s){const o=super.parseArrayData(t,e,i,s);for(let l=0;l<o.length;l++){const c=e[i+l];o[l]._custom=Dt(c[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(t,e,i,s){const o=super.parseObjectData(t,e,i,s);for(let l=0;l<o.length;l++){const c=e[i+l];o[l]._custom=Dt(c&&c.r&&+c.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=e,l=this.getParsed(t),c=s.getLabelForValue(l.x),d=o.getLabelForValue(l.y),p=l._custom;return{label:i[t]||"",value:"("+c+", "+d+(p?", "+p:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const o=s==="reset",{iScale:l,vScale:c}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(e,s),g=l.axis,y=c.axis;for(let w=e;w<e+i;w++){const T=t[w],C=!o&&this.getParsed(w),k={},I=k[g]=o?l.getPixelForDecimal(.5):l.getPixelForValue(C[g]),M=k[y]=o?c.getBasePixel():c.getPixelForValue(C[y]);k.skip=isNaN(I)||isNaN(M),p&&(k.options=d||this.resolveDataElementOptions(w,T.active?"active":s),o&&(k.options.radius=0)),this.updateElement(T,w,k,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return e!=="active"&&(s.radius=0),s.radius+=Dt(i&&i._custom,o),s}}function eN(n,t,e){let i=1,s=1,o=0,l=0;if(t<de){const c=n,d=c+t,p=Math.cos(c),g=Math.sin(c),y=Math.cos(d),w=Math.sin(d),T=(F,j,B)=>pc(F,c,d,!0)?1:Math.max(j,j*e,B,B*e),C=(F,j,B)=>pc(F,c,d,!0)?-1:Math.min(j,j*e,B,B*e),k=T(0,p,y),I=T(Ie,g,w),M=C(Xt,p,y),R=C(Xt+Ie,g,w);i=(k-M)/2,s=(I-R)/2,o=-(k+M)/2,l=-(I+R)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:l}}class xy extends Hr{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:s,color:o,useBorderRadius:l,borderRadius:c}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((d,p)=>{const y=t.getDatasetMeta(0).controller.getStyle(p);return{text:d,fillStyle:y.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(p),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:s,pointStyle:i,borderRadius:l&&(c||y.borderRadius),index:p}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=d=>+i[d];if(Gt(i[t])){const{key:d="value"}=this._parsing;o=p=>+Br(i[p],d)}let l,c;for(l=t,c=t+e;l<c;++l)s._parsed[l]=o(l)}}_getRotation(){return ki(this.options.rotation-90)}_getCircumference(){return ki(this.options.circumference)}_getRotationExtents(){let t=de,e=-de;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),l=s._getCircumference();t=Math.min(t,o),e=Math.max(e,o+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,o=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),d=Math.min(hO(this.options.cutout,c),1),p=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:w,ratioY:T,offsetX:C,offsetY:k}=eN(y,g,d),I=(i.width-l)/w,M=(i.height-l)/T,R=Math.max(Math.min(I,M)/2,0),F=NC(this.options.radius,R),j=Math.max(F*d,0),B=(F-j)/this._getVisibleDatasetWeightTotal();this.offsetX=C*F,this.offsetY=k*F,s.total=this.calculateTotal(),this.outerRadius=F-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*p,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/de)}updateElements(t,e,i,s){const o=s==="reset",l=this.chart,c=l.chartArea,p=l.options.animation,g=(c.left+c.right)/2,y=(c.top+c.bottom)/2,w=o&&p.animateScale,T=w?0:this.innerRadius,C=w?0:this.outerRadius,{sharedOptions:k,includeOptions:I}=this._getSharedOptions(e,s);let M=this._getRotation(),R;for(R=0;R<e;++R)M+=this._circumference(R,o);for(R=e;R<e+i;++R){const F=this._circumference(R,o),j=t[R],B={x:g+this.offsetX,y:y+this.offsetY,startAngle:M,endAngle:M+F,circumference:F,outerRadius:C,innerRadius:T};I&&(B.options=k||this.resolveDataElementOptions(R,j.active?"active":s)),M+=F,this.updateElement(j,R,B,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?de*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=Fc(e._parsed[t],i.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,o,l,c,d;if(!t){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,c=l.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)d=c.resolveDataElementOptions(s),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Dt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class cP extends Hr{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:c,count:d}=HC(e,s,l);this._drawStart=c,this._drawCount=d,ZC(e)&&(c=0,d=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const p=this.resolveDatasetElementOptions(t);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:p},t),this.updateElements(s,c,d,t)}updateElements(t,e,i,s){const o=s==="reset",{iScale:l,vScale:c,_stacked:d,_dataset:p}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(e,s),w=l.axis,T=c.axis,{spanGaps:C,segment:k}=this.options,I=hl(C)?C:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||o||s==="none",R=e+i,F=t.length;let j=e>0&&this.getParsed(e-1);for(let B=0;B<F;++B){const G=t[B],Y=M?G:{};if(B<e||B>=R){Y.skip=!0;continue}const $=this.getParsed(B),rt=Ht($[T]),dt=Y[w]=l.getPixelForValue($[w],B),ct=Y[T]=o||rt?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,$,d):$[T],B);Y.skip=isNaN(dt)||isNaN(ct)||rt,Y.stop=B>0&&Math.abs($[w]-j[w])>I,k&&(Y.parsed=$,Y.raw=p.data[B]),y&&(Y.options=g||this.resolveDataElementOptions(B,G.active?"active":s)),M||this.updateElement(G,B,Y,s),j=$}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class hP extends Hr{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((o,l)=>{const d=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:s,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=Fc(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,e,i,s){return JC.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(s/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),c=(o-l)/t.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,e,i,s){const o=s==="reset",l=this.chart,d=l.options.animation,p=this._cachedMeta.rScale,g=p.xCenter,y=p.yCenter,w=p.getIndexAngle(0)-.5*Xt;let T=w,C;const k=360/this.countVisibleElements();for(C=0;C<e;++C)T+=this._computeAngle(C,s,k);for(C=e;C<e+i;C++){const I=t[C];let M=T,R=T+this._computeAngle(C,s,k),F=l.getDataVisibility(C)?p.getDistanceFromCenterForValue(this.getParsed(C).r):0;T=R,o&&(d.animateScale&&(F=0),d.animateRotate&&(M=R=w));const j={x:g,y,innerRadius:0,outerRadius:F,startAngle:M,endAngle:R,options:this.resolveDataElementOptions(C,I.active?"active":s)};this.updateElement(I,C,j,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?ki(this.resolveDataElementOptions(t,e).angle||i):0}}class nN extends xy{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class iN extends Hr{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return JC.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],o=e.iScale.getLabels();if(i.points=s,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const c={_loop:!0,_fullLoop:o.length===s.length,options:l};this.updateElement(i,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const o=this._cachedMeta.rScale,l=s==="reset";for(let c=e;c<e+i;c++){const d=t[c],p=this.resolveDataElementOptions(c,d.active?"active":s),g=o.getPointPositionForValue(c,this.getParsed(c).r),y=l?o.xCenter:g.x,w=l?o.yCenter:g.y,T={x:y,y:w,angle:g.angle,skip:isNaN(y)||isNaN(w),options:p};this.updateElement(d,c,T,s)}}}class sN extends Hr{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=e,l=this.getParsed(t),c=s.getLabelForValue(l.x),d=o.getLabelForValue(l.y);return{label:i[t]||"",value:"("+c+", "+d+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:o,count:l}=HC(e,i,s);if(this._drawStart=o,this._drawCount=l,ZC(e)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:d}=e;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!d._decimated,c.points=i;const p=this.resolveDatasetElementOptions(t);p.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:p},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,s){const o=s==="reset",{iScale:l,vScale:c,_stacked:d,_dataset:p}=this._cachedMeta,g=this.resolveDataElementOptions(e,s),y=this.getSharedOptions(g),w=this.includeOptions(s,y),T=l.axis,C=c.axis,{spanGaps:k,segment:I}=this.options,M=hl(k)?k:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||o||s==="none";let F=e>0&&this.getParsed(e-1);for(let j=e;j<e+i;++j){const B=t[j],G=this.getParsed(j),Y=R?B:{},$=Ht(G[C]),rt=Y[T]=l.getPixelForValue(G[T],j),dt=Y[C]=o||$?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,G,d):G[C],j);Y.skip=isNaN(rt)||isNaN(dt)||$,Y.stop=j>0&&Math.abs(G[T]-F[T])>M,I&&(Y.parsed=G,Y.raw=p.data[j]),w&&(Y.options=y||this.resolveDataElementOptions(j,B.active?"active":s)),R||this.updateElement(B,j,Y,s),F=G}this.updateSharedOptions(y,s,g)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let c=0;for(let d=e.length-1;d>=0;--d)c=Math.max(c,e[d].size(this.resolveDataElementOptions(d))/2);return c>0&&c}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const o=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,o,l)/2}}var rN=Object.freeze({__proto__:null,BarController:JD,BubbleController:tN,DoughnutController:xy,LineController:cP,PieController:nN,PolarAreaController:hP,RadarController:iN,ScatterController:sN});function Po(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class wy{static override(t){Object.assign(wy.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Po()}parse(){return Po()}format(){return Po()}add(){return Po()}diff(){return Po()}startOf(){return Po()}endOf(){return Po()}}var oN={_date:wy};function aN(n,t,e,i){const{controller:s,data:o,_sorted:l}=n,c=s._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&o.length){const p=c._reversePixels?TO:Es;if(i){if(s._sharedOptions){const g=o[0],y=typeof g.getRange=="function"&&g.getRange(t);if(y){const w=p(o,t,e-y),T=p(o,t,e+y);return{lo:w.lo,hi:T.hi}}}}else{const g=p(o,t,e);if(d){const{vScale:y}=s._cachedMeta,{_parsed:w}=n,T=w.slice(0,g.lo+1).reverse().findIndex(k=>!Ht(k[y.axis]));g.lo-=Math.max(0,T);const C=w.slice(g.hi).findIndex(k=>!Ht(k[y.axis]));g.hi+=Math.max(0,C)}return g}}return{lo:0,hi:o.length-1}}function Gf(n,t,e,i,s){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let c=0,d=o.length;c<d;++c){const{index:p,data:g}=o[c],{lo:y,hi:w}=aN(o[c],t,l,s);for(let T=y;T<=w;++T){const C=g[T];C.skip||i(C,p,T)}}}function lN(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const o=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Ym(n,t,e,i,s){const o=[];return!s&&!n.isPointInArea(t)||Gf(n,e,t,function(c,d,p){!s&&!Is(c,n.chartArea,0)||c.inRange(t.x,t.y,i)&&o.push({element:c,datasetIndex:d,index:p})},!0),o}function uN(n,t,e,i){let s=[];function o(l,c,d){const{startAngle:p,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:y}=BC(l,{x:t.x,y:t.y});pc(y,p,g)&&s.push({element:l,datasetIndex:c,index:d})}return Gf(n,e,t,o),s}function cN(n,t,e,i,s,o){let l=[];const c=lN(e);let d=Number.POSITIVE_INFINITY;function p(g,y,w){const T=g.inRange(t.x,t.y,s);if(i&&!T)return;const C=g.getCenterPoint(s);if(!(!!o||n.isPointInArea(C))&&!T)return;const I=c(t,C);I<d?(l=[{element:g,datasetIndex:y,index:w}],d=I):I===d&&l.push({element:g,datasetIndex:y,index:w})}return Gf(n,e,t,p),l}function qm(n,t,e,i,s,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?uN(n,t,e,s):cN(n,t,e,i,s,o)}function vw(n,t,e,i,s){const o=[],l=e==="x"?"inXRange":"inYRange";let c=!1;return Gf(n,e,t,(d,p,g)=>{d[l]&&d[l](t[e],s)&&(o.push({element:d,datasetIndex:p,index:g}),c=c||d.inRange(t.x,t.y,s))}),i&&!c?[]:o}var hN={modes:{index(n,t,e,i){const s=Mo(t,n),o=e.axis||"x",l=e.includeInvisible||!1,c=e.intersect?Ym(n,s,o,i,l):qm(n,s,o,!1,i,l),d=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const g=c[0].index,y=p.data[g];y&&!y.skip&&d.push({element:y,datasetIndex:p.index,index:g})}),d):[]},dataset(n,t,e,i){const s=Mo(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let c=e.intersect?Ym(n,s,o,i,l):qm(n,s,o,!1,i,l);if(c.length>0){const d=c[0].datasetIndex,p=n.getDatasetMeta(d).data;c=[];for(let g=0;g<p.length;++g)c.push({element:p[g],datasetIndex:d,index:g})}return c},point(n,t,e,i){const s=Mo(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Ym(n,s,o,i,l)},nearest(n,t,e,i){const s=Mo(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return qm(n,s,o,e.intersect,i,l)},x(n,t,e,i){const s=Mo(t,n);return vw(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=Mo(t,n);return vw(n,s,"y",e.intersect,i)}}};const dP=["left","top","right","bottom"];function Iu(n,t){return n.filter(e=>e.pos===t)}function xw(n,t){return n.filter(e=>dP.indexOf(e.pos)===-1&&e.box.axis===t)}function Mu(n,t){return n.sort((e,i)=>{const s=t?i:e,o=t?e:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function dN(n){const t=[];let e,i,s,o,l,c;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:o,options:{stack:l,stackWeight:c=1}}=s,t.push({index:e,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&o+l,stackWeight:c});return t}function fN(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:o}=e;if(!i||!dP.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function pN(n,t){const e=fN(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let o,l,c;for(o=0,l=n.length;o<l;++o){c=n[o];const{fullSize:d}=c.box,p=e[c.stack],g=p&&c.stackWeight/p.weight;c.horizontal?(c.width=g?g*i:d&&t.availableWidth,c.height=s):(c.width=i,c.height=g?g*s:d&&t.availableHeight)}return e}function mN(n){const t=dN(n),e=Mu(t.filter(p=>p.box.fullSize),!0),i=Mu(Iu(t,"left"),!0),s=Mu(Iu(t,"right")),o=Mu(Iu(t,"top"),!0),l=Mu(Iu(t,"bottom")),c=xw(t,"x"),d=xw(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:s.concat(d).concat(l).concat(c),chartArea:Iu(t,"chartArea"),vertical:i.concat(s).concat(d),horizontal:o.concat(l).concat(c)}}function ww(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function fP(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function gN(n,t,e,i){const{pos:s,box:o}=e,l=n.maxPadding;if(!Gt(s)){e.size&&(n[s]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?o.height:o.width),e.size=y.size/y.count,n[s]+=e.size}o.getPadding&&fP(l,o.getPadding());const c=Math.max(0,t.outerWidth-ww(l,n,"left","right")),d=Math.max(0,t.outerHeight-ww(l,n,"top","bottom")),p=c!==n.w,g=d!==n.h;return n.w=c,n.h=d,e.horizontal?{same:p,other:g}:{same:g,other:p}}function _N(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function yN(n,t){const e=t.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function Nu(n,t,e,i){const s=[];let o,l,c,d,p,g;for(o=0,l=n.length,p=0;o<l;++o){c=n[o],d=c.box,d.update(c.width||t.w,c.height||t.h,yN(c.horizontal,t));const{same:y,other:w}=gN(t,e,c,i);p|=y&&s.length,g=g||w,d.fullSize||s.push(c)}return p&&Nu(s,t,e,i)||g}function wd(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function Sw(n,t,e,i){const s=e.padding;let{x:o,y:l}=t;for(const c of n){const d=c.box,p=i[c.stack]||{placed:0,weight:1},g=c.stackWeight/p.weight||1;if(c.horizontal){const y=t.w*g,w=p.size||d.height;fc(p.start)&&(l=p.start),d.fullSize?wd(d,s.left,l,e.outerWidth-s.right-s.left,w):wd(d,t.left+p.placed,l,y,w),p.start=l,p.placed+=y,l=d.bottom}else{const y=t.h*g,w=p.size||d.width;fc(p.start)&&(o=p.start),d.fullSize?wd(d,o,s.top,w,e.outerHeight-s.bottom-s.top):wd(d,o,t.top+p.placed,w,y),p.start=o,p.placed+=y,o=d.right}}t.x=o,t.y=l}var un={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=hn(n.options.layout.padding),o=Math.max(t-s.width,0),l=Math.max(e-s.height,0),c=mN(n.boxes),d=c.vertical,p=c.horizontal;te(n.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const g=d.reduce((k,I)=>I.box.options&&I.box.options.display===!1?k:k+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/g,hBoxMaxHeight:l/2}),w=Object.assign({},s);fP(w,hn(i));const T=Object.assign({maxPadding:w,w:o,h:l,x:s.left,y:s.top},s),C=pN(d.concat(p),y);Nu(c.fullSize,T,y,C),Nu(d,T,y,C),Nu(p,T,y,C)&&Nu(d,T,y,C),_N(T),Sw(c.leftAndTop,T,y,C),T.x+=T.w,T.y+=T.h,Sw(c.rightAndBottom,T,y,C),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},te(c.chartArea,k=>{const I=k.box;Object.assign(I,n.chartArea),I.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class pP{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class vN extends pP{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const zd="$chartjs",xN={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bw=n=>n===null||n==="";function wN(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[zd]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",bw(s)){const o=ow(n,"width");o!==void 0&&(n.width=o)}if(bw(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=ow(n,"height");o!==void 0&&(n.height=o)}return n}const mP=_D?{passive:!0}:!1;function SN(n,t,e){n&&n.addEventListener(t,e,mP)}function bN(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,mP)}function TN(n,t){const e=xN[n.type]||n.type,{x:i,y:s}=Mo(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Sf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function CN(n,t,e){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||Sf(c.addedNodes,i),l=l&&!Sf(c.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function PN(n,t,e){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||Sf(c.removedNodes,i),l=l&&!Sf(c.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const gc=new Map;let Tw=0;function gP(){const n=window.devicePixelRatio;n!==Tw&&(Tw=n,gc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function kN(n,t){gc.size||window.addEventListener("resize",gP),gc.set(n,t)}function EN(n){gc.delete(n),gc.size||window.removeEventListener("resize",gP)}function IN(n,t,e){const i=n.canvas,s=i&&vy(i);if(!s)return;const o=UC((c,d)=>{const p=s.clientWidth;e(c,d),p<s.clientWidth&&e()},window),l=new ResizeObserver(c=>{const d=c[0],p=d.contentRect.width,g=d.contentRect.height;p===0&&g===0||o(p,g)});return l.observe(s),kN(n,o),l}function Xm(n,t,e){e&&e.disconnect(),t==="resize"&&EN(n)}function MN(n,t,e){const i=n.canvas,s=UC(o=>{n.ctx!==null&&e(TN(o,n))},n);return SN(i,t,s),s}class LN extends pP{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(wN(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[zd])return!1;const i=e[zd].initial;["height","width"].forEach(o=>{const l=i[o];Ht(l)?e.removeAttribute(o):e.setAttribute(o,l)});const s=i.style||{};return Object.keys(s).forEach(o=>{e.style[o]=s[o]}),e.width=e.width,delete e[zd],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:CN,detach:PN,resize:IN}[e]||MN;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Xm,detach:Xm,resize:Xm}[e]||bN)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return gD(t,e,i,s)}isAttached(t){const e=t&&vy(t);return!!(e&&e.isConnected)}}function AN(n){return!yy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?vN:LN}let zs=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return hl(this.x)&&hl(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}};function RN(n,t){const e=n.options.ticks,i=ON(n),s=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?NN(t):[],l=o.length,c=o[0],d=o[l-1],p=[];if(l>s)return FN(t,p,o,l/s),p;const g=DN(o,t,s);if(l>0){let y,w;const T=l>1?Math.round((d-c)/(l-1)):null;for(Sd(t,p,g,Ht(T)?0:c-T,c),y=0,w=l-1;y<w;y++)Sd(t,p,g,o[y],o[y+1]);return Sd(t,p,g,d,Ht(T)?t.length:d+T),p}return Sd(t,p,g),p}function ON(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function DN(n,t,e){const i=zN(n),s=t.length/e;if(!i)return Math.max(s,1);const o=vO(i);for(let l=0,c=o.length-1;l<c;l++){const d=o[l];if(d>s)return d}return Math.max(s,1)}function NN(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function FN(n,t,e,i){let s=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),s++,o=e[s*i])}function Sd(n,t,e,i,s){const o=Dt(i,0),l=Math.min(Dt(s,n.length),n.length);let c=0,d,p,g;for(e=Math.ceil(e),s&&(d=s-i,e=d/Math.floor(d/e)),g=o;g<0;)c++,g=Math.round(o+c*e);for(p=Math.max(o,0);p<l;p++)p===g&&(t.push(n[p]),c++,g=Math.round(o+c*e))}function zN(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const BN=n=>n==="left"?"right":n==="right"?"left":n,Cw=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Pw=(n,t)=>Math.min(t||n,n);function kw(n,t){const e=[],i=n.length/t,s=n.length;let o=0;for(;o<s;o+=i)e.push(n[Math.floor(o)]);return e}function VN(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,c=1e-6;let d=n.getPixelForTick(s),p;if(!(e&&(i===1?p=Math.max(d-o,l-d):t===0?p=(n.getPixelForTick(1)-d)/2:p=(d-n.getPixelForTick(s-1))/2,d+=s<t?p:-p,d<o-c||d>l+c)))return d}function WN(n,t){te(n,e=>{const i=e.gc,s=i.length/2;let o;if(s>t){for(o=0;o<s;++o)delete e.data[i[o]];i.splice(0,s)}})}function Lu(n){return n.drawTicks?n.tickLength:0}function Ew(n,t){if(!n.display)return 0;const e=Be(n.font,t),i=hn(n.padding);return(me(n.text)?n.text.length:1)*e.lineHeight+i.height}function jN(n,t){return Ur(n,{scale:t,type:"scale"})}function UN(n,t,e){return Ur(n,{tick:e,index:t,type:"tick"})}function HN(n,t,e){let i=dy(n);return(e&&t!=="right"||!e&&t==="right")&&(i=BN(i)),i}function ZN(n,t,e,i){const{top:s,left:o,bottom:l,right:c,chart:d}=n,{chartArea:p,scales:g}=d;let y=0,w,T,C;const k=l-s,I=c-o;if(n.isHorizontal()){if(T=on(i,o,c),Gt(e)){const M=Object.keys(e)[0],R=e[M];C=g[M].getPixelForValue(R)+k-t}else e==="center"?C=(p.bottom+p.top)/2+k-t:C=Cw(n,e,t);w=c-o}else{if(Gt(e)){const M=Object.keys(e)[0],R=e[M];T=g[M].getPixelForValue(R)-I+t}else e==="center"?T=(p.left+p.right)/2-I+t:T=Cw(n,e,t);C=on(i,l,s),y=e==="left"?-Ie:Ie}return{titleX:T,titleY:C,maxWidth:w,rotation:y}}class qo extends zs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=Un(t,Number.POSITIVE_INFINITY),e=Un(e,Number.NEGATIVE_INFINITY),i=Un(i,Number.POSITIVE_INFINITY),s=Un(s,Number.NEGATIVE_INFINITY),{min:Un(t,i),max:Un(e,s),minDefined:Pe(t),maxDefined:Pe(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),l;if(s&&o)return{min:e,max:i};const c=this.getMatchingVisibleMetas();for(let d=0,p=c.length;d<p;++d)l=c[d].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=s&&e>i?e:i,{min:Un(e,Un(i,e)),max:Un(i,Un(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ae(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:o,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$O(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?kw(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=RN(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ae(this.options.afterUpdate,[this])}beforeSetDimensions(){ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ae(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ae(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i],o.label=ae(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Pw(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,o=e.maxRotation;let l=s,c,d,p;if(!this._isVisible()||!e.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const g=this._getLabelSizes(),y=g.widest.width,w=g.highest.height,T=Ze(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:T/(i-1),y+6>c&&(c=T/(i-(t.offset?.5:1)),d=this.maxHeight-Lu(t.grid)-e.padding-Ew(t.title,this.chart.options.font),p=Math.sqrt(y*y+w*w),l=cy(Math.min(Math.asin(Ze((g.highest.height+6)/c,-1,1)),Math.asin(Ze(d/p,-1,1))-Math.asin(Ze(w/p,-1,1)))),l=Math.max(s,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ae(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:o}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const d=Ew(s,e.options.font);if(c?(t.width=this.maxWidth,t.height=Lu(o)+d):(t.height=this.maxHeight,t.width=Lu(o)+d),i.display&&this.ticks.length){const{first:p,last:g,widest:y,highest:w}=this._getLabelSizes(),T=i.padding*2,C=ki(this.labelRotation),k=Math.cos(C),I=Math.sin(C);if(c){const M=i.mirror?0:I*y.width+k*w.height;t.height=Math.min(this.maxHeight,t.height+M+T)}else{const M=i.mirror?0:k*y.width+I*w.height;t.width=Math.min(this.maxWidth,t.width+M+T)}this._calculatePadding(p,g,I,k)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:o,padding:l},position:c}=this.options,d=this.labelRotation!==0,p=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,T=0;d?p?(w=s*t.width,T=i*e.height):(w=i*t.height,T=s*e.width):o==="start"?T=e.width:o==="end"?w=t.width:o!=="inner"&&(w=t.width/2,T=e.width/2),this.paddingLeft=Math.max((w-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((T-y+l)*this.width/(this.width-y),0)}else{let g=e.height/2,y=t.height/2;o==="start"?(g=0,y=t.height):o==="end"&&(g=e.height,y=0),this.paddingTop=g+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ae(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ht(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=kw(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:o}=this,l=[],c=[],d=Math.floor(e/Pw(e,i));let p=0,g=0,y,w,T,C,k,I,M,R,F,j,B;for(y=0;y<e;y+=d){if(C=t[y].label,k=this._resolveTickFontOptions(y),s.font=I=k.string,M=o[I]=o[I]||{data:{},gc:[]},R=k.lineHeight,F=j=0,!Ht(C)&&!me(C))F=xf(s,M.data,M.gc,F,C),j=R;else if(me(C))for(w=0,T=C.length;w<T;++w)B=C[w],!Ht(B)&&!me(B)&&(F=xf(s,M.data,M.gc,F,B),j+=R);l.push(F),c.push(j),p=Math.max(F,p),g=Math.max(j,g)}WN(o,e);const G=l.indexOf(p),Y=c.indexOf(g),$=rt=>({width:l[rt]||0,height:c[rt]||0});return{first:$(0),last:$(e-1),widest:$(G),highest:$(Y),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return bO(this._alignToPixels?Co(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=UN(this.getContext(),t,i))}return this.$context||(this.$context=jN(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ki(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,c=o?o.widest.width+l:0,d=o?o.highest.height+l:0;return this.isHorizontal()?d*i>c*s?c/i:d/s:d*s<c*i?d/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:o,position:l,border:c}=s,d=o.offset,p=this.isHorizontal(),y=this.ticks.length+(d?1:0),w=Lu(o),T=[],C=c.setContext(this.getContext()),k=C.display?C.width:0,I=k/2,M=function(bt){return Co(i,bt,k)};let R,F,j,B,G,Y,$,rt,dt,ct,vt,Kt;if(l==="top")R=M(this.bottom),Y=this.bottom-w,rt=R-I,ct=M(t.top)+I,Kt=t.bottom;else if(l==="bottom")R=M(this.top),ct=t.top,Kt=M(t.bottom)-I,Y=R+I,rt=this.top+w;else if(l==="left")R=M(this.right),G=this.right-w,$=R-I,dt=M(t.left)+I,vt=t.right;else if(l==="right")R=M(this.left),dt=t.left,vt=M(t.right)-I,G=R+I,$=this.left+w;else if(e==="x"){if(l==="center")R=M((t.top+t.bottom)/2+.5);else if(Gt(l)){const bt=Object.keys(l)[0],ft=l[bt];R=M(this.chart.scales[bt].getPixelForValue(ft))}ct=t.top,Kt=t.bottom,Y=R+I,rt=Y+w}else if(e==="y"){if(l==="center")R=M((t.left+t.right)/2);else if(Gt(l)){const bt=Object.keys(l)[0],ft=l[bt];R=M(this.chart.scales[bt].getPixelForValue(ft))}G=R-I,$=G-w,dt=t.left,vt=t.right}const Ft=Dt(s.ticks.maxTicksLimit,y),Rt=Math.max(1,Math.ceil(y/Ft));for(F=0;F<y;F+=Rt){const bt=this.getContext(F),ft=o.setContext(bt),K=c.setContext(bt),at=ft.lineWidth,q=ft.color,N=K.dash||[],X=K.dashOffset,wt=ft.tickWidth,mt=ft.tickColor,pt=ft.tickBorderDash||[],lt=ft.tickBorderDashOffset;j=VN(this,F,d),j!==void 0&&(B=Co(i,j,at),p?G=$=dt=vt=B:Y=rt=ct=Kt=B,T.push({tx1:G,ty1:Y,tx2:$,ty2:rt,x1:dt,y1:ct,x2:vt,y2:Kt,width:at,color:q,borderDash:N,borderDashOffset:X,tickWidth:wt,tickColor:mt,tickBorderDash:pt,tickBorderDashOffset:lt}))}return this._ticksLength=y,this._borderValue=R,T}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:o}=i,l=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:p,padding:g,mirror:y}=o,w=Lu(i.grid),T=w+g,C=y?-g:T,k=-ki(this.labelRotation),I=[];let M,R,F,j,B,G,Y,$,rt,dt,ct,vt,Kt="middle";if(s==="top")G=this.bottom-C,Y=this._getXAxisLabelAlignment();else if(s==="bottom")G=this.top+C,Y=this._getXAxisLabelAlignment();else if(s==="left"){const Rt=this._getYAxisLabelAlignment(w);Y=Rt.textAlign,B=Rt.x}else if(s==="right"){const Rt=this._getYAxisLabelAlignment(w);Y=Rt.textAlign,B=Rt.x}else if(e==="x"){if(s==="center")G=(t.top+t.bottom)/2+T;else if(Gt(s)){const Rt=Object.keys(s)[0],bt=s[Rt];G=this.chart.scales[Rt].getPixelForValue(bt)+T}Y=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")B=(t.left+t.right)/2-T;else if(Gt(s)){const Rt=Object.keys(s)[0],bt=s[Rt];B=this.chart.scales[Rt].getPixelForValue(bt)}Y=this._getYAxisLabelAlignment(w).textAlign}e==="y"&&(d==="start"?Kt="top":d==="end"&&(Kt="bottom"));const Ft=this._getLabelSizes();for(M=0,R=c.length;M<R;++M){F=c[M],j=F.label;const Rt=o.setContext(this.getContext(M));$=this.getPixelForTick(M)+o.labelOffset,rt=this._resolveTickFontOptions(M),dt=rt.lineHeight,ct=me(j)?j.length:1;const bt=ct/2,ft=Rt.color,K=Rt.textStrokeColor,at=Rt.textStrokeWidth;let q=Y;l?(B=$,Y==="inner"&&(M===R-1?q=this.options.reverse?"left":"right":M===0?q=this.options.reverse?"right":"left":q="center"),s==="top"?p==="near"||k!==0?vt=-ct*dt+dt/2:p==="center"?vt=-Ft.highest.height/2-bt*dt+dt:vt=-Ft.highest.height+dt/2:p==="near"||k!==0?vt=dt/2:p==="center"?vt=Ft.highest.height/2-bt*dt:vt=Ft.highest.height-ct*dt,y&&(vt*=-1),k!==0&&!Rt.showLabelBackdrop&&(B+=dt/2*Math.sin(k))):(G=$,vt=(1-ct)*dt/2);let N;if(Rt.showLabelBackdrop){const X=hn(Rt.backdropPadding),wt=Ft.heights[M],mt=Ft.widths[M];let pt=vt-X.top,lt=0-X.left;switch(Kt){case"middle":pt-=wt/2;break;case"bottom":pt-=wt;break}switch(Y){case"center":lt-=mt/2;break;case"right":lt-=mt;break;case"inner":M===R-1?lt-=mt:M>0&&(lt-=mt/2);break}N={left:lt,top:pt,width:mt+X.width,height:wt+X.height,color:Rt.backdropColor}}I.push({label:j,font:rt,textOffset:vt,options:{rotation:k,color:ft,strokeColor:K,strokeWidth:at,textAlign:q,textBaseline:Kt,translation:[B,G],backdrop:N}})}return I}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ki(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,l=this._getLabelSizes(),c=t+o,d=l.widest.width;let p,g;return e==="left"?s?(g=this.right+o,i==="near"?p="left":i==="center"?(p="center",g+=d/2):(p="right",g+=d)):(g=this.right-c,i==="near"?p="right":i==="center"?(p="center",g-=d/2):(p="left",g=this.left)):e==="right"?s?(g=this.left+o,i==="near"?p="right":i==="center"?(p="center",g-=d/2):(p="left",g-=d)):(g=this.left+c,i==="near"?p="left":i==="center"?(p="center",g+=d/2):(p="right",g=this.right)):p="right",{textAlign:p,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const c=(d,p,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=s.length;o<l;++o){const d=s[o];e.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let p,g,y,w;this.isHorizontal()?(p=Co(t,this.left,l)-l/2,g=Co(t,this.right,c)+c/2,y=w=d):(y=Co(t,this.top,l)-l/2,w=Co(t,this.bottom,c)+c/2,p=g=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(p,y),e.lineTo(g,w),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Uf(i,s);const o=this.getLabelItems(t);for(const l of o){const c=l.options,d=l.font,p=l.label,g=l.textOffset;Ko(i,p,0,g,d,c)}s&&Hf(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const o=Be(i.font),l=hn(i.padding),c=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||Gt(e)?(d+=l.bottom,me(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=l.top;const{titleX:p,titleY:g,maxWidth:y,rotation:w}=ZN(this,d,e,c);Ko(t,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:w,textAlign:HN(c,e,s),textBaseline:"middle",translation:[p,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Dt(t.grid&&t.grid.z,-1),s=Dt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==qo.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,l;for(o=0,l=e.length;o<l;++o){const c=e[o];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Be(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class bd{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;$N(e)&&(i=this.register(e));const s=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,GN(t,l,i),this.override&&ge.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in ge[s]&&(delete ge[s][i],this.override&&delete Go[i])}}function GN(n,t,e){const i=dc(Object.create(null),[e?ge.get(e):{},ge.get(t),n.defaults]);ge.set(t,i),n.defaultRoutes&&KN(t,n.defaultRoutes),n.descriptors&&ge.describe(t,n.descriptors)}function KN(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),c=l.pop(),d=l.join(".");ge.route(o,s,d,c)})}function $N(n){return"id"in n&&"defaults"in n}class YN{constructor(){this.controllers=new bd(Hr,"datasets",!0),this.elements=new bd(zs,"elements"),this.plugins=new bd(Object,"plugins"),this.scales=new bd(qo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):te(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,e,i){const s=uy(t);ae(i["before"+s],[],i),e[t](i),ae(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Hi=new YN;class qN{constructor(){this._init=void 0}notify(t,e,i,s){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,s){s=s||{};for(const o of t){const l=o.plugin,c=l[i],d=[e,s,o.options];if(ae(c,d,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Ht(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=Dt(i.options&&i.options.plugins,{}),o=XN(i);return s===!1&&!e?[]:JN(t,o,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(o,l)=>o.filter(c=>!l.some(d=>c.plugin.id===d.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function XN(n){const t={},e=[],i=Object.keys(Hi.plugins.items);for(let o=0;o<i.length;o++)e.push(Hi.getPlugin(i[o]));const s=n.plugins||[];for(let o=0;o<s.length;o++){const l=s[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function QN(n,t){return!t&&n===!1?null:n===!0?{}:n}function JN(n,{plugins:t,localIds:e},i,s){const o=[],l=n.getContext();for(const c of t){const d=c.id,p=QN(i[d],s);p!==null&&o.push({plugin:c,options:t2(n.config,{plugin:c,local:e[d]},p,l)})}return o}function t2(n,{plugin:t,local:e},i,s){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vg(n,t){const e=ge.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function e2(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function n2(n,t){return n===t?"_index_":"_value_"}function Iw(n){if(n==="x"||n==="y"||n==="r")return n}function i2(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Wg(n,...t){if(Iw(n))return n;for(const e of t){const i=e.axis||i2(e.position)||n.length>1&&Iw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Mw(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function s2(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Mw(n,"x",e[0])||Mw(n,"y",e[0])}return{}}function r2(n,t){const e=Go[n.type]||{scales:{}},i=t.scales||{},s=Vg(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!Gt(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=Wg(l,c,s2(l,n),ge.scales[c.type]),p=n2(d,s),g=e.scales||{};o[l]=Gu(Object.create(null),[{axis:d},c,g[d],g[p]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,d=l.indexAxis||Vg(c,t),g=(Go[c]||{}).scales||{};Object.keys(g).forEach(y=>{const w=e2(y,d),T=l[w+"AxisID"]||w;o[T]=o[T]||Object.create(null),Gu(o[T],[{axis:w},i[T],g[y]])})}),Object.keys(o).forEach(l=>{const c=o[l];Gu(c,[ge.scales[c.type],ge.scale])}),o}function _P(n){const t=n.options||(n.options={});t.plugins=Dt(t.plugins,{}),t.scales=r2(n,t)}function yP(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function o2(n){return n=n||{},n.data=yP(n.data),_P(n),n}const Lw=new Map,vP=new Set;function Td(n,t){let e=Lw.get(n);return e||(e=t(),Lw.set(n,e),vP.add(e)),e}const Au=(n,t,e)=>{const i=Br(t,e);i!==void 0&&n.add(i)};class a2{constructor(t){this._config=o2(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=yP(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),_P(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Td(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Td(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Td(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Td(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:o}=this,l=this._cachedScopes(t,i),c=l.get(e);if(c)return c;const d=new Set;e.forEach(g=>{t&&(d.add(t),g.forEach(y=>Au(d,t,y))),g.forEach(y=>Au(d,s,y)),g.forEach(y=>Au(d,Go[o]||{},y)),g.forEach(y=>Au(d,ge,y)),g.forEach(y=>Au(d,zg,y))});const p=Array.from(d);return p.length===0&&p.push(Object.create(null)),vP.has(e)&&l.set(e,p),p}chartOptionScopes(){const{options:t,type:e}=this;return[t,Go[e]||{},ge.datasets[e]||{},{type:e},ge,zg]}resolveNamedOptions(t,e,i,s=[""]){const o={$shared:!0},{resolver:l,subPrefixes:c}=Aw(this._resolverCache,t,s);let d=l;if(u2(l,e)){o.$shared=!1,i=Vr(i)?i():i;const p=this.createResolver(t,i,c);d=dl(l,i,p)}for(const p of e)o[p]=d[p];return o}createResolver(t,e,i=[""],s){const{resolver:o}=Aw(this._resolverCache,t,i);return Gt(e)?dl(o,e,void 0,s):o}}function Aw(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let o=i.get(s);return o||(o={resolver:my(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,o)),o}const l2=n=>Gt(n)&&Object.getOwnPropertyNames(n).some(t=>Vr(n[t]));function u2(n,t){const{isScriptable:e,isIndexable:i}=YC(n);for(const s of t){const o=e(s),l=i(s),c=(l||o)&&n[s];if(o&&(Vr(c)||l2(c))||l&&me(c))return!0}return!1}var c2="4.5.1";const h2=["top","bottom","left","right","chartArea"];function Rw(n,t){return n==="top"||n==="bottom"||h2.indexOf(n)===-1&&t==="x"}function Ow(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Dw(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ae(e&&e.onComplete,[n],t)}function d2(n){const t=n.chart,e=t.options.animation;ae(e&&e.onProgress,[n],t)}function xP(n){return yy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Bd={},Nw=n=>{const t=xP(n);return Object.values(Bd).filter(e=>e.canvas===t).pop()};function f2(n,t,e){const i=Object.keys(n);for(const s of i){const o=+s;if(o>=t){const l=n[s];delete n[s],(e>0||o>t)&&(n[o+e]=l)}}}function p2(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Kf=class{static defaults=ge;static instances=Bd;static overrides=Go;static registry=Hi;static version=c2;static getChart=Nw;static register(...t){Hi.add(...t),Fw()}static unregister(...t){Hi.remove(...t),Fw()}constructor(t,e){const i=this.config=new a2(e),s=xP(t),o=Nw(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||AN(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),d=c&&c.canvas,p=d&&d.height,g=d&&d.width;if(this.id=cO(),this.ctx=c,this.canvas=d,this.width=g,this.height=p,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qN,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=kO(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Bd[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}xs.listen(this,"complete",Dw),xs.listen(this,"progress",d2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:o}=this;return Ht(t)?e&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Hi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return nw(this.canvas,this.ctx),this}stop(){return xs.stop(this),this}resize(t,e){xs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,o),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,rw(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),ae(i.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};te(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const c=e[l],d=Wg(l,c),p=d==="r",g=d==="x";return{options:c,dposition:p?"chartArea":g?"bottom":"left",dtype:p?"radialLinear":g?"category":"linear"}}))),te(o,l=>{const c=l.options,d=c.id,p=Wg(d,c),g=Dt(c.type,l.dtype);(c.position===void 0||Rw(c.position,p)!==Rw(l.dposition))&&(c.position=l.dposition),s[d]=!0;let y=null;if(d in i&&i[d].type===g)y=i[d];else{const w=Hi.getScale(g);y=new w({id:d,type:g,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),te(s,(l,c)=>{l||delete i[c]}),te(i,l=>{un.configure(this,l,l.options),un.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Ow("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const o=e[i];let l=this.getDatasetMeta(i);const c=o.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=o.indexAxis||Vg(c,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const d=Hi.getController(c),{datasetElementType:p,dataElementType:g}=ge.datasets[c];Object.assign(d,{dataElementType:Hi.getElement(g),datasetElementType:p&&Hi.getElement(p)}),l.controller=new d(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let p=0,g=this.data.datasets.length;p<g;p++){const{controller:y}=this.getDatasetMeta(p),w=!s&&o.indexOf(y)===-1;y.buildOrUpdateElements(w),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||te(o,p=>{p.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ow("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){te(this.scales,t=>{un.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Kx(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of e){const l=i==="_removeElements"?-o:o;f2(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let o=1;o<e;o++)if(!Kx(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;un.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],te(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Vr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xs.has(this)?this.attached&&!xs.running(this)&&xs.start(this):(this.draw(),Dw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,o;for(s=0,o=e.length;s<o;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=oP(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Uf(e,s),t.controller.draw(),s&&Hf(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Is(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const o=hN.modes[e];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(o=>o&&o._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Ur(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,s);fc(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),xs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),nw(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Bd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},s=(o,l,c)=>{o.offsetX=l,o.offsetY=c,this._eventHandler(o)};te(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,p)=>{e.addEventListener(this,d,p),t[d]=p},s=(d,p)=>{t[d]&&(e.removeEventListener(this,d,p),delete t[d])},o=(d,p)=>{this.canvas&&this.resize(d,p)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",c)},e.isAttached(this.canvas)?c():l()}unbindEvents(){te(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},te(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let o,l,c,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,d=t.length;c<d;++c){l=t[c];const p=l&&this.getDatasetMeta(l.datasetIndex).controller;p&&p[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[l],index:l}});!_f(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,o=(d,p)=>d.filter(g=>!p.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),l=o(e,t),c=i?t:o(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:o}=this,l=e,c=this._getActiveElements(t,s,i,l),d=gO(t),p=p2(t,this._lastEvent,i,d);i&&(this._lastEvent=null,ae(o.onHover,[t,c,this],this),d&&ae(o.onClick,[t,c,this],this));const g=!_f(c,s);return(g||e)&&(this._active=c,this._updateHoverStyles(c,s,e)),this._lastEvent=p,g}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}};function Fw(){return te(Kf.instances,n=>n._plugins.invalidate())}function m2(n,t,e){const{startAngle:i,x:s,y:o,outerRadius:l,innerRadius:c,options:d}=t,{borderWidth:p,borderJoinStyle:g}=d,y=Math.min(p/l,an(i-e));if(n.beginPath(),n.arc(s,o,l-p/2,i+y/2,e-y/2),c>0){const w=Math.min(p/c,an(i-e));n.arc(s,o,c+p/2,e-w/2,i+w/2,!0)}else{const w=Math.min(p/2,l*an(i-e));if(g==="round")n.arc(s,o,w,e-Xt/2,i+Xt/2,!0);else if(g==="bevel"){const T=2*w*w,C=-T*Math.cos(e+Xt/2)+s,k=-T*Math.sin(e+Xt/2)+o,I=T*Math.cos(i+Xt/2)+s,M=T*Math.sin(i+Xt/2)+o;n.lineTo(C,k),n.lineTo(I,M)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function g2(n,t,e){const{startAngle:i,pixelMargin:s,x:o,y:l,outerRadius:c,innerRadius:d}=t;let p=s/c;n.beginPath(),n.arc(o,l,c,i-p,e+p),d>s?(p=s/d,n.arc(o,l,d,e+p,i-p,!0)):n.arc(o,l,s,e+Ie,i-Ie),n.closePath(),n.clip()}function _2(n){return py(n,["outerStart","outerEnd","innerStart","innerEnd"])}function y2(n,t,e,i){const s=_2(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),c=d=>{const p=(e-Math.min(o,d))*i/2;return Ze(d,0,Math.min(o,p))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Ze(s.innerStart,0,l),innerEnd:Ze(s.innerEnd,0,l)}}function Za(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function bf(n,t,e,i,s,o){const{x:l,y:c,startAngle:d,pixelMargin:p,innerRadius:g}=t,y=Math.max(t.outerRadius+i+e-p,0),w=g>0?g+i+e+p:0;let T=0;const C=s-d;if(i){const Rt=g>0?g-i:0,bt=y>0?y-i:0,ft=(Rt+bt)/2,K=ft!==0?C*ft/(ft+i):C;T=(C-K)/2}const k=Math.max(.001,C*y-e/Xt)/y,I=(C-k)/2,M=d+I+T,R=s-I-T,{outerStart:F,outerEnd:j,innerStart:B,innerEnd:G}=y2(t,w,y,R-M),Y=y-F,$=y-j,rt=M+F/Y,dt=R-j/$,ct=w+B,vt=w+G,Kt=M+B/ct,Ft=R-G/vt;if(n.beginPath(),o){const Rt=(rt+dt)/2;if(n.arc(l,c,y,rt,Rt),n.arc(l,c,y,Rt,dt),j>0){const at=Za($,dt,l,c);n.arc(at.x,at.y,j,dt,R+Ie)}const bt=Za(vt,R,l,c);if(n.lineTo(bt.x,bt.y),G>0){const at=Za(vt,Ft,l,c);n.arc(at.x,at.y,G,R+Ie,Ft+Math.PI)}const ft=(R-G/w+(M+B/w))/2;if(n.arc(l,c,w,R-G/w,ft,!0),n.arc(l,c,w,ft,M+B/w,!0),B>0){const at=Za(ct,Kt,l,c);n.arc(at.x,at.y,B,Kt+Math.PI,M-Ie)}const K=Za(Y,M,l,c);if(n.lineTo(K.x,K.y),F>0){const at=Za(Y,rt,l,c);n.arc(at.x,at.y,F,M-Ie,rt)}}else{n.moveTo(l,c);const Rt=Math.cos(rt)*y+l,bt=Math.sin(rt)*y+c;n.lineTo(Rt,bt);const ft=Math.cos(dt)*y+l,K=Math.sin(dt)*y+c;n.lineTo(ft,K)}n.closePath()}function v2(n,t,e,i,s){const{fullCircles:o,startAngle:l,circumference:c}=t;let d=t.endAngle;if(o){bf(n,t,e,i,d,s);for(let p=0;p<o;++p)n.fill();isNaN(c)||(d=l+(c%de||de))}return bf(n,t,e,i,d,s),n.fill(),d}function x2(n,t,e,i,s){const{fullCircles:o,startAngle:l,circumference:c,options:d}=t,{borderWidth:p,borderJoinStyle:g,borderDash:y,borderDashOffset:w,borderRadius:T}=d,C=d.borderAlign==="inner";if(!p)return;n.setLineDash(y||[]),n.lineDashOffset=w,C?(n.lineWidth=p*2,n.lineJoin=g||"round"):(n.lineWidth=p,n.lineJoin=g||"bevel");let k=t.endAngle;if(o){bf(n,t,e,i,k,s);for(let I=0;I<o;++I)n.stroke();isNaN(c)||(k=l+(c%de||de))}C&&g2(n,t,k),d.selfJoin&&k-l>=Xt&&T===0&&g!=="miter"&&m2(n,t,k),o||(bf(n,t,e,i,k,s),n.stroke())}class w2 extends zs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:o,distance:l}=BC(s,{x:t,y:e}),{startAngle:c,endAngle:d,innerRadius:p,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),w=(this.options.spacing+this.options.borderWidth)/2,T=Dt(y,d-c),C=pc(o,c,d)&&c!==d,k=T>=de||C,I=ks(l,p+w,g+w);return k&&I}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:p}=this.options,g=(s+o)/2,y=(l+c+p+d)/2;return{x:e+Math.cos(g)*y,y:i+Math.sin(g)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/4,o=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>de?Math.floor(i/de):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*s,Math.sin(c)*s);const d=1-Math.sin(Math.min(Xt,i||0)),p=s*d;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,v2(t,this,p,o,l),x2(t,this,p,o,l),t.restore()}}function wP(n,t,e=t){n.lineCap=Dt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Dt(e.borderDash,t.borderDash)),n.lineDashOffset=Dt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Dt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Dt(e.borderWidth,t.borderWidth),n.strokeStyle=Dt(e.borderColor,t.borderColor)}function S2(n,t,e){n.lineTo(e.x,e.y)}function b2(n){return n.stepped?BO:n.tension||n.cubicInterpolationMode==="monotone"?VO:S2}function SP(n,t,e={}){const i=n.length,{start:s=0,end:o=i-1}=e,{start:l,end:c}=t,d=Math.max(s,l),p=Math.min(o,c),g=s<l&&o<l||s>c&&o>c;return{count:i,start:d,loop:t.loop,ilen:p<d&&!g?i+p-d:p-d}}function T2(n,t,e,i){const{points:s,options:o}=t,{count:l,start:c,loop:d,ilen:p}=SP(s,e,i),g=b2(o);let{move:y=!0,reverse:w}=i||{},T,C,k;for(T=0;T<=p;++T)C=s[(c+(w?p-T:T))%l],!C.skip&&(y?(n.moveTo(C.x,C.y),y=!1):g(n,k,C,w,o.stepped),k=C);return d&&(C=s[(c+(w?p:0))%l],g(n,k,C,w,o.stepped)),!!d}function C2(n,t,e,i){const s=t.points,{count:o,start:l,ilen:c}=SP(s,e,i),{move:d=!0,reverse:p}=i||{};let g=0,y=0,w,T,C,k,I,M;const R=j=>(l+(p?c-j:j))%o,F=()=>{k!==I&&(n.lineTo(g,I),n.lineTo(g,k),n.lineTo(g,M))};for(d&&(T=s[R(0)],n.moveTo(T.x,T.y)),w=0;w<=c;++w){if(T=s[R(w)],T.skip)continue;const j=T.x,B=T.y,G=j|0;G===C?(B<k?k=B:B>I&&(I=B),g=(y*g+j)/++y):(F(),n.lineTo(j,B),C=G,y=0,k=I=B),M=B}F()}function jg(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?C2:T2}function P2(n){return n.stepped?yD:n.tension||n.cubicInterpolationMode==="monotone"?vD:Lo}function k2(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),wP(n,t.options),n.stroke(s)}function E2(n,t,e,i){const{segments:s,options:o}=t,l=jg(t);for(const c of s)wP(n,o,c.style),n.beginPath(),l(n,t,c,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const I2=typeof Path2D=="function";function M2(n,t,e,i){I2&&!t.options.segment?k2(n,t,e,i):E2(n,t,e,i)}class $f extends zs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;cD(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=CD(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],o=this.points,l=rP(this,{property:e,start:s,end:s});if(!l.length)return;const c=[],d=P2(i);let p,g;for(p=0,g=l.length;p<g;++p){const{start:y,end:w}=l[p],T=o[y],C=o[w];if(T===C){c.push(T);continue}const k=Math.abs((s-T[e])/(C[e]-T[e])),I=d(T,C,k,i.stepped);I[e]=t[e],c.push(I)}return c.length===1?c[0]:c}pathSegment(t,e,i){return jg(this)(t,this,e,i)}path(t,e,i){const s=this.segments,o=jg(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const c of s)l&=o(t,this,c,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),M2(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function zw(n,t,e,i){const s=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<s.radius+s.hitRadius}class L2 extends zs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return zw(this,t,"x",e)}inYRange(t,e){return zw(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Is(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Bg(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function bP(n,t){const{x:e,y:i,base:s,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let c,d,p,g,y;return n.horizontal?(y=l/2,c=Math.min(e,s),d=Math.max(e,s),p=i-y,g=i+y):(y=o/2,c=e-y,d=e+y,p=Math.min(i,s),g=Math.max(i,s)),{left:c,top:p,right:d,bottom:g}}function Ar(n,t,e,i){return n?0:Ze(t,e,i)}function A2(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,o=$C(i);return{t:Ar(s.top,o.top,0,e),r:Ar(s.right,o.right,0,t),b:Ar(s.bottom,o.bottom,0,e),l:Ar(s.left,o.left,0,t)}}function R2(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,o=zo(s),l=Math.min(t,e),c=n.borderSkipped,d=i||Gt(s);return{topLeft:Ar(!d||c.top||c.left,o.topLeft,0,l),topRight:Ar(!d||c.top||c.right,o.topRight,0,l),bottomLeft:Ar(!d||c.bottom||c.left,o.bottomLeft,0,l),bottomRight:Ar(!d||c.bottom||c.right,o.bottomRight,0,l)}}function O2(n){const t=bP(n),e=t.right-t.left,i=t.bottom-t.top,s=A2(n,e/2,i/2),o=R2(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Qm(n,t,e,i){const s=t===null,o=e===null,c=n&&!(s&&o)&&bP(n,i);return c&&(s||ks(t,c.left,c.right))&&(o||ks(e,c.top,c.bottom))}function D2(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function N2(n,t){n.rect(t.x,t.y,t.w,t.h)}function Jm(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+o,h:n.h+l,radius:n.radius}}class F2 extends zs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:l}=O2(this),c=D2(l.radius)?mc:N2;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),c(t,Jm(l,e,o)),t.clip(),c(t,Jm(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,Jm(o,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return Qm(this,t,e,i)}inXRange(t,e){return Qm(this,t,null,e)}inYRange(t,e){return Qm(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+s)/2:e,y:o?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var z2=Object.freeze({__proto__:null,ArcElement:w2,BarElement:F2,LineElement:$f,PointElement:L2});const Ug=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Bw=Ug.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function TP(n){return Ug[n%Ug.length]}function CP(n){return Bw[n%Bw.length]}function B2(n,t){return n.borderColor=TP(t),n.backgroundColor=CP(t),++t}function V2(n,t){return n.backgroundColor=n.data.map(()=>TP(t++)),t}function W2(n,t){return n.backgroundColor=n.data.map(()=>CP(t++)),t}function j2(n){let t=0;return(e,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof xy?t=V2(e,t):s instanceof hP?t=W2(e,t):s&&(t=B2(e,t))}}function Vw(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function U2(n){return n&&(n.borderColor||n.backgroundColor)}function H2(){return ge.borderColor!=="rgba(0,0,0,0.1)"||ge.backgroundColor!=="rgba(0,0,0,0.1)"}var Z2={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:o}=s,l=Vw(i)||U2(s)||o&&Vw(o)||H2();if(!e.forceOverride&&l)return;const c=j2(n);i.forEach(c)}};function G2(n,t,e,i,s){const o=s.samples||i;if(o>=e)return n.slice(t,t+e);const l=[],c=(e-2)/(o-2);let d=0;const p=t+e-1;let g=t,y,w,T,C,k;for(l[d++]=n[g],y=0;y<o-2;y++){let I=0,M=0,R;const F=Math.floor((y+1)*c)+1+t,j=Math.min(Math.floor((y+2)*c)+1,e)+t,B=j-F;for(R=F;R<j;R++)I+=n[R].x,M+=n[R].y;I/=B,M/=B;const G=Math.floor(y*c)+1+t,Y=Math.min(Math.floor((y+1)*c)+1,e)+t,{x:$,y:rt}=n[g];for(T=C=-1,R=G;R<Y;R++)C=.5*Math.abs(($-I)*(n[R].y-rt)-($-n[R].x)*(M-rt)),C>T&&(T=C,w=n[R],k=R);l[d++]=w,g=k}return l[d++]=n[p],l}function K2(n,t,e,i){let s=0,o=0,l,c,d,p,g,y,w,T,C,k;const I=[],M=t+e-1,R=n[t].x,j=n[M].x-R;for(l=t;l<t+e;++l){c=n[l],d=(c.x-R)/j*i,p=c.y;const B=d|0;if(B===g)p<C?(C=p,y=l):p>k&&(k=p,w=l),s=(o*s+c.x)/++o;else{const G=l-1;if(!Ht(y)&&!Ht(w)){const Y=Math.min(y,w),$=Math.max(y,w);Y!==T&&Y!==G&&I.push({...n[Y],x:s}),$!==T&&$!==G&&I.push({...n[$],x:s})}l>0&&G!==T&&I.push(n[G]),I.push(c),g=B,o=0,C=k=p,y=w=T=l}}return I}function PP(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Ww(n){n.data.datasets.forEach(t=>{PP(t)})}function $2(n,t){const e=t.length;let i=0,s;const{iScale:o}=n,{min:l,max:c,minDefined:d,maxDefined:p}=o.getUserBounds();return d&&(i=Ze(Es(t,o.axis,l).lo,0,e-1)),p?s=Ze(Es(t,o.axis,c).hi+1,i,e)-i:s=e-i,{start:i,count:s}}var Y2={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){Ww(n);return}const i=n.width;n.data.datasets.forEach((s,o)=>{const{_data:l,indexAxis:c}=s,d=n.getDatasetMeta(o),p=l||s.data;if(Du([c,n.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;const g=n.scales[d.xAxisID];if(g.type!=="linear"&&g.type!=="time"||n.options.parsing)return;let{start:y,count:w}=$2(d,p);const T=e.threshold||4*i;if(w<=T){PP(s);return}Ht(l)&&(s._data=p,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(k){this._data=k}}));let C;switch(e.algorithm){case"lttb":C=G2(p,y,w,i,e);break;case"min-max":C=K2(p,y,w,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=C})},destroy(n){Ww(n)}};function q2(n,t,e){const i=n.segments,s=n.points,o=t.points,l=[];for(const c of i){let{start:d,end:p}=c;p=Yf(d,p,s);const g=Hg(e,s[d],s[p],c.loop);if(!t.segments){l.push({source:c,target:g,start:s[d],end:s[p]});continue}const y=rP(t,g);for(const w of y){const T=Hg(e,o[w.start],o[w.end],w.loop),C=sP(c,s,T);for(const k of C)l.push({source:k,target:w,start:{[e]:jw(g,T,"start",Math.max)},end:{[e]:jw(g,T,"end",Math.min)}})}}return l}function Hg(n,t,e,i){if(i)return;let s=t[n],o=e[n];return n==="angle"&&(s=an(s),o=an(o)),{property:n,start:s,end:o}}function X2(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,o=[];return t.segments.forEach(({start:l,end:c})=>{c=Yf(l,c,s);const d=s[l],p=s[c];i!==null?(o.push({x:d.x,y:i}),o.push({x:p.x,y:i})):e!==null&&(o.push({x:e,y:d.y}),o.push({x:e,y:p.y}))}),o}function Yf(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function jw(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function kP(n,t){let e=[],i=!1;return me(n)?(i=!0,e=n):e=X2(n,t),e.length?new $f({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Uw(n){return n&&n.fill!==!1}function Q2(n,t,e){let s=n[t].fill;const o=[t];let l;if(!e)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!Pe(s))return s;if(l=n[s],!l)return!1;if(l.visible)return s;o.push(s),s=l.fill}return!1}function J2(n,t,e){const i=iF(n);if(Gt(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Pe(s)&&Math.floor(s)===s?tF(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function tF(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function eF(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Gt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function nF(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Gt(n)?i=n.value:i=t.getBaseValue(),i}function iF(n){const t=n.options,e=t.fill;let i=Dt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function sF(n){const{scale:t,index:e,line:i}=n,s=[],o=i.segments,l=i.points,c=rF(t,e);c.push(kP({x:null,y:t.bottom},i));for(let d=0;d<o.length;d++){const p=o[d];for(let g=p.start;g<=p.end;g++)oF(s,l[g],c)}return new $f({points:s,options:{}})}function rF(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function oF(n,t,e){const i=[];for(let s=0;s<e.length;s++){const o=e[s],{first:l,last:c,point:d}=aF(o,t,"x");if(!(!d||l&&c)){if(l)i.unshift(d);else if(n.push(d),!c)break}}n.push(...i)}function aF(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],o=n.segments,l=n.points;let c=!1,d=!1;for(let p=0;p<o.length;p++){const g=o[p],y=l[g.start][e],w=l[g.end][e];if(ks(s,y,w)){c=s===y,d=s===w;break}}return{first:c,last:d,point:i}}class EP{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:o,radius:l}=this;return e=e||{start:0,end:de},t.arc(s,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,o=t.angle;return{x:e+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function lF(n){const{chart:t,fill:e,line:i}=n;if(Pe(e))return uF(t,e);if(e==="stack")return sF(n);if(e==="shape")return!0;const s=cF(n);return s instanceof EP?s:kP(s,i)}function uF(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function cF(n){return(n.scale||{}).getPointPositionForValue?dF(n):hF(n)}function hF(n){const{scale:t={},fill:e}=n,i=eF(e,t);if(Pe(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function dF(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,o=i.reverse?t.max:t.min,l=nF(e,t,o),c=[];if(i.grid.circular){const d=t.getPointPositionForValue(0,o);return new EP({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(l)})}for(let d=0;d<s;++d)c.push(t.getPointPositionForValue(d,l));return c}function tg(n,t,e){const i=lF(t),{chart:s,index:o,line:l,scale:c,axis:d}=t,p=l.options,g=p.fill,y=p.backgroundColor,{above:w=y,below:T=y}=g||{},C=s.getDatasetMeta(o),k=oP(s,C);i&&l.points.length&&(Uf(n,e),fF(n,{line:l,target:i,above:w,below:T,area:e,scale:c,axis:d,clip:k}),Hf(n))}function fF(n,t){const{line:e,target:i,above:s,below:o,area:l,scale:c,clip:d}=t,p=e._loop?"angle":t.axis;n.save();let g=o;o!==s&&(p==="x"?(Hw(n,i,l.top),eg(n,{line:e,target:i,color:s,scale:c,property:p,clip:d}),n.restore(),n.save(),Hw(n,i,l.bottom)):p==="y"&&(Zw(n,i,l.left),eg(n,{line:e,target:i,color:o,scale:c,property:p,clip:d}),n.restore(),n.save(),Zw(n,i,l.right),g=s)),eg(n,{line:e,target:i,color:g,scale:c,property:p,clip:d}),n.restore()}function Hw(n,t,e){const{segments:i,points:s}=t;let o=!0,l=!1;n.beginPath();for(const c of i){const{start:d,end:p}=c,g=s[d],y=s[Yf(d,p,s)];o?(n.moveTo(g.x,g.y),o=!1):(n.lineTo(g.x,e),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Zw(n,t,e){const{segments:i,points:s}=t;let o=!0,l=!1;n.beginPath();for(const c of i){const{start:d,end:p}=c,g=s[d],y=s[Yf(d,p,s)];o?(n.moveTo(g.x,g.y),o=!1):(n.lineTo(e,g.y),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,c,{move:l}),l?n.closePath():n.lineTo(e,y.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function eg(n,t){const{line:e,target:i,property:s,color:o,scale:l,clip:c}=t,d=q2(e,i,s);for(const{source:p,target:g,start:y,end:w}of d){const{style:{backgroundColor:T=o}={}}=p,C=i!==!0;n.save(),n.fillStyle=T,pF(n,l,c,C&&Hg(s,y,w)),n.beginPath();const k=!!e.pathSegment(n,p);let I;if(C){k?n.closePath():Gw(n,i,w,s);const M=!!i.pathSegment(n,g,{move:k,reverse:!0});I=k&&M,I||Gw(n,i,y,s)}n.closePath(),n.fill(I?"evenodd":"nonzero"),n.restore()}}function pF(n,t,e,i){const s=t.chart.chartArea,{property:o,start:l,end:c}=i||{};if(o==="x"||o==="y"){let d,p,g,y;o==="x"?(d=l,p=s.top,g=c,y=s.bottom):(d=s.left,p=l,g=s.right,y=c),n.beginPath(),e&&(d=Math.max(d,e.left),g=Math.min(g,e.right),p=Math.max(p,e.top),y=Math.min(y,e.bottom)),n.rect(d,p,g-d,y-p),n.clip()}}function Gw(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var mF={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let o,l,c,d;for(l=0;l<i;++l)o=n.getDatasetMeta(l),c=o.dataset,d=null,c&&c.options&&c instanceof $f&&(d={visible:n.isDatasetVisible(l),index:l,fill:J2(c,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:c}),o.$filler=d,s.push(d);for(l=0;l<i;++l)d=s[l],!(!d||d.fill===!1)&&(d.fill=Q2(s,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(o,c.axis),i&&c.fill&&tg(n.ctx,c,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;Uw(o)&&tg(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!Uw(i)||e.drawTime!=="beforeDatasetDraw"||tg(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Kw=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},gF=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class $w extends zs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ae(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Be(i.font),o=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=Kw(i,o);let p,g;e.font=s.string,this.isHorizontal()?(p=this.maxWidth,g=this._fitRows(l,o,c,d)+10):(g=this.maxHeight,p=this._fitCols(l,s,c,d)+10),this.width=Math.min(p,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:o,maxWidth:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],p=this.lineWidths=[0],g=s+c;let y=t;o.textAlign="left",o.textBaseline="middle";let w=-1,T=-g;return this.legendItems.forEach((C,k)=>{const I=i+e/2+o.measureText(C.text).width;(k===0||p[p.length-1]+I+2*c>l)&&(y+=g,p[p.length-(k>0?0:1)]=0,T+=g,w++),d[k]={left:0,top:T,row:w,width:I,height:s},p[p.length-1]+=I+c}),y}_fitCols(t,e,i,s){const{ctx:o,maxHeight:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],p=this.columnSizes=[],g=l-t;let y=c,w=0,T=0,C=0,k=0;return this.legendItems.forEach((I,M)=>{const{itemWidth:R,itemHeight:F}=_F(i,e,o,I,s);M>0&&T+F+2*c>g&&(y+=w+c,p.push({width:w,height:T}),C+=w+c,k++,w=T=0),d[M]={left:C,top:T,col:k,width:R,height:F},w=Math.max(w,R),T+=F+c}),y+=w,p.push({width:w,height:T}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:o}}=this,l=sl(o,this.left,this.width);if(this.isHorizontal()){let c=0,d=on(i,this.left+s,this.right-this.lineWidths[c]);for(const p of e)c!==p.row&&(c=p.row,d=on(i,this.left+s,this.right-this.lineWidths[c])),p.top+=this.top+t+s,p.left=l.leftForLtr(l.x(d),p.width),d+=p.width+s}else{let c=0,d=on(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const p of e)p.col!==c&&(c=p.col,d=on(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),p.top=d,p.left+=this.left+s,p.left=l.leftForLtr(l.x(p.left),p.width),d+=p.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Uf(t,this),this._draw(),Hf(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:o,labels:l}=t,c=ge.color,d=sl(t.rtl,this.left,this.width),p=Be(l.font),{padding:g}=l,y=p.size,w=y/2;let T;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=p.string;const{boxWidth:C,boxHeight:k,itemHeight:I}=Kw(l,y),M=function(G,Y,$){if(isNaN(C)||C<=0||isNaN(k)||k<0)return;s.save();const rt=Dt($.lineWidth,1);if(s.fillStyle=Dt($.fillStyle,c),s.lineCap=Dt($.lineCap,"butt"),s.lineDashOffset=Dt($.lineDashOffset,0),s.lineJoin=Dt($.lineJoin,"miter"),s.lineWidth=rt,s.strokeStyle=Dt($.strokeStyle,c),s.setLineDash(Dt($.lineDash,[])),l.usePointStyle){const dt={radius:k*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:rt},ct=d.xPlus(G,C/2),vt=Y+w;KC(s,dt,ct,vt,l.pointStyleWidth&&C)}else{const dt=Y+Math.max((y-k)/2,0),ct=d.leftForLtr(G,C),vt=zo($.borderRadius);s.beginPath(),Object.values(vt).some(Kt=>Kt!==0)?mc(s,{x:ct,y:dt,w:C,h:k,radius:vt}):s.rect(ct,dt,C,k),s.fill(),rt!==0&&s.stroke()}s.restore()},R=function(G,Y,$){Ko(s,$.text,G,Y+I/2,p,{strikethrough:$.hidden,textAlign:d.textAlign($.textAlign)})},F=this.isHorizontal(),j=this._computeTitleHeight();F?T={x:on(o,this.left+g,this.right-i[0]),y:this.top+g+j,line:0}:T={x:this.left+g,y:on(o,this.top+j+g,this.bottom-e[0].height),line:0},eP(this.ctx,t.textDirection);const B=I+g;this.legendItems.forEach((G,Y)=>{s.strokeStyle=G.fontColor,s.fillStyle=G.fontColor;const $=s.measureText(G.text).width,rt=d.textAlign(G.textAlign||(G.textAlign=l.textAlign)),dt=C+w+$;let ct=T.x,vt=T.y;d.setWidth(this.width),F?Y>0&&ct+dt+g>this.right&&(vt=T.y+=B,T.line++,ct=T.x=on(o,this.left+g,this.right-i[T.line])):Y>0&&vt+B>this.bottom&&(ct=T.x=ct+e[T.line].width+g,T.line++,vt=T.y=on(o,this.top+j+g,this.bottom-e[T.line].height));const Kt=d.x(ct);if(M(Kt,vt,G),ct=EO(rt,ct+C+w,F?ct+dt:this.right,t.rtl),R(d.x(ct),vt,G),F)T.x+=dt+g;else if(typeof G.text!="string"){const Ft=p.lineHeight;T.y+=IP(G,Ft)+g}else T.y+=B}),nP(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Be(e.font),s=hn(e.padding);if(!e.display)return;const o=sl(t.rtl,this.left,this.width),l=this.ctx,c=e.position,d=i.size/2,p=s.top+d;let g,y=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),g=this.top+p,y=on(t.align,y,this.right-w);else{const C=this.columnSizes.reduce((k,I)=>Math.max(k,I.height),0);g=p+on(t.align,this.top,this.bottom-C-t.labels.padding-this._computeTitleHeight())}const T=on(c,y,y+w);l.textAlign=o.textAlign(dy(c)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,Ko(l,e.text,T,g,i)}_computeTitleHeight(){const t=this.options.title,e=Be(t.font),i=hn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,o;if(ks(t,this.left,this.right)&&ks(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],ks(t,s.left,s.left+s.width)&&ks(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!xF(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,o=gF(s,i);s&&!o&&ae(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!o&&ae(e.onHover,[t,i,this],this)}else i&&ae(e.onClick,[t,i,this],this)}}function _F(n,t,e,i,s){const o=yF(i,n,t,e),l=vF(s,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function yF(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(s).width}function vF(n,t,e){let i=n;return typeof t.text!="string"&&(i=IP(t,e)),i}function IP(n,t){const e=n.text?n.text.length:0;return t*e}function xF(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var wF={id:"legend",_element:$w,start(n,t,e){const i=n.legend=new $w({ctx:n.ctx,options:e,chart:n});un.configure(n,i,e),un.addBox(n,i)},stop(n){un.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;un.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:o,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const p=d.controller.getStyle(e?0:void 0),g=hn(p.borderWidth);return{text:t[d.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:s||p.textAlign,borderRadius:l&&(c||p.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Sy extends zs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=me(i.text)?i.text.length:1;this._padding=hn(i.padding);const o=s*Be(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:o,options:l}=this,c=l.align;let d=0,p,g,y;return this.isHorizontal()?(g=on(c,i,o),y=e+t,p=o-i):(l.position==="left"?(g=i+t,y=on(c,s,e),d=Xt*-.5):(g=o-t,y=on(c,e,s),d=Xt*.5),p=s-e),{titleX:g,titleY:y,maxWidth:p,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Be(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:d,rotation:p}=this._drawArgs(o);Ko(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:p,textAlign:dy(e.align),textBaseline:"middle",translation:[l,c]})}}function SF(n,t){const e=new Sy({ctx:n.ctx,options:t,chart:n});un.configure(n,e,t),un.addBox(n,e),n.titleBlock=e}var bF={id:"title",_element:Sy,start(n,t,e){SF(n,e)},stop(n){const t=n.titleBlock;un.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;un.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Cd=new WeakMap;var TF={id:"subtitle",start(n,t,e){const i=new Sy({ctx:n.ctx,options:e,chart:n});un.configure(n,i,e),un.addBox(n,i),Cd.set(n,i)},stop(n){un.removeBox(n,Cd.get(n)),Cd.delete(n)},beforeUpdate(n,t,e){const i=Cd.get(n);un.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fu={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,o=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const d=c.tooltipPosition();i.add(d.x),s+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((c,d)=>c+d)/i.size,y:s/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,o,l,c;for(o=0,l=n.length;o<l;++o){const d=n[o].element;if(d&&d.hasValue()){const p=d.getCenterPoint(),g=Fg(t,p);g<s&&(s=g,c=d)}}if(c){const d=c.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function Ui(n,t){return t&&(me(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ws(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function CF(n,t){const{element:e,datasetIndex:i,index:s}=t,o=n.getDatasetMeta(i).controller,{label:l,value:c}=o.getLabelAndValue(s);return{chart:n,label:l,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:c,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function Yw(n,t){const e=n.chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:l,boxHeight:c}=t,d=Be(t.bodyFont),p=Be(t.titleFont),g=Be(t.footerFont),y=o.length,w=s.length,T=i.length,C=hn(t.padding);let k=C.height,I=0,M=i.reduce((j,B)=>j+B.before.length+B.lines.length+B.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,y&&(k+=y*p.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),M){const j=t.displayColors?Math.max(c,d.lineHeight):d.lineHeight;k+=T*j+(M-T)*d.lineHeight+(M-1)*t.bodySpacing}w&&(k+=t.footerMarginTop+w*g.lineHeight+(w-1)*t.footerSpacing);let R=0;const F=function(j){I=Math.max(I,e.measureText(j).width+R)};return e.save(),e.font=p.string,te(n.title,F),e.font=d.string,te(n.beforeBody.concat(n.afterBody),F),R=t.displayColors?l+2+t.boxPadding:0,te(i,j=>{te(j.before,F),te(j.lines,F),te(j.after,F)}),R=0,e.font=g.string,te(n.footer,F),e.restore(),I+=C.width,{width:I,height:k}}function PF(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function kF(n,t,e,i){const{x:s,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+o+l>t.width||n==="right"&&s-o-l<0)return!0}function EF(n,t,e,i){const{x:s,width:o}=e,{width:l,chartArea:{left:c,right:d}}=n;let p="center";return i==="center"?p=s<=(c+d)/2?"left":"right":s<=o/2?p="left":s>=l-o/2&&(p="right"),kF(p,n,t,e)&&(p="center"),p}function qw(n,t,e){const i=e.yAlign||t.yAlign||PF(n,e);return{xAlign:e.xAlign||t.xAlign||EF(n,t,e,i),yAlign:i}}function IF(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function MF(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function Xw(n,t,e,i){const{caretSize:s,caretPadding:o,cornerRadius:l}=n,{xAlign:c,yAlign:d}=e,p=s+o,{topLeft:g,topRight:y,bottomLeft:w,bottomRight:T}=zo(l);let C=IF(t,c);const k=MF(t,d,p);return d==="center"?c==="left"?C+=p:c==="right"&&(C-=p):c==="left"?C-=Math.max(g,w)+s:c==="right"&&(C+=Math.max(y,T)+s),{x:Ze(C,0,i.width-t.width),y:Ze(k,0,i.height-t.height)}}function Pd(n,t,e){const i=hn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Qw(n){return Ui([],ws(n))}function LF(n,t,e){return Ur(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Jw(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const MP={beforeTitle:vs,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:vs,beforeBody:vs,beforeLabel:vs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ht(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:vs,afterBody:vs,beforeFooter:vs,footer:vs,afterFooter:vs};function kn(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?MP[t].call(e,i):s}class tS extends zs{static positioners=Fu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,o=new aP(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=LF(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=kn(i,"beforeTitle",this,t),o=kn(i,"title",this,t),l=kn(i,"afterTitle",this,t);let c=[];return c=Ui(c,ws(s)),c=Ui(c,ws(o)),c=Ui(c,ws(l)),c}getBeforeBody(t,e){return Qw(kn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return te(t,o=>{const l={before:[],lines:[],after:[]},c=Jw(i,o);Ui(l.before,ws(kn(c,"beforeLabel",this,o))),Ui(l.lines,kn(c,"label",this,o)),Ui(l.after,ws(kn(c,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(t,e){return Qw(kn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=kn(i,"beforeFooter",this,t),o=kn(i,"footer",this,t),l=kn(i,"afterFooter",this,t);let c=[];return c=Ui(c,ws(s)),c=Ui(c,ws(o)),c=Ui(c,ws(l)),c}_createItems(t){const e=this._active,i=this.chart.data,s=[],o=[],l=[];let c=[],d,p;for(d=0,p=e.length;d<p;++d)c.push(CF(this.chart,e[d]));return t.filter&&(c=c.filter((g,y,w)=>t.filter(g,y,w,i))),t.itemSort&&(c=c.sort((g,y)=>t.itemSort(g,y,i))),te(c,g=>{const y=Jw(t.callbacks,g);s.push(kn(y,"labelColor",this,g)),o.push(kn(y,"labelPointStyle",this,g)),l.push(kn(y,"labelTextColor",this,g))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=c,c}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const c=Fu[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const d=this._size=Yw(this,i),p=Object.assign({},c,d),g=qw(this.chart,i,p),y=Xw(i,p,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:y.x,y:y.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const o=this.getCaretPosition(t,i,s);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:d,topRight:p,bottomLeft:g,bottomRight:y}=zo(c),{x:w,y:T}=t,{width:C,height:k}=e;let I,M,R,F,j,B;return o==="center"?(j=T+k/2,s==="left"?(I=w,M=I-l,F=j+l,B=j-l):(I=w+C,M=I+l,F=j-l,B=j+l),R=I):(s==="left"?M=w+Math.max(d,g)+l:s==="right"?M=w+C-Math.max(p,y)-l:M=this.caretX,o==="top"?(F=T,j=F-l,I=M-l,R=M+l):(F=T+k,j=F+l,I=M+l,R=M-l),B=F),{x1:I,x2:M,x3:R,y1:F,y2:j,y3:B}}drawTitle(t,e,i){const s=this.title,o=s.length;let l,c,d;if(o){const p=sl(i.rtl,this.x,this.width);for(t.x=Pd(this,i.titleAlign,i),e.textAlign=p.textAlign(i.titleAlign),e.textBaseline="middle",l=Be(i.titleFont),c=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,d=0;d<o;++d)e.fillText(s[d],p.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,d+1===o&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,e,i,s,o){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:d,boxWidth:p}=o,g=Be(o.bodyFont),y=Pd(this,"left",o),w=s.x(y),T=d<g.lineHeight?(g.lineHeight-d)/2:0,C=e.y+T;if(o.usePointStyle){const k={radius:Math.min(p,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},I=s.leftForLtr(w,p)+p/2,M=C+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Bg(t,k,I,M),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Bg(t,k,I,M)}else{t.lineWidth=Gt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const k=s.leftForLtr(w,p),I=s.leftForLtr(s.xPlus(w,1),p-2),M=zo(l.borderRadius);Object.values(M).some(R=>R!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,mc(t,{x:k,y:C,w:p,h:d,radius:M}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),mc(t,{x:I,y:C+1,w:p-2,h:d-2,radius:M}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(k,C,p,d),t.strokeRect(k,C,p,d),t.fillStyle=l.backgroundColor,t.fillRect(I,C+1,p-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:c,boxHeight:d,boxWidth:p,boxPadding:g}=i,y=Be(i.bodyFont);let w=y.lineHeight,T=0;const C=sl(i.rtl,this.x,this.width),k=function($){e.fillText($,C.x(t.x+T),t.y+w/2),t.y+=w+o},I=C.textAlign(l);let M,R,F,j,B,G,Y;for(e.textAlign=l,e.textBaseline="middle",e.font=y.string,t.x=Pd(this,I,i),e.fillStyle=i.bodyColor,te(this.beforeBody,k),T=c&&I!=="right"?l==="center"?p/2+g:p+2+g:0,j=0,G=s.length;j<G;++j){for(M=s[j],R=this.labelTextColors[j],e.fillStyle=R,te(M.before,k),F=M.lines,c&&F.length&&(this._drawColorBox(e,t,j,C,i),w=Math.max(y.lineHeight,d)),B=0,Y=F.length;B<Y;++B)k(F[B]),w=y.lineHeight;te(M.after,k)}T=0,w=y.lineHeight,te(this.afterBody,k),t.y-=o}drawFooter(t,e,i){const s=this.footer,o=s.length;let l,c;if(o){const d=sl(i.rtl,this.x,this.width);for(t.x=Pd(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",l=Be(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,c=0;c<o;++c)e.fillText(s[c],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:o,yAlign:l}=this,{x:c,y:d}=t,{width:p,height:g}=i,{topLeft:y,topRight:w,bottomLeft:T,bottomRight:C}=zo(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(c+y,d),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(c+p-w,d),e.quadraticCurveTo(c+p,d,c+p,d+w),l==="center"&&o==="right"&&this.drawCaret(t,e,i,s),e.lineTo(c+p,d+g-C),e.quadraticCurveTo(c+p,d+g,c+p-C,d+g),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(c+T,d+g),e.quadraticCurveTo(c,d+g,c,d+g-T),l==="center"&&o==="left"&&this.drawCaret(t,e,i,s),e.lineTo(c,d+y),e.quadraticCurveTo(c,d,c+y,d),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const l=Fu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Yw(this,t),d=Object.assign({},l,this._size),p=qw(e,t,d),g=Xw(t,d,p,e);(s._to!==g.x||o._to!==g.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=hn(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,e),eP(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),nP(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:c,index:d})=>{const p=this.chart.getDatasetMeta(c);if(!p)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:p.data[d],index:d}}),o=!_f(i,s),l=this._positionChanged(s,e);(o||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),c=this._positionChanged(l,t),d=e||!_f(l,o)||c;return d&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,s){const o=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:o}=this,l=Fu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}var AF={id:"tooltip",_element:tS,positioners:Fu,afterInit(n,t,e){e&&(n.tooltip=new tS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:MP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},RF=Object.freeze({__proto__:null,Colors:Z2,Decimation:Y2,Filler:mF,Legend:wF,SubTitle:TF,Title:bF,Tooltip:AF});const OF=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function DF(n,t,e,i){const s=n.indexOf(t);if(s===-1)return OF(n,t,e,i);const o=n.lastIndexOf(t);return s!==o?e:s}const NF=(n,t)=>n===null?null:Ze(Math.round(n),0,t);function eS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class FF extends qo{static id="category";static defaults={ticks:{callback:eS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:o}of e)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ht(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:DF(i,t,Dt(e,t),this._addedLabels),NF(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return eS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function zF(n,t){const e=[],{bounds:s,step:o,min:l,max:c,precision:d,count:p,maxTicks:g,maxDigits:y,includeBounds:w}=n,T=o||1,C=g-1,{min:k,max:I}=t,M=!Ht(l),R=!Ht(c),F=!Ht(p),j=(I-k)/(y+1);let B=Yx((I-k)/C/T)*T,G,Y,$,rt;if(B<1e-14&&!M&&!R)return[{value:k},{value:I}];rt=Math.ceil(I/B)-Math.floor(k/B),rt>C&&(B=Yx(rt*B/C/T)*T),Ht(d)||(G=Math.pow(10,d),B=Math.ceil(B*G)/G),s==="ticks"?(Y=Math.floor(k/B)*B,$=Math.ceil(I/B)*B):(Y=k,$=I),M&&R&&o&&wO((c-l)/o,B/1e3)?(rt=Math.round(Math.min((c-l)/B,g)),B=(c-l)/rt,Y=l,$=c):F?(Y=M?l:Y,$=R?c:$,rt=p-1,B=($-Y)/rt):(rt=($-Y)/B,Ku(rt,Math.round(rt),B/1e3)?rt=Math.round(rt):rt=Math.ceil(rt));const dt=Math.max(qx(B),qx(Y));G=Math.pow(10,Ht(d)?dt:d),Y=Math.round(Y*G)/G,$=Math.round($*G)/G;let ct=0;for(M&&(w&&Y!==l?(e.push({value:l}),Y<l&&ct++,Ku(Math.round((Y+ct*B)*G)/G,l,nS(l,j,n))&&ct++):Y<l&&ct++);ct<rt;++ct){const vt=Math.round((Y+ct*B)*G)/G;if(R&&vt>c)break;e.push({value:vt})}return R&&w&&$!==c?e.length&&Ku(e[e.length-1].value,c,nS(c,j,n))?e[e.length-1].value=c:e.push({value:c}):(!R||$===c)&&e.push({value:$}),e}function nS(n,t,{horizontal:e,minRotation:i}){const s=ki(i),o=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class Tf extends qo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ht(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const l=d=>s=e?s:d,c=d=>o=i?o:d;if(t){const d=Gi(s),p=Gi(o);d<0&&p<0?c(0):d>0&&p>0&&l(0)}if(s===o){let d=o===0?1:Math.abs(o*.05);c(o+d),t||l(s-d)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=zF(s,o);return t.bounds==="ticks"&&zC(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Fc(t,this.chart.options.locale,this.options.ticks.format)}}class BF extends Tf{static id="linear";static defaults={ticks:{callback:jf.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Pe(t)?t:0,this.max=Pe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ki(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const _c=n=>Math.floor(Mr(n)),ko=(n,t)=>Math.pow(10,_c(n)+t);function iS(n){return n/Math.pow(10,_c(n))===1}function sS(n,t,e){const i=Math.pow(10,e),s=Math.floor(n/i);return Math.ceil(t/i)-s}function VF(n,t){const e=t-n;let i=_c(e);for(;sS(n,t,i)>10;)i++;for(;sS(n,t,i)<10;)i--;return Math.min(i,_c(n))}function WF(n,{min:t,max:e}){t=Un(n.min,t);const i=[],s=_c(t);let o=VF(t,e),l=o<0?Math.pow(10,Math.abs(o)):1;const c=Math.pow(10,o),d=s>o?Math.pow(10,s):0,p=Math.round((t-d)*l)/l,g=Math.floor((t-d)/c/10)*c*10;let y=Math.floor((p-g)/Math.pow(10,o)),w=Un(n.min,Math.round((d+g+y*Math.pow(10,o))*l)/l);for(;w<e;)i.push({value:w,major:iS(w),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(o++,y=2,l=o>=0?1:l),w=Math.round((d+g+y*Math.pow(10,o))*l)/l;const T=Un(n.max,w);return i.push({value:T,major:iS(T),significand:y}),i}class jF extends qo{static id="logarithmic";static defaults={ticks:{callback:jf.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Tf.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Pe(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Pe(t)?Math.max(0,t):null,this.max=Pe(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Pe(this._userMin)&&(this.min=t===ko(this.min,0)?ko(this.min,-1):ko(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const o=c=>i=t?i:c,l=c=>s=e?s:c;i===s&&(i<=0?(o(1),l(10)):(o(ko(i,-1)),l(ko(s,1)))),i<=0&&o(ko(s,-1)),s<=0&&l(ko(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=WF(e,this);return t.bounds==="ticks"&&zC(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Fc(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Mr(t),this._valueRange=Mr(this.max)-Mr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Mr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Zg(n){const t=n.ticks;if(t.display&&n.display){const e=hn(t.backdropPadding);return Dt(t.font&&t.font.size,ge.font.size)+e.height}return 0}function UF(n,t,e){return e=me(e)?e:[e],{w:zO(n,t.string,e),h:e.length*t.lineHeight}}function rS(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function HF(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],o=n._pointLabels.length,l=n.options.pointLabels,c=l.centerPointLabels?Xt/o:0;for(let d=0;d<o;d++){const p=l.setContext(n.getPointLabelContext(d));s[d]=p.padding;const g=n.getPointPosition(d,n.drawingArea+s[d],c),y=Be(p.font),w=UF(n.ctx,y,n._pointLabels[d]);i[d]=w;const T=an(n.getIndexAngle(d)+c),C=Math.round(cy(T)),k=rS(C,g.x,w.w,0,180),I=rS(C,g.y,w.h,90,270);ZF(e,t,T,k,I)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=$F(n,i,s)}function ZF(n,t,e,i,s){const o=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let c=0,d=0;i.start<t.l?(c=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+c)),s.start<t.t?(d=(t.t-s.start)/l,n.t=Math.min(n.t,t.t-d)):s.end>t.b&&(d=(s.end-t.b)/l,n.b=Math.max(n.b,t.b+d))}function GF(n,t,e){const i=n.drawingArea,{extra:s,additionalAngle:o,padding:l,size:c}=e,d=n.getPointPosition(t,i+s+l,o),p=Math.round(cy(an(d.angle+Ie))),g=XF(d.y,c.h,p),y=YF(p),w=qF(d.x,c.w,y);return{visible:!0,x:d.x,y:g,textAlign:y,left:w,top:g,right:w+c.w,bottom:g+c.h}}function KF(n,t){if(!t)return!0;const{left:e,top:i,right:s,bottom:o}=n;return!(Is({x:e,y:i},t)||Is({x:e,y:o},t)||Is({x:s,y:i},t)||Is({x:s,y:o},t))}function $F(n,t,e){const i=[],s=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:c}=o.pointLabels,d={extra:Zg(o)/2,additionalAngle:l?Xt/s:0};let p;for(let g=0;g<s;g++){d.padding=e[g],d.size=t[g];const y=GF(n,g,d);i.push(y),c==="auto"&&(y.visible=KF(y,p),y.visible&&(p=y))}return i}function YF(n){return n===0||n===180?"center":n<180?"left":"right"}function qF(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function XF(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function QF(n,t,e){const{left:i,top:s,right:o,bottom:l}=e,{backdropColor:c}=t;if(!Ht(c)){const d=zo(t.borderRadius),p=hn(t.backdropPadding);n.fillStyle=c;const g=i-p.left,y=s-p.top,w=o-i+p.width,T=l-s+p.height;Object.values(d).some(C=>C!==0)?(n.beginPath(),mc(n,{x:g,y,w,h:T,radius:d}),n.fill()):n.fillRect(g,y,w,T)}}function JF(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const o=n._pointLabelItems[s];if(!o.visible)continue;const l=i.setContext(n.getPointLabelContext(s));QF(e,l,o);const c=Be(l.font),{x:d,y:p,textAlign:g}=o;Ko(e,n._pointLabels[s],d,p+c.lineHeight/2,c,{color:l.color,textAlign:g,textBaseline:"middle"})}}function LP(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,de);else{let o=n.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,t),s.lineTo(o.x,o.y)}}function tz(n,t,e,i,s){const o=n.ctx,l=t.circular,{color:c,lineWidth:d}=t;!l&&!i||!c||!d||e<0||(o.save(),o.strokeStyle=c,o.lineWidth=d,o.setLineDash(s.dash||[]),o.lineDashOffset=s.dashOffset,o.beginPath(),LP(n,e,l,i),o.closePath(),o.stroke(),o.restore())}function ez(n,t,e){return Ur(n,{label:e,index:t,type:"pointLabel"})}class nz extends Tf{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:jf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=hn(Zg(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Pe(t)&&!isNaN(t)?t:0,this.max=Pe(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Zg(this.options))}generateTickLabels(t){Tf.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const s=ae(this.options.pointLabels.callback,[e,i],this);return s||s===0?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?HF(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){const e=de/(this._pointLabels.length||1),i=this.options.startAngle||0;return an(t*e+ki(i))}getDistanceFromCenterForValue(t){if(Ht(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Ht(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return ez(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-Ie+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),LP(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:o}=e,l=this._pointLabels.length;let c,d,p;if(e.pointLabels.display&&JF(this,l),s.display&&this.ticks.forEach((g,y)=>{if(y!==0||y===0&&this.min<0){d=this.getDistanceFromCenterForValue(g.value);const w=this.getContext(y),T=s.setContext(w),C=o.setContext(w);tz(this,T,d,l,C)}}),i.display){for(t.save(),c=l-1;c>=0;c--){const g=i.setContext(this.getPointLabelContext(c)),{color:y,lineWidth:w}=g;!w||!y||(t.lineWidth=w,t.strokeStyle=y,t.setLineDash(g.borderDash),t.lineDashOffset=g.borderDashOffset,d=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),p=this.getPointPosition(c,d),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(p.x,p.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let o,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,d)=>{if(d===0&&this.min>=0&&!e.reverse)return;const p=i.setContext(this.getContext(d)),g=Be(p.font);if(o=this.getDistanceFromCenterForValue(this.ticks[d].value),p.showLabelBackdrop){t.font=g.string,l=t.measureText(c.label).width,t.fillStyle=p.backdropColor;const y=hn(p.backdropPadding);t.fillRect(-l/2-y.left,-o-g.size/2-y.top,l+y.width,g.size+y.height)}Ko(t,c.label,0,-o,g,{color:p.color,strokeColor:p.textStrokeColor,strokeWidth:p.textStrokeWidth})}),t.restore()}drawTitle(){}}const qf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},En=Object.keys(qf);function oS(n,t){return n-t}function aS(n,t){if(Ht(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Pe(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(hl(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,s)),+l)}function lS(n,t,e,i){const s=En.length;for(let o=En.indexOf(n);o<s-1;++o){const l=qf[En[o]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(c*l.size))<=i)return En[o]}return En[s-1]}function iz(n,t,e,i,s){for(let o=En.length-1;o>=En.indexOf(e);o--){const l=En[o];if(qf[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return En[e?En.indexOf(e):0]}function sz(n){for(let t=En.indexOf(n)+1,e=En.length;t<e;++t)if(qf[En[t]].common)return En[t]}function uS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=hy(e,t),o=e[i]>=t?e[i]:e[s];n[o]=!0}}function rz(n,t,e,i){const s=n._adapter,o=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,d;for(c=o;c<=l;c=+s.add(c,1,i))d=e[c],d>=0&&(t[d].major=!0);return t}function cS(n,t,e){const i=[],s={},o=t.length;let l,c;for(l=0;l<o;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return o===0||!e?i:rz(n,i,s,e)}class Gg extends qo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new oN._date(t.adapters.date);s.init(e),Gu(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:aS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:c}=this.getUserBounds();function d(p){!l&&!isNaN(p.min)&&(s=Math.min(s,p.min)),!c&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!l||!c)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),s=Pe(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),o=Pe(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=this.max,c=CO(s,o,l);return this._unit=e.unit||(i.autoSkip?lS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):iz(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:sz(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),cS(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=Ze(e,0,l),i=Ze(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,o=s.time,l=o.unit||lS(o.minUnit,e,i,this._getLabelCapacity(e)),c=Dt(s.ticks.stepSize,1),d=l==="week"?o.isoWeekday:!1,p=hl(d)||d===!0,g={};let y=e,w,T;if(p&&(y=+t.startOf(y,"isoWeek",d)),y=+t.startOf(y,p?"day":l),t.diff(i,e,l)>1e5*c)throw new Error(e+" and "+i+" are too far apart with stepSize of "+c+" "+l);const C=s.ticks.source==="data"&&this.getDataTimestamps();for(w=y,T=0;w<i;w=+t.add(w,c,l),T++)uS(g,w,C);return(w===i||s.bounds==="ticks"||T===1)&&uS(g,w,C),Object.keys(g).sort(oS).map(k=>+k)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,o=this._unit,l=e||s[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const o=this.options,l=o.ticks.callback;if(l)return ae(l,[t,e,i],this);const c=o.time.displayFormats,d=this._unit,p=this._majorUnit,g=d&&c[d],y=p&&c[p],w=i[e],T=p&&y&&w&&w.major;return this._adapter.format(t,s||(T?y:g))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=ki(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*l,h:i*l+c*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,cS(this,[t],this._majorUnit),s),l=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(aS(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return WC(t.sort(oS))}}function kd(n,t,e){let i=0,s=n.length-1,o,l,c,d;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Es(n,"pos",t)),{pos:o,time:c}=n[i],{pos:l,time:d}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Es(n,"time",t)),{time:o,pos:c}=n[i],{time:l,pos:d}=n[s]);const p=l-o;return p?c+(d-c)*(t-o)/p:c}class oz extends Gg{static id="timeseries";static defaults=Gg.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=kd(e,this.min),this._tableRange=kd(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],o=[];let l,c,d,p,g;for(l=0,c=t.length;l<c;++l)p=t[l],p>=e&&p<=i&&s.push(p);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)g=s[l+1],d=s[l-1],p=s[l],Math.round((g+d)/2)!==p&&o.push({time:p,pos:l/(c-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(kd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return kd(this._table,i*this._tableRange+this._minPos,!0)}}var az=Object.freeze({__proto__:null,CategoryScale:FF,LinearScale:BF,LogarithmicScale:jF,RadialLinearScale:nz,TimeScale:Gg,TimeSeriesScale:oz});const lz=[rN,z2,RF,az],AP="label";function hS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function uz(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function RP(n,t){n.labels=t}function OP(n,t,e=AP){const i=[];n.datasets=t.map(s=>{const o=n.datasets.find(l=>l[e]===s[e]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function cz(n,t=AP){const e={labels:[],datasets:[]};return RP(e,n.labels),OP(e,n.datasets,t),e}function hz(n,t){const{height:e=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:l,data:c,options:d,plugins:p=[],fallbackContent:g,updateMode:y,...w}=n,T=Q.useRef(null),C=Q.useRef(null),k=()=>{T.current&&(C.current=new Kf(T.current,{type:l,data:cz(c,o),options:d&&{...d},plugins:p}),hS(t,C.current))},I=()=>{hS(t,null),C.current&&(C.current.destroy(),C.current=null)};return Q.useEffect(()=>{!s&&C.current&&d&&uz(C.current,d)},[s,d]),Q.useEffect(()=>{!s&&C.current&&RP(C.current.config.data,c.labels)},[s,c.labels]),Q.useEffect(()=>{!s&&C.current&&c.datasets&&OP(C.current.config.data,c.datasets,o)},[s,c.datasets]),Q.useEffect(()=>{C.current&&(s?(I(),setTimeout(k)):C.current.update(y))},[s,d,c.labels,c.datasets,y]),Q.useEffect(()=>{C.current&&(I(),setTimeout(k))},[l]),Q.useEffect(()=>(k(),()=>I()),[]),J.jsx("canvas",{ref:T,role:"img",height:e,width:i,...w,children:g})}const dz=Q.forwardRef(hz);function fz(n,t){return Kf.register(t),Q.forwardRef((e,i)=>J.jsx(dz,{...e,ref:i,type:n}))}const pz=fz("line",cP),by=Q.createContext({});function zc(n){const t=Q.useRef(null);return t.current===null&&(t.current=n()),t.current}const Ty=typeof window<"u",Cy=Ty?Q.useLayoutEffect:Q.useEffect,Xf=Q.createContext(null);function Py(n,t){n.indexOf(t)===-1&&n.push(t)}function ky(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Rs=(n,t,e)=>e>t?t:e<n?n:e;let Ey=()=>{};const Os={},DP=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function NP(n){return typeof n=="object"&&n!==null}const FP=n=>/^0[^.\s]+$/u.test(n);function Iy(n){let t;return()=>(t===void 0&&(t=n()),t)}const ui=n=>n,mz=(n,t)=>e=>t(n(e)),Bc=(...n)=>n.reduce(mz),yc=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class My{constructor(){this.subscriptions=[]}add(t){return Py(this.subscriptions,t),()=>ky(this.subscriptions,t)}notify(t,e,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ki=n=>n*1e3,li=n=>n/1e3;function zP(n,t){return t?n*(1e3/t):0}const BP=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,gz=1e-7,_z=12;function yz(n,t,e,i,s){let o,l,c=0;do l=t+(e-t)/2,o=BP(l,i,s)-n,o>0?e=l:t=l;while(Math.abs(o)>gz&&++c<_z);return l}function Vc(n,t,e,i){if(n===t&&e===i)return ui;const s=o=>yz(o,0,1,n,e);return o=>o===0||o===1?o:BP(s(o),t,i)}const VP=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,WP=n=>t=>1-n(1-t),jP=Vc(.33,1.53,.69,.99),Ly=WP(jP),UP=VP(Ly),HP=n=>(n*=2)<1?.5*Ly(n):.5*(2-Math.pow(2,-10*(n-1))),Ay=n=>1-Math.sin(Math.acos(n)),ZP=WP(Ay),GP=VP(Ay),vz=Vc(.42,0,1,1),xz=Vc(0,0,.58,1),KP=Vc(.42,0,.58,1),wz=n=>Array.isArray(n)&&typeof n[0]!="number",$P=n=>Array.isArray(n)&&typeof n[0]=="number",Sz={linear:ui,easeIn:vz,easeInOut:KP,easeOut:xz,circIn:Ay,circInOut:GP,circOut:ZP,backIn:Ly,backInOut:UP,backOut:jP,anticipate:HP},bz=n=>typeof n=="string",dS=n=>{if($P(n)){Ey(n.length===4);const[t,e,i,s]=n;return Vc(t,e,i,s)}else if(bz(n))return Sz[n];return n},Ed=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Tz(n,t){let e=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(p.schedule(g),n()),g(c)}const p={schedule:(g,y=!1,w=!1)=>{const C=w&&s?e:i;return y&&l.add(g),C.has(g)||C.add(g),g},cancel:g=>{i.delete(g),l.delete(g)},process:g=>{if(c=g,s){o=!0;return}s=!0,[e,i]=[i,e],e.forEach(d),e.clear(),s=!1,o&&(o=!1,p.process(g))}};return p}const Cz=40;function YP(n,t){let e=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,l=Ed.reduce((F,j)=>(F[j]=Tz(o),F),{}),{setup:c,read:d,resolveKeyframes:p,preUpdate:g,update:y,preRender:w,render:T,postRender:C}=l,k=()=>{const F=Os.useManualTiming?s.timestamp:performance.now();e=!1,Os.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(F-s.timestamp,Cz),1)),s.timestamp=F,s.isProcessing=!0,c.process(s),d.process(s),p.process(s),g.process(s),y.process(s),w.process(s),T.process(s),C.process(s),s.isProcessing=!1,e&&t&&(i=!1,n(k))},I=()=>{e=!0,i=!0,s.isProcessing||n(k)};return{schedule:Ed.reduce((F,j)=>{const B=l[j];return F[j]=(G,Y=!1,$=!1)=>(e||I(),B.schedule(G,Y,$)),F},{}),cancel:F=>{for(let j=0;j<Ed.length;j++)l[Ed[j]].cancel(F)},state:s,steps:l}}const{schedule:fe,cancel:Ds,state:Ye,steps:ng}=YP(typeof requestAnimationFrame<"u"?requestAnimationFrame:ui,!0);let Vd;function Pz(){Vd=void 0}const Mn={now:()=>(Vd===void 0&&Mn.set(Ye.isProcessing||Os.useManualTiming?Ye.timestamp:performance.now()),Vd),set:n=>{Vd=n,queueMicrotask(Pz)}},qP=n=>t=>typeof t=="string"&&t.startsWith(n),Ry=qP("--"),kz=qP("var(--"),Oy=n=>kz(n)?Ez.test(n.split("/*")[0].trim()):!1,Ez=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},vc={...xl,transform:n=>Rs(0,1,n)},Id={...xl,default:1},qu=n=>Math.round(n*1e5)/1e5,Dy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Iz(n){return n==null}const Mz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ny=(n,t)=>e=>!!(typeof e=="string"&&Mz.test(e)&&e.startsWith(n)||t&&!Iz(e)&&Object.prototype.hasOwnProperty.call(e,t)),XP=(n,t,e)=>i=>{if(typeof i!="string")return i;const[s,o,l,c]=i.match(Dy);return{[n]:parseFloat(s),[t]:parseFloat(o),[e]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},Lz=n=>Rs(0,255,n),ig={...xl,transform:n=>Math.round(Lz(n))},Do={test:Ny("rgb","red"),parse:XP("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+ig.transform(n)+", "+ig.transform(t)+", "+ig.transform(e)+", "+qu(vc.transform(i))+")"};function Az(n){let t="",e="",i="",s="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),t+=t,e+=e,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Kg={test:Ny("#"),parse:Az,transform:Do.transform},Wc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Cr=Wc("deg"),$i=Wc("%"),It=Wc("px"),Rz=Wc("vh"),Oz=Wc("vw"),fS={...$i,parse:n=>$i.parse(n)/100,transform:n=>$i.transform(n*100)},$a={test:Ny("hsl","hue"),parse:XP("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+$i.transform(qu(t))+", "+$i.transform(qu(e))+", "+qu(vc.transform(i))+")"},Ae={test:n=>Do.test(n)||Kg.test(n)||$a.test(n),parse:n=>Do.test(n)?Do.parse(n):$a.test(n)?$a.parse(n):Kg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Do.transform(n):$a.transform(n),getAnimatableNone:n=>{const t=Ae.parse(n);return t.alpha=0,Ae.transform(t)}},Dz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Nz(n){return isNaN(n)&&typeof n=="string"&&(n.match(Dy)?.length||0)+(n.match(Dz)?.length||0)>0}const QP="number",JP="color",Fz="var",zz="var(",pS="${}",Bz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xc(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=t.replace(Bz,d=>(Ae.test(d)?(i.color.push(o),s.push(JP),e.push(Ae.parse(d))):d.startsWith(zz)?(i.var.push(o),s.push(Fz),e.push(d)):(i.number.push(o),s.push(QP),e.push(parseFloat(d))),++o,pS)).split(pS);return{values:e,split:c,indexes:i,types:s}}function tk(n){return xc(n).values}function ek(n){const{split:t,types:e}=xc(n),i=t.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=t[l],s[l]!==void 0){const c=e[l];c===QP?o+=qu(s[l]):c===JP?o+=Ae.transform(s[l]):o+=s[l]}return o}}const Vz=n=>typeof n=="number"?0:Ae.test(n)?Ae.getAnimatableNone(n):n;function Wz(n){const t=tk(n);return ek(n)(t.map(Vz))}const Wr={test:Nz,parse:tk,createTransformer:ek,getAnimatableNone:Wz};function sg(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function jz({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let s=0,o=0,l=0;if(!t)s=o=l=e;else{const c=e<.5?e*(1+t):e+t-e*t,d=2*e-c;s=sg(d,c,n+1/3),o=sg(d,c,n),l=sg(d,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function Cf(n,t){return e=>e>0?t:n}const we=(n,t,e)=>n+(t-n)*e,rg=(n,t,e)=>{const i=n*n,s=e*(t*t-i)+i;return s<0?0:Math.sqrt(s)},Uz=[Kg,Do,$a],Hz=n=>Uz.find(t=>t.test(n));function mS(n){const t=Hz(n);if(!t)return!1;let e=t.parse(n);return t===$a&&(e=jz(e)),e}const gS=(n,t)=>{const e=mS(n),i=mS(t);if(!e||!i)return Cf(n,t);const s={...e};return o=>(s.red=rg(e.red,i.red,o),s.green=rg(e.green,i.green,o),s.blue=rg(e.blue,i.blue,o),s.alpha=we(e.alpha,i.alpha,o),Do.transform(s))},$g=new Set(["none","hidden"]);function Zz(n,t){return $g.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function Gz(n,t){return e=>we(n,t,e)}function Fy(n){return typeof n=="number"?Gz:typeof n=="string"?Oy(n)?Cf:Ae.test(n)?gS:Yz:Array.isArray(n)?nk:typeof n=="object"?Ae.test(n)?gS:Kz:Cf}function nk(n,t){const e=[...n],i=e.length,s=n.map((o,l)=>Fy(o)(o,t[l]));return o=>{for(let l=0;l<i;l++)e[l]=s[l](o);return e}}function Kz(n,t){const e={...n,...t},i={};for(const s in e)n[s]!==void 0&&t[s]!==void 0&&(i[s]=Fy(n[s])(n[s],t[s]));return s=>{for(const o in i)e[o]=i[o](s);return e}}function $z(n,t){const e=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=n.indexes[o][i[o]],c=n.values[l]??0;e[s]=c,i[o]++}return e}const Yz=(n,t)=>{const e=Wr.createTransformer(t),i=xc(n),s=xc(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?$g.has(n)&&!s.values.length||$g.has(t)&&!i.values.length?Zz(n,t):Bc(nk($z(i,s),s.values),e):Cf(n,t)};function ik(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?we(n,t,e):Fy(n)(n,t)}const qz=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>fe.update(t,e),stop:()=>Ds(t),now:()=>Ye.isProcessing?Ye.timestamp:Mn.now()}},sk=(n,t,e=10)=>{let i="";const s=Math.max(Math.round(t/e),2);for(let o=0;o<s;o++)i+=Math.round(n(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Pf=2e4;function zy(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<Pf;)t+=e,i=n.next(t);return t>=Pf?1/0:t}function Xz(n,t=100,e){const i=e({...n,keyframes:[0,t]}),s=Math.min(zy(i),Pf);return{type:"keyframes",ease:o=>i.next(s*o).value/t,duration:li(s)}}const Qz=5;function rk(n,t,e){const i=Math.max(t-Qz,0);return zP(e-n(i),t-i)}const Te={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},og=.001;function Jz({duration:n=Te.duration,bounce:t=Te.bounce,velocity:e=Te.velocity,mass:i=Te.mass}){let s,o,l=1-t;l=Rs(Te.minDamping,Te.maxDamping,l),n=Rs(Te.minDuration,Te.maxDuration,li(n)),l<1?(s=p=>{const g=p*l,y=g*n,w=g-e,T=Yg(p,l),C=Math.exp(-y);return og-w/T*C},o=p=>{const y=p*l*n,w=y*e+e,T=Math.pow(l,2)*Math.pow(p,2)*n,C=Math.exp(-y),k=Yg(Math.pow(p,2),l);return(-s(p)+og>0?-1:1)*((w-T)*C)/k}):(s=p=>{const g=Math.exp(-p*n),y=(p-e)*n+1;return-og+g*y},o=p=>{const g=Math.exp(-p*n),y=(e-p)*(n*n);return g*y});const c=5/n,d=eB(s,o,c);if(n=Ki(n),isNaN(d))return{stiffness:Te.stiffness,damping:Te.damping,duration:n};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:l*2*Math.sqrt(i*p),duration:n}}}const tB=12;function eB(n,t,e){let i=e;for(let s=1;s<tB;s++)i=i-n(i)/t(i);return i}function Yg(n,t){return n*Math.sqrt(1-t*t)}const nB=["duration","bounce"],iB=["stiffness","damping","mass"];function _S(n,t){return t.some(e=>n[e]!==void 0)}function sB(n){let t={velocity:Te.velocity,stiffness:Te.stiffness,damping:Te.damping,mass:Te.mass,isResolvedFromDuration:!1,...n};if(!_S(n,iB)&&_S(n,nB))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),s=i*i,o=2*Rs(.05,1,1-(n.bounce||0))*Math.sqrt(s);t={...t,mass:Te.mass,stiffness:s,damping:o}}else{const e=Jz(n);t={...t,...e,mass:Te.mass},t.isResolvedFromDuration=!0}return t}function kf(n=Te.visualDuration,t=Te.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:s}=e;const o=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:p,mass:g,duration:y,velocity:w,isResolvedFromDuration:T}=sB({...e,velocity:-li(e.velocity||0)}),C=w||0,k=p/(2*Math.sqrt(d*g)),I=l-o,M=li(Math.sqrt(d/g)),R=Math.abs(I)<5;i||(i=R?Te.restSpeed.granular:Te.restSpeed.default),s||(s=R?Te.restDelta.granular:Te.restDelta.default);let F;if(k<1){const B=Yg(M,k);F=G=>{const Y=Math.exp(-k*M*G);return l-Y*((C+k*M*I)/B*Math.sin(B*G)+I*Math.cos(B*G))}}else if(k===1)F=B=>l-Math.exp(-M*B)*(I+(C+M*I)*B);else{const B=M*Math.sqrt(k*k-1);F=G=>{const Y=Math.exp(-k*M*G),$=Math.min(B*G,300);return l-Y*((C+k*M*I)*Math.sinh($)+B*I*Math.cosh($))/B}}const j={calculatedDuration:T&&y||null,next:B=>{const G=F(B);if(T)c.done=B>=y;else{let Y=B===0?C:0;k<1&&(Y=B===0?Ki(C):rk(F,B,G));const $=Math.abs(Y)<=i,rt=Math.abs(l-G)<=s;c.done=$&&rt}return c.value=c.done?l:G,c},toString:()=>{const B=Math.min(zy(j),Pf),G=sk(Y=>j.next(B*Y).value,B,30);return B+"ms "+G},toTransition:()=>{}};return j}kf.applyToOptions=n=>{const t=Xz(n,100,kf);return n.ease=t.ease,n.duration=Ki(t.duration),n.type="keyframes",n};function qg({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:g}){const y=n[0],w={done:!1,value:y},T=$=>c!==void 0&&$<c||d!==void 0&&$>d,C=$=>c===void 0?d:d===void 0||Math.abs(c-$)<Math.abs(d-$)?c:d;let k=e*t;const I=y+k,M=l===void 0?I:l(I);M!==I&&(k=M-y);const R=$=>-k*Math.exp(-$/i),F=$=>M+R($),j=$=>{const rt=R($),dt=F($);w.done=Math.abs(rt)<=p,w.value=w.done?M:dt};let B,G;const Y=$=>{T(w.value)&&(B=$,G=kf({keyframes:[w.value,C(w.value)],velocity:rk(F,$,w.value),damping:s,stiffness:o,restDelta:p,restSpeed:g}))};return Y(0),{calculatedDuration:null,next:$=>{let rt=!1;return!G&&B===void 0&&(rt=!0,j($),Y($)),B!==void 0&&$>=B?G.next($-B):(!rt&&j($),w)}}}function rB(n,t,e){const i=[],s=e||Os.mix||ik,o=n.length-1;for(let l=0;l<o;l++){let c=s(n[l],n[l+1]);if(t){const d=Array.isArray(t)?t[l]||ui:t;c=Bc(d,c)}i.push(c)}return i}function ok(n,t,{clamp:e=!0,ease:i,mixer:s}={}){const o=n.length;if(Ey(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),t=[...t].reverse());const c=rB(t,i,s),d=c.length,p=g=>{if(l&&g<n[0])return t[0];let y=0;if(d>1)for(;y<n.length-2&&!(g<n[y+1]);y++);const w=yc(n[y],n[y+1],g);return c[y](w)};return e?g=>p(Rs(n[0],n[o-1],g)):p}function oB(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const s=yc(0,t,i);n.push(we(e,1,s))}}function aB(n){const t=[0];return oB(t,n.length-1),t}function lB(n,t){return n.map(e=>e*t)}function uB(n,t){return n.map(()=>t||KP).splice(0,n.length-1)}function Xu({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const s=wz(i)?i.map(dS):dS(i),o={done:!1,value:t[0]},l=lB(e&&e.length===t.length?e:aB(t),n),c=ok(l,t,{ease:Array.isArray(s)?s:uB(t,s)});return{calculatedDuration:n,next:d=>(o.value=c(d),o.done=d>=n,o)}}const cB=n=>n!==null;function By(n,{repeat:t,repeatType:e="loop"},i,s=1){const o=n.filter(cB),c=s<0||t&&e!=="loop"&&t%2===1?0:o.length-1;return!c||i===void 0?o[c]:i}const hB={decay:qg,inertia:qg,tween:Xu,keyframes:Xu,spring:kf};function ak(n){typeof n.type=="string"&&(n.type=hB[n.type])}class Vy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const dB=n=>n/100;class Wy extends Vy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Mn.now()&&this.tick(Mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ak(t);const{type:e=Xu,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=t;let{keyframes:c}=t;const d=e||Xu;d!==Xu&&typeof c[0]!="number"&&(this.mixKeyframes=Bc(dB,ik(c[0],c[1])),c=[0,100]);const p=d({...t,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=zy(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:w,repeatDelay:T,type:C,onUpdate:k,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const M=this.currentTime-p*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?M<0:M>s;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,j=i;if(y){const $=Math.min(this.currentTime,s)/c;let rt=Math.floor($),dt=$%1;!dt&&$>=1&&(dt=1),dt===1&&rt--,rt=Math.min(rt,y+1),!!(rt%2)&&(w==="reverse"?(dt=1-dt,T&&(dt-=T/c)):w==="mirror"&&(j=l)),F=Rs(0,1,dt)*c}const B=R?{done:!1,value:g[0]}:j.next(F);o&&(B.value=o(B.value));let{done:G}=B;!R&&d!==null&&(G=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const Y=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return Y&&C!==qg&&(B.value=By(g,this.options,I,this.speed)),k&&k(B.value),Y&&this.finish(),B}then(t,e){return this.finished.then(t,e)}get duration(){return li(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+li(t)}get time(){return li(this.currentTime)}set time(t){t=Ki(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Mn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=li(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=qz,startTime:e}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function fB(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const No=n=>n*180/Math.PI,Xg=n=>{const t=No(Math.atan2(n[1],n[0]));return Qg(t)},pB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Xg,rotateZ:Xg,skewX:n=>No(Math.atan(n[1])),skewY:n=>No(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Qg=n=>(n=n%360,n<0&&(n+=360),n),yS=Xg,vS=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),xS=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),mB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vS,scaleY:xS,scale:n=>(vS(n)+xS(n))/2,rotateX:n=>Qg(No(Math.atan2(n[6],n[5]))),rotateY:n=>Qg(No(Math.atan2(-n[2],n[0]))),rotateZ:yS,rotate:yS,skewX:n=>No(Math.atan(n[4])),skewY:n=>No(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Jg(n){return n.includes("scale")?1:0}function t_(n,t){if(!n||n==="none")return Jg(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(e)i=mB,s=e;else{const c=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=pB,s=c}if(!s)return Jg(t);const o=i[t],l=s[1].split(",").map(_B);return typeof o=="function"?o(l):l[o]}const gB=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return t_(e,t)};function _B(n){return parseFloat(n.trim())}const wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(wl),wS=n=>n===xl||n===It,yB=new Set(["x","y","z"]),vB=wl.filter(n=>!yB.has(n));function xB(n){const t=[];return vB.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Vo={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>t_(t,"x"),y:(n,{transform:t})=>t_(t,"y")};Vo.translateX=Vo.x;Vo.translateY=Vo.y;const Wo=new Set;let e_=!1,n_=!1,i_=!1;function lk(){if(n_){const n=Array.from(Wo).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const s=xB(i);s.length&&(e.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=e.get(i);s&&s.forEach(([o,l])=>{i.getValue(o)?.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}n_=!1,e_=!1,Wo.forEach(n=>n.complete(i_)),Wo.clear()}function uk(){Wo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(n_=!0)})}function wB(){i_=!0,uk(),lk(),i_=!1}class jy{constructor(t,e,i,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Wo.add(this),e_||(e_=!0,fe.read(uk),fe.resolveKeyframes(lk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:s}=this;if(t[0]===null){const o=s?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&e){const c=i.readValue(e,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}fB(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Wo.delete(this)}cancel(){this.state==="scheduled"&&(Wo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const SB=n=>n.startsWith("--");function bB(n,t,e){SB(t)?n.style.setProperty(t,e):n.style[t]=e}const TB=Iy(()=>window.ScrollTimeline!==void 0),CB={};function PB(n,t){const e=Iy(n);return()=>CB[t]??e()}const ck=PB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zu=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,SS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zu([0,.65,.55,1]),circOut:zu([.55,0,1,.45]),backIn:zu([.31,.01,.66,-.59]),backOut:zu([.33,1.53,.69,.99])};function hk(n,t){if(n)return typeof n=="function"?ck()?sk(n,t):"ease-out":$P(n)?zu(n):Array.isArray(n)?n.map(e=>hk(e,t)||SS.easeOut):SS[n]}function kB(n,t,e,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},p=void 0){const g={[t]:e};d&&(g.offset=d);const y=hk(c,s);Array.isArray(y)&&(g.easing=y);const w={delay:i,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),n.animate(g,w)}function dk(n){return typeof n=="function"&&"applyToOptions"in n}function EB({type:n,...t}){return dk(n)&&ck()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class IB extends Vy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:i,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=t,Ey(typeof t.type!="string");const p=EB(t);this.animation=kB(e,i,s,p,o),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=By(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(g):bB(e,i,g),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return li(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+li(t)}get time(){return li(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ki(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&TB()?(this.animation.timeline=t,ui):e(this)}}const fk={anticipate:HP,backInOut:UP,circInOut:GP};function MB(n){return n in fk}function LB(n){typeof n.ease=="string"&&MB(n.ease)&&(n.ease=fk[n.ease])}const bS=10;class AB extends IB{constructor(t){LB(t),ak(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:s,element:o,...l}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const c=new Wy({...l,autoplay:!1}),d=Ki(this.finishedTime??this.time);e.setWithVelocity(c.sample(d-bS).value,c.sample(d).value,bS),c.stop()}}const TS=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Wr.test(n)||n==="0")&&!n.startsWith("url("));function RB(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function OB(n,t,e,i){const s=n[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=n[n.length-1],l=TS(s,t),c=TS(o,t);return!l||!c?!1:RB(n)||(e==="spring"||dk(e))&&i}function s_(n){n.duration=0,n.type="keyframes"}const DB=new Set(["opacity","clipPath","filter","transform"]),NB=Iy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FB(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:s,damping:o,type:l}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return NB()&&e&&DB.has(e)&&(e!=="transform"||!p)&&!d&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}const zB=40;class BB extends Vy{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:p,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mn.now();const w={autoplay:t,delay:e,type:i,repeat:s,repeatDelay:o,repeatType:l,name:d,motionValue:p,element:g,...y},T=g?.KeyframeResolver||jy;this.keyframeResolver=new T(c,(C,k,I)=>this.onKeyframesResolved(C,k,w,!I),d,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:p,onUpdate:g}=i;this.resolvedAt=Mn.now(),OB(t,o,l,c)||((Os.instantAnimations||!d)&&g?.(By(t,i,e)),t[0]=t[t.length-1],s_(i),i.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>zB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},T=!p&&FB(w)?new AB({...w,element:w.motionValue.owner.current}):new Wy(w);T.finished.then(()=>this.notifyFinished()).catch(ui),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),wB()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const VB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WB(n){const t=VB.exec(n);if(!t)return[,];const[,e,i,s]=t;return[`--${e??i}`,s]}function pk(n,t,e=1){const[i,s]=WB(n);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const l=o.trim();return DP(l)?parseFloat(l):l}return Oy(s)?pk(s,t,e+1):s}function Uy(n,t){return n?.[t]??n?.default??n}const mk=new Set(["width","height","top","left","right","bottom",...wl]),jB={test:n=>n==="auto",parse:n=>n},gk=n=>t=>t.test(n),_k=[xl,It,$i,Cr,Oz,Rz,jB],CS=n=>_k.find(gk(n));function UB(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||FP(n):!0}const HB=new Set(["brightness","contrast","saturate","opacity"]);function ZB(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(Dy)||[];if(!i)return n;const s=e.replace(i,"");let o=HB.has(t)?1:0;return i!==e&&(o*=100),t+"("+o+s+")"}const GB=/\b([a-z-]*)\(.*?\)/gu,r_={...Wr,getAnimatableNone:n=>{const t=n.match(GB);return t?t.map(ZB).join(" "):n}},PS={...xl,transform:Math.round},KB={rotate:Cr,rotateX:Cr,rotateY:Cr,rotateZ:Cr,scale:Id,scaleX:Id,scaleY:Id,scaleZ:Id,skew:Cr,skewX:Cr,skewY:Cr,distance:It,translateX:It,translateY:It,translateZ:It,x:It,y:It,z:It,perspective:It,transformPerspective:It,opacity:vc,originX:fS,originY:fS,originZ:It},Hy={borderWidth:It,borderTopWidth:It,borderRightWidth:It,borderBottomWidth:It,borderLeftWidth:It,borderRadius:It,radius:It,borderTopLeftRadius:It,borderTopRightRadius:It,borderBottomRightRadius:It,borderBottomLeftRadius:It,width:It,maxWidth:It,height:It,maxHeight:It,top:It,right:It,bottom:It,left:It,padding:It,paddingTop:It,paddingRight:It,paddingBottom:It,paddingLeft:It,margin:It,marginTop:It,marginRight:It,marginBottom:It,marginLeft:It,backgroundPositionX:It,backgroundPositionY:It,...KB,zIndex:PS,fillOpacity:vc,strokeOpacity:vc,numOctaves:PS},$B={...Hy,color:Ae,backgroundColor:Ae,outlineColor:Ae,fill:Ae,stroke:Ae,borderColor:Ae,borderTopColor:Ae,borderRightColor:Ae,borderBottomColor:Ae,borderLeftColor:Ae,filter:r_,WebkitFilter:r_},yk=n=>$B[n];function vk(n,t){let e=yk(n);return e!==r_&&(e=Wr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const YB=new Set(["auto","none","0"]);function qB(n,t,e){let i=0,s;for(;i<n.length&&!s;){const o=n[i];typeof o=="string"&&!YB.has(o)&&xc(o).values.length&&(s=n[i]),i++}if(s&&e)for(const o of t)n[o]=vk(e,s)}class XB extends jy{constructor(t,e,i,s,o){super(t,e,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let p=t[d];if(typeof p=="string"&&(p=p.trim(),Oy(p))){const g=pk(p,e.current);g!==void 0&&(t[d]=g),d===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!mk.has(i)||t.length!==2)return;const[s,o]=t,l=CS(s),c=CS(o);if(l!==c)if(wS(l)&&wS(c))for(let d=0;d<t.length;d++){const p=t[d];typeof p=="string"&&(t[d]=parseFloat(p))}else Vo[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||UB(t[s]))&&i.push(s);i.length&&qB(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vo[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const s=e[e.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(e);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Vo[e](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function QB(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=e?.[n]??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const xk=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function wk(n){return NP(n)&&"offsetHeight"in n}const kS=30,JB=n=>!isNaN(parseFloat(n)),Qu={current:void 0};class tV{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Mn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=JB(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new My);const i=this.events[t].add(e);return t==="change"?()=>{i(),fe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Qu.current&&Qu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>kS)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,kS);return zP(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $o(n,t){return new tV(n,t)}const{schedule:Zy}=YP(queueMicrotask,!1),wi={x:!1,y:!1};function Sk(){return wi.x||wi.y}function eV(n){return n==="x"||n==="y"?wi[n]?null:(wi[n]=!0,()=>{wi[n]=!1}):wi.x||wi.y?null:(wi.x=wi.y=!0,()=>{wi.x=wi.y=!1})}function bk(n,t){const e=QB(n),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[e,s,()=>i.abort()]}function ES(n){return!(n.pointerType==="touch"||Sk())}function nV(n,t,e={}){const[i,s,o]=bk(n,e),l=c=>{if(!ES(c))return;const{target:d}=c,p=t(d,c);if(typeof p!="function"||!d)return;const g=y=>{ES(y)&&(p(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),o}const Tk=(n,t)=>t?n===t?!0:Tk(n,t.parentElement):!1,Gy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,iV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sV(n){return iV.has(n.tagName)||n.tabIndex!==-1}const Wd=new WeakSet;function IS(n){return t=>{t.key==="Enter"&&n(t)}}function ag(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const rV=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=IS(()=>{if(Wd.has(e))return;ag(e,"down");const s=IS(()=>{ag(e,"up")}),o=()=>ag(e,"cancel");e.addEventListener("keyup",s,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function MS(n){return Gy(n)&&!Sk()}function oV(n,t,e={}){const[i,s,o]=bk(n,e),l=c=>{const d=c.currentTarget;if(!MS(c))return;Wd.add(d);const p=t(d,c),g=(T,C)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),Wd.has(d)&&Wd.delete(d),MS(T)&&typeof p=="function"&&p(T,{success:C})},y=T=>{g(T,d===window||d===document||e.useGlobalTarget||Tk(d,T.target))},w=T=>{g(T,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",w,s)};return i.forEach(c=>{(e.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),wk(c)&&(c.addEventListener("focus",p=>rV(p,s)),!sV(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function Ck(n){return NP(n)&&"ownerSVGElement"in n}function aV(n){return Ck(n)&&n.tagName==="svg"}function lV(...n){const t=!Array.isArray(n[0]),e=t?0:-1,i=n[0+e],s=n[1+e],o=n[2+e],l=n[3+e],c=ok(s,o,l);return t?c(i):c}const cn=n=>!!(n&&n.getVelocity),uV=[..._k,Ae,Wr],cV=n=>uV.find(gk(n)),Qf=Q.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function LS(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function hV(...n){return t=>{let e=!1;const i=n.map(s=>{const o=LS(s,t);return!e&&typeof o=="function"&&(e=!0),o});if(e)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():LS(n[s],null)}}}}function dV(...n){return Q.useCallback(hV(...n),n)}class fV extends Q.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,s=wk(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=e.offsetHeight||0,o.width=e.offsetWidth||0,o.top=e.offsetTop,o.left=e.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function pV({children:n,isPresent:t,anchorX:e,root:i}){const s=Q.useId(),o=Q.useRef(null),l=Q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=Q.useContext(Qf),d=dV(o,n?.ref);return Q.useInsertionEffect(()=>{const{width:p,height:g,top:y,left:w,right:T}=l.current;if(t||!o.current||!p||!g)return;const C=e==="left"?`left: ${w}`:`right: ${T}`;o.current.dataset.motionPopId=s;const k=document.createElement("style");c&&(k.nonce=c);const I=i??document.head;return I.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${C}px !important;
            top: ${y}px !important;
          }
        `),()=>{I.contains(k)&&I.removeChild(k)}},[t]),J.jsx(fV,{isPresent:t,childRef:o,sizeRef:l,children:Q.cloneElement(n,{ref:d})})}const mV=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l,anchorX:c,root:d})=>{const p=zc(gV),g=Q.useId();let y=!0,w=Q.useMemo(()=>(y=!1,{id:g,initial:t,isPresent:e,custom:s,onExitComplete:T=>{p.set(T,!0);for(const C of p.values())if(!C)return;i&&i()},register:T=>(p.set(T,!1),()=>p.delete(T))}),[e,p,i]);return o&&y&&(w={...w}),Q.useMemo(()=>{p.forEach((T,C)=>p.set(C,!1))},[e]),Q.useEffect(()=>{!e&&!p.size&&i&&i()},[e]),l==="popLayout"&&(n=J.jsx(pV,{isPresent:e,anchorX:c,root:d,children:n})),J.jsx(Xf.Provider,{value:w,children:n})};function gV(){return new Map}function Pk(n=!0){const t=Q.useContext(Xf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:s}=t,o=Q.useId();Q.useEffect(()=>{if(n)return s(o)},[n]);const l=Q.useCallback(()=>n&&i&&i(o),[o,i,n]);return!e&&i?[!1,l]:[!0]}const Md=n=>n.key||"";function AS(n){const t=[];return Q.Children.forEach(n,e=>{Q.isValidElement(e)&&t.push(e)}),t}const _V=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[p,g]=Pk(l),y=Q.useMemo(()=>AS(n),[n]),w=l&&!p?[]:y.map(Md),T=Q.useRef(!0),C=Q.useRef(y),k=zc(()=>new Map),[I,M]=Q.useState(y),[R,F]=Q.useState(y);Cy(()=>{T.current=!1,C.current=y;for(let G=0;G<R.length;G++){const Y=Md(R[G]);w.includes(Y)?k.delete(Y):k.get(Y)!==!0&&k.set(Y,!1)}},[R,w.length,w.join("-")]);const j=[];if(y!==I){let G=[...y];for(let Y=0;Y<R.length;Y++){const $=R[Y],rt=Md($);w.includes(rt)||(G.splice(Y,0,$),j.push($))}return o==="wait"&&j.length&&(G=j),F(AS(G)),M(y),null}const{forceRender:B}=Q.useContext(by);return J.jsx(J.Fragment,{children:R.map(G=>{const Y=Md(G),$=l&&!p?!1:y===R||w.includes(Y),rt=()=>{if(k.has(Y))k.set(Y,!0);else return;let dt=!0;k.forEach(ct=>{ct||(dt=!1)}),dt&&(B?.(),F(C.current),l&&g?.(),i&&i())};return J.jsx(mV,{isPresent:$,initial:!T.current||e?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,root:d,onExitComplete:$?void 0:rt,anchorX:c,children:G},Y)})})},kk=Q.createContext({strict:!1}),RS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pl={};for(const n in RS)pl[n]={isEnabled:t=>RS[n].some(e=>!!t[e])};function yV(n){for(const t in n)pl[t]={...pl[t],...n[t]}}const vV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ef(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||vV.has(n)}let Ek=n=>!Ef(n);function xV(n){typeof n=="function"&&(Ek=t=>t.startsWith("on")?!Ef(t):n(t))}try{xV(require("@emotion/is-prop-valid").default)}catch{}function wV(n,t,e){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(Ek(s)||e===!0&&Ef(s)||!t&&!Ef(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}const Jf=Q.createContext({});function tp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function wc(n){return typeof n=="string"||Array.isArray(n)}const Ky=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$y=["initial",...Ky];function ep(n){return tp(n.animate)||$y.some(t=>wc(n[t]))}function Ik(n){return!!(ep(n)||n.variants)}function SV(n,t){if(ep(n)){const{initial:e,animate:i}=n;return{initial:e===!1||wc(e)?e:void 0,animate:wc(i)?i:void 0}}return n.inherit!==!1?t:{}}function bV(n){const{initial:t,animate:e}=SV(n,Q.useContext(Jf));return Q.useMemo(()=>({initial:t,animate:e}),[OS(t),OS(e)])}function OS(n){return Array.isArray(n)?n.join(" "):n}const Sc={};function TV(n){for(const t in n)Sc[t]=n[t],Ry(t)&&(Sc[t].isCSSVariable=!0)}function Mk(n,{layout:t,layoutId:e}){return Sl.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Sc[n]||n==="opacity")}const CV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PV=wl.length;function kV(n,t,e){let i="",s=!0;for(let o=0;o<PV;o++){const l=wl[o],c=n[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||e){const p=xk(c,Hy[l]);if(!d){s=!1;const g=CV[l]||l;i+=`${g}(${p}) `}e&&(t[l]=p)}}return i=i.trim(),e?i=e(t,s?"":i):s&&(i="none"),i}function Yy(n,t,e){const{style:i,vars:s,transformOrigin:o}=n;let l=!1,c=!1;for(const d in t){const p=t[d];if(Sl.has(d)){l=!0;continue}else if(Ry(d)){s[d]=p;continue}else{const g=xk(p,Hy[d]);d.startsWith("origin")?(c=!0,o[d]=g):i[d]=g}}if(t.transform||(l||e?i.transform=kV(t,n.transform,e):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:g=0}=o;i.transformOrigin=`${d} ${p} ${g}`}}const qy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Lk(n,t,e){for(const i in t)!cn(t[i])&&!Mk(i,e)&&(n[i]=t[i])}function EV({transformTemplate:n},t){return Q.useMemo(()=>{const e=qy();return Yy(e,t,n),Object.assign({},e.vars,e.style)},[t])}function IV(n,t){const e=n.style||{},i={};return Lk(i,e,n),Object.assign(i,EV(n,t)),i}function MV(n,t){const e={},i=IV(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const LV={offset:"stroke-dashoffset",array:"stroke-dasharray"},AV={offset:"strokeDashoffset",array:"strokeDasharray"};function RV(n,t,e=1,i=0,s=!0){n.pathLength=1;const o=s?LV:AV;n[o.offset]=It.transform(-i);const l=It.transform(t),c=It.transform(e);n[o.array]=`${l} ${c}`}function Ak(n,{attrX:t,attrY:e,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,p,g){if(Yy(n,c,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:w}=n;y.transform&&(w.transform=y.transform,delete y.transform),(w.transform||y.transformOrigin)&&(w.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),e!==void 0&&(y.y=e),i!==void 0&&(y.scale=i),s!==void 0&&RV(y,s,o,l,!1)}const Rk=()=>({...qy(),attrs:{}}),Ok=n=>typeof n=="string"&&n.toLowerCase()==="svg";function OV(n,t,e,i){const s=Q.useMemo(()=>{const o=Rk();return Ak(o,t,Ok(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[t]);if(n.style){const o={};Lk(o,n.style,n),s.style={...o,...s.style}}return s}const DV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xy(n){return typeof n!="string"||n.includes("-")?!1:!!(DV.indexOf(n)>-1||/[A-Z]/u.test(n))}function NV(n,t,e,{latestValues:i},s,o=!1){const c=(Xy(n)?OV:MV)(t,i,s,n),d=wV(t,typeof n=="string",o),p=n!==Q.Fragment?{...d,...c,ref:e}:{},{children:g}=t,y=Q.useMemo(()=>cn(g)?g.get():g,[g]);return Q.createElement(n,{...p,children:y})}function DS(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function Qy(n,t,e,i){if(typeof t=="function"){const[s,o]=DS(i);t=t(e!==void 0?e:n.custom,s,o)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[s,o]=DS(i);t=t(e!==void 0?e:n.custom,s,o)}return t}function jd(n){return cn(n)?n.get():n}function FV({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,s){return{latestValues:zV(e,i,s,n),renderState:t()}}function zV(n,t,e,i){const s={},o=i(n,{});for(const w in o)s[w]=jd(o[w]);let{initial:l,animate:c}=n;const d=ep(n),p=Ik(n);t&&p&&!d&&n.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let g=e?e.initial===!1:!1;g=g||l===!1;const y=g?c:l;if(y&&typeof y!="boolean"&&!tp(y)){const w=Array.isArray(y)?y:[y];for(let T=0;T<w.length;T++){const C=Qy(n,w[T]);if(C){const{transitionEnd:k,transition:I,...M}=C;for(const R in M){let F=M[R];if(Array.isArray(F)){const j=g?F.length-1:0;F=F[j]}F!==null&&(s[R]=F)}for(const R in k)s[R]=k[R]}}}return s}const Dk=n=>(t,e)=>{const i=Q.useContext(Jf),s=Q.useContext(Xf),o=()=>FV(n,t,i,s);return e?o():zc(o)};function Jy(n,t,e){const{style:i}=n,s={};for(const o in i)(cn(i[o])||t.style&&cn(t.style[o])||Mk(o,n)||e?.getValue(o)?.liveStyle!==void 0)&&(s[o]=i[o]);return s}const BV=Dk({scrapeMotionValuesFromProps:Jy,createRenderState:qy});function Nk(n,t,e){const i=Jy(n,t,e);for(const s in n)if(cn(n[s])||cn(t[s])){const o=wl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=n[s]}return i}const VV=Dk({scrapeMotionValuesFromProps:Nk,createRenderState:Rk}),WV=Symbol.for("motionComponentSymbol");function Ya(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function jV(n,t,e){return Q.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Ya(e)&&(e.current=i))},[t])}const tv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UV="framerAppearId",Fk="data-"+tv(UV),zk=Q.createContext({});function HV(n,t,e,i,s){const{visualElement:o}=Q.useContext(Jf),l=Q.useContext(kk),c=Q.useContext(Xf),d=Q.useContext(Qf).reducedMotion,p=Q.useRef(null);i=i||l.renderer,!p.current&&i&&(p.current=i(n,{visualState:t,parent:o,props:e,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,y=Q.useContext(zk);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&ZV(p.current,e,s,y);const w=Q.useRef(!1);Q.useInsertionEffect(()=>{g&&w.current&&g.update(e,c)});const T=e[Fk],C=Q.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return Cy(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),Q.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),C.current=!1),g.enteringChildren=void 0)}),g}function ZV(n,t,e,i){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:Bk(n.parent)),n.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&Ya(c),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:d,layoutRoot:p})}function Bk(n){if(n)return n.options.allowProjection!==!1?n.projection:Bk(n.parent)}function lg(n,{forwardMotionProps:t=!1}={},e,i){e&&yV(e);const s=Xy(n)?VV:BV;function o(c,d){let p;const g={...Q.useContext(Qf),...c,layoutId:GV(c)},{isStatic:y}=g,w=bV(c),T=s(c,y);if(!y&&Ty){KV();const C=$V(g);p=C.MeasureLayout,w.visualElement=HV(n,T,g,i,C.ProjectionNode)}return J.jsxs(Jf.Provider,{value:w,children:[p&&w.visualElement?J.jsx(p,{visualElement:w.visualElement,...g}):null,NV(n,c,jV(T,w.visualElement,d),T,y,t)]})}o.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const l=Q.forwardRef(o);return l[WV]=n,l}function GV({layoutId:n}){const t=Q.useContext(by).id;return t&&n!==void 0?t+"-"+n:n}function KV(n,t){Q.useContext(kk).strict}function $V(n){const{drag:t,layout:e}=pl;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function YV(n,t){if(typeof Proxy>"u")return lg;const e=new Map,i=(o,l)=>lg(o,l,n,t),s=(o,l)=>i(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?i:(e.has(l)||e.set(l,lg(l,void 0,n,t)),e.get(l))})}function Vk({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function qV({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function XV(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function ug(n){return n===void 0||n===1}function o_({scale:n,scaleX:t,scaleY:e}){return!ug(n)||!ug(t)||!ug(e)}function Ao(n){return o_(n)||Wk(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Wk(n){return NS(n.x)||NS(n.y)}function NS(n){return n&&n!=="0%"}function If(n,t,e){const i=n-e,s=t*i;return e+s}function FS(n,t,e,i,s){return s!==void 0&&(n=If(n,s,i)),If(n,e,i)+t}function a_(n,t=0,e=1,i,s){n.min=FS(n.min,t,e,i,s),n.max=FS(n.max,t,e,i,s)}function jk(n,{x:t,y:e}){a_(n.x,t.translate,t.scale,t.originPoint),a_(n.y,e.translate,e.scale,e.originPoint)}const zS=.999999999999,BS=1.0000000000001;function QV(n,t,e,i=!1){const s=e.length;if(!s)return;t.x=t.y=1;let o,l;for(let c=0;c<s;c++){o=e[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Xa(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,jk(n,l)),i&&Ao(o.latestValues)&&Xa(n,o.latestValues))}t.x<BS&&t.x>zS&&(t.x=1),t.y<BS&&t.y>zS&&(t.y=1)}function qa(n,t){n.min=n.min+t,n.max=n.max+t}function VS(n,t,e,i,s=.5){const o=we(n.min,n.max,s);a_(n,t,e,o,i)}function Xa(n,t){VS(n.x,t.x,t.scaleX,t.scale,t.originX),VS(n.y,t.y,t.scaleY,t.scale,t.originY)}function Uk(n,t){return Vk(XV(n.getBoundingClientRect(),t))}function JV(n,t,e){const i=Uk(n,e),{scroll:s}=t;return s&&(qa(i.x,s.offset.x),qa(i.y,s.offset.y)),i}const WS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qa=()=>({x:WS(),y:WS()}),jS=()=>({min:0,max:0}),Ee=()=>({x:jS(),y:jS()}),l_={current:null},Hk={current:!1};function tW(){if(Hk.current=!0,!!Ty)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>l_.current=n.matches;n.addEventListener("change",t),t()}else l_.current=!1}const eW=new WeakMap;function nW(n,t,e){for(const i in t){const s=t[i],o=e[i];if(cn(s))n.addValue(i,s);else if(cn(o))n.addValue(i,$o(s,{owner:n}));else if(o!==s)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(i);n.addValue(i,$o(l!==void 0?l:s,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const US=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iW{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Mn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,fe.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=ep(e),this.isVariantNode=Ik(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(e,{},this);for(const w in y){const T=y[w];d[w]!==void 0&&cn(T)&&T.set(d[w])}}mount(t){this.current=t,eW.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),Hk.current||tW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:l_.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ds(this.notifyUpdate),Ds(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Sl.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&fe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in pl){const e=pl[t];if(!e)continue;const{isEnabled:i,Feature:s}=e;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<US.length;i++){const s=US[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=t[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=nW(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=$o(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(DP(i)||FP(i))?i=parseFloat(i):!cV(i)&&Wr.test(e)&&(i=vk(t,e)),this.setBaseTarget(t,cn(i)?i.get():i)),cn(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const o=Qy(this.props,e,this.presenceContext?.custom);o&&(i=o[t])}if(e&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!cn(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new My),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Zy.render(this.render)}}class Zk extends iW{constructor(){super(...arguments),this.KeyframeResolver=XB}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;cn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Gk(n,{style:t,vars:e},i,s){const o=n.style;let l;for(l in t)o[l]=t[l];s?.applyProjectionStyles(o,i);for(l in e)o.setProperty(l,e[l])}function sW(n){return window.getComputedStyle(n)}class rW extends Zk{constructor(){super(...arguments),this.type="html",this.renderInstance=Gk}readValueFromInstance(t,e){if(Sl.has(e))return this.projection?.isProjecting?Jg(e):gB(t,e);{const i=sW(t),s=(Ry(e)?i.getPropertyValue(e):i[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Uk(t,e)}build(t,e,i){Yy(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return Jy(t,e,i)}}const Kk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oW(n,t,e,i){Gk(n,t,void 0,i);for(const s in t.attrs)n.setAttribute(Kk.has(s)?s:tv(s),t.attrs[s])}class aW extends Zk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ee}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Sl.has(e)){const i=yk(e);return i&&i.default||0}return e=Kk.has(e)?e:tv(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return Nk(t,e,i)}build(t,e,i){Ak(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,s){oW(t,e,i,s)}mount(t){this.isSVGTag=Ok(t.tagName),super.mount(t)}}const lW=(n,t)=>Xy(n)?new aW(t):new rW(t,{allowProjection:n!==Q.Fragment});function rl(n,t,e){const i=n.getProps();return Qy(i,t,e!==void 0?e:i.custom,n)}const u_=n=>Array.isArray(n);function uW(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,$o(e))}function cW(n){return u_(n)?n[n.length-1]||0:n}function hW(n,t){const e=rl(n,t);let{transitionEnd:i={},transition:s={},...o}=e||{};o={...o,...i};for(const l in o){const c=cW(o[l]);uW(n,l,c)}}function dW(n){return!!(cn(n)&&n.add)}function c_(n,t){const e=n.getValue("willChange");if(dW(e))return e.add(t);if(!e&&Os.WillChange){const i=new Os.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function $k(n){return n.props[Fk]}const fW=n=>n!==null;function pW(n,{repeat:t,repeatType:e="loop"},i){const s=n.filter(fW),o=t&&e!=="loop"&&t%2===1?0:s.length-1;return s[o]}const mW={type:"spring",stiffness:500,damping:25,restSpeed:10},gW=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),_W={type:"keyframes",duration:.8},yW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vW=(n,{keyframes:t})=>t.length>2?_W:Sl.has(n)?n.startsWith("scale")?gW(t[1]):mW:yW;function xW({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const ev=(n,t,e,i={},s,o)=>l=>{const c=Uy(i,n)||{},d=c.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ki(d);const g={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-p,onUpdate:w=>{t.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:n,motionValue:t,element:o?void 0:s};xW(c)||Object.assign(g,vW(n,g)),g.duration&&(g.duration=Ki(g.duration)),g.repeatDelay&&(g.repeatDelay=Ki(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(s_(g),g.delay===0&&(y=!0)),(Os.instantAnimations||Os.skipAnimations)&&(y=!0,s_(g),g.delay=0),g.allowFlatten=!c.type&&!c.ease,y&&!o&&t.get()!==void 0){const w=pW(g.keyframes,c);if(w!==void 0){fe.update(()=>{g.onUpdate(w),g.onComplete()});return}}return c.isSync?new Wy(g):new BB(g)};function wW({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function Yk(n,t,{delay:e=0,transitionOverride:i,type:s}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:l,...c}=t;i&&(o=i);const d=[],p=s&&n.animationState&&n.animationState.getState()[s];for(const g in c){const y=n.getValue(g,n.latestValues[g]??null),w=c[g];if(w===void 0||p&&wW(p,g))continue;const T={delay:e,...Uy(o||{},g)},C=y.get();if(C!==void 0&&!y.isAnimating&&!Array.isArray(w)&&w===C&&!T.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const M=$k(n);if(M){const R=window.MotionHandoffAnimation(M,g,fe);R!==null&&(T.startTime=R,k=!0)}}c_(n,g),y.start(ev(g,y,w,n.shouldReduceMotion&&mk.has(g)?{type:!1}:T,n,k));const I=y.animation;I&&d.push(I)}return l&&Promise.all(d).then(()=>{fe.update(()=>{l&&hW(n,l)})}),d}function qk(n,t,e,i=0,s=1){const o=Array.from(n).sort((p,g)=>p.sortNodePosition(g)).indexOf(t),l=n.size,c=(l-1)*i;return typeof e=="function"?e(o,l):s===1?o*i:c-o*i}function h_(n,t,e={}){const i=rl(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(s=e.transitionOverride);const o=i?()=>Promise.all(Yk(n,i,e)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=s;return SW(n,t,d,p,g,y,e)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,p]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>p())}else return Promise.all([o(),l(e.delay)])}function SW(n,t,e=0,i=0,s=0,o=1,l){const c=[];for(const d of n.variantChildren)d.notify("AnimationStart",t),c.push(h_(d,t,{...l,delay:e+(typeof i=="function"?0:i)+qk(n.variantChildren,d,i,s,o)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function bW(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>h_(n,o,e));i=Promise.all(s)}else if(typeof t=="string")i=h_(n,t,e);else{const s=typeof t=="function"?rl(n,t,e.custom):t;i=Promise.all(Yk(n,s,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function Xk(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const TW=$y.length;function Qk(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?Qk(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<TW;e++){const i=$y[e],s=n.props[i];(wc(s)||s===!1)&&(t[i]=s)}return t}const CW=[...Ky].reverse(),PW=Ky.length;function kW(n){return t=>Promise.all(t.map(({animation:e,options:i})=>bW(n,e,i)))}function EW(n){let t=kW(n),e=HS(),i=!0;const s=d=>(p,g)=>{const y=rl(n,g,d==="exit"?n.presenceContext?.custom:void 0);if(y){const{transition:w,transitionEnd:T,...C}=y;p={...p,...C,...T}}return p};function o(d){t=d(n)}function l(d){const{props:p}=n,g=Qk(n.parent)||{},y=[],w=new Set;let T={},C=1/0;for(let I=0;I<PW;I++){const M=CW[I],R=e[M],F=p[M]!==void 0?p[M]:g[M],j=wc(F),B=M===d?R.isActive:null;B===!1&&(C=I);let G=F===g[M]&&F!==p[M]&&j;if(G&&i&&n.manuallyAnimateOnMount&&(G=!1),R.protectedKeys={...T},!R.isActive&&B===null||!F&&!R.prevProp||tp(F)||typeof F=="boolean")continue;const Y=IW(R.prevProp,F);let $=Y||M===d&&R.isActive&&!G&&j||I>C&&j,rt=!1;const dt=Array.isArray(F)?F:[F];let ct=dt.reduce(s(M),{});B===!1&&(ct={});const{prevResolvedValues:vt={}}=R,Kt={...vt,...ct},Ft=ft=>{$=!0,w.has(ft)&&(rt=!0,w.delete(ft)),R.needsAnimating[ft]=!0;const K=n.getValue(ft);K&&(K.liveStyle=!1)};for(const ft in Kt){const K=ct[ft],at=vt[ft];if(T.hasOwnProperty(ft))continue;let q=!1;u_(K)&&u_(at)?q=!Xk(K,at):q=K!==at,q?K!=null?Ft(ft):w.add(ft):K!==void 0&&w.has(ft)?Ft(ft):R.protectedKeys[ft]=!0}R.prevProp=F,R.prevResolvedValues=ct,R.isActive&&(T={...T,...ct}),i&&n.blockInitialAnimation&&($=!1);const Rt=G&&Y;$&&(!Rt||rt)&&y.push(...dt.map(ft=>{const K={type:M};if(typeof ft=="string"&&i&&!Rt&&n.manuallyAnimateOnMount&&n.parent){const{parent:at}=n,q=rl(at,ft);if(at.enteringChildren&&q){const{delayChildren:N}=q.transition||{};K.delay=qk(at.enteringChildren,n,N)}}return{animation:ft,options:K}}))}if(w.size){const I={};if(typeof p.initial!="boolean"){const M=rl(n,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(I.transition=M.transition)}w.forEach(M=>{const R=n.getBaseTarget(M),F=n.getValue(M);F&&(F.liveStyle=!0),I[M]=R??null}),y.push({animation:I})}let k=!!y.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(k=!1),i=!1,k?t(y):Promise.resolve()}function c(d,p){if(e[d].isActive===p)return Promise.resolve();n.variantChildren?.forEach(y=>y.animationState?.setActive(d,p)),e[d].isActive=p;const g=l(d);for(const y in e)e[y].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>e,reset:()=>{e=HS()}}}function IW(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Xk(t,n):!1}function Eo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HS(){return{animate:Eo(!0),whileInView:Eo(),whileHover:Eo(),whileTap:Eo(),whileDrag:Eo(),whileFocus:Eo(),exit:Eo()}}class Zr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class MW extends Zr{constructor(t){super(t),t.animationState||(t.animationState=EW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();tp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let LW=0;class AW extends Zr{constructor(){super(...arguments),this.id=LW++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);e&&!t&&s.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const RW={animation:{Feature:MW},exit:{Feature:AW}};function bc(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function jc(n){return{point:{x:n.pageX,y:n.pageY}}}const OW=n=>t=>Gy(t)&&n(t,jc(t));function Ju(n,t,e,i){return bc(n,t,OW(e),i)}const Jk=1e-4,DW=1-Jk,NW=1+Jk,tE=.01,FW=0-tE,zW=0+tE;function yn(n){return n.max-n.min}function BW(n,t,e){return Math.abs(n-t)<=e}function ZS(n,t,e,i=.5){n.origin=i,n.originPoint=we(t.min,t.max,n.origin),n.scale=yn(e)/yn(t),n.translate=we(e.min,e.max,n.origin)-n.originPoint,(n.scale>=DW&&n.scale<=NW||isNaN(n.scale))&&(n.scale=1),(n.translate>=FW&&n.translate<=zW||isNaN(n.translate))&&(n.translate=0)}function tc(n,t,e,i){ZS(n.x,t.x,e.x,i?i.originX:void 0),ZS(n.y,t.y,e.y,i?i.originY:void 0)}function GS(n,t,e){n.min=e.min+t.min,n.max=n.min+yn(t)}function VW(n,t,e){GS(n.x,t.x,e.x),GS(n.y,t.y,e.y)}function KS(n,t,e){n.min=t.min-e.min,n.max=n.min+yn(t)}function ec(n,t,e){KS(n.x,t.x,e.x),KS(n.y,t.y,e.y)}function ai(n){return[n("x"),n("y")]}const eE=({current:n})=>n?n.ownerDocument.defaultView:null,$S=(n,t)=>Math.abs(n-t);function WW(n,t){const e=$S(n.x,t.x),i=$S(n.y,t.y);return Math.sqrt(e**2+i**2)}class nE{constructor(t,e,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=hg(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,C=WW(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!C)return;const{point:k}=w,{timestamp:I}=Ye;this.history.push({...k,timestamp:I});const{onStart:M,onMove:R}=this.handlers;T||(M&&M(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=cg(T,this.transformPagePoint),fe.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:C,onSessionEnd:k,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=hg(w.type==="pointercancel"?this.lastMoveEventInfo:cg(T,this.transformPagePoint),this.history);this.startEvent&&C&&C(w,M),k&&k(w,M)},!Gy(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const c=jc(t),d=cg(c,this.transformPagePoint),{point:p}=d,{timestamp:g}=Ye;this.history=[{...p,timestamp:g}];const{onSessionStart:y}=e;y&&y(t,hg(d,this.history)),this.removeListeners=Bc(Ju(this.contextWindow,"pointermove",this.handlePointerMove),Ju(this.contextWindow,"pointerup",this.handlePointerUp),Ju(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ds(this.updatePoint)}}function cg(n,t){return t?{point:t(n.point)}:n}function YS(n,t){return{x:n.x-t.x,y:n.y-t.y}}function hg({point:n},t){return{point:n,delta:YS(n,iE(t)),offset:YS(n,jW(t)),velocity:UW(t,.1)}}function jW(n){return n[0]}function iE(n){return n[n.length-1]}function UW(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const s=iE(n);for(;e>=0&&(i=n[e],!(s.timestamp-i.timestamp>Ki(t)));)e--;if(!i)return{x:0,y:0};const o=li(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function HW(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?we(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?we(e,n,i.max):Math.min(n,e)),n}function qS(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function ZW(n,{top:t,left:e,bottom:i,right:s}){return{x:qS(n.x,e,s),y:qS(n.y,t,i)}}function XS(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function GW(n,t){return{x:XS(n.x,t.x),y:XS(n.y,t.y)}}function KW(n,t){let e=.5;const i=yn(n),s=yn(t);return s>i?e=yc(t.min,t.max-i,n.min):i>s&&(e=yc(n.min,n.max-s,t.min)),Rs(0,1,e)}function $W(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const d_=.35;function YW(n=d_){return n===!1?n=0:n===!0&&(n=d_),{x:QS(n,"left","right"),y:QS(n,"top","bottom")}}function QS(n,t,e){return{min:JS(n,t),max:JS(n,e)}}function JS(n,t){return typeof n=="number"?n:n[t]||0}const qW=new WeakMap;class XW{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(jc(y).point)},l=(y,w)=>{const{drag:T,dragPropagation:C,onDragStart:k}=this.getProps();if(T&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eV(T),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ai(M=>{let R=this.getAxisMotionValue(M).get()||0;if($i.test(R)){const{projection:F}=this.visualElement;if(F&&F.layout){const j=F.layout.layoutBox[M];j&&(R=yn(j)*(parseFloat(R)/100))}}this.originPoint[M]=R}),k&&fe.postRender(()=>k(y,w)),c_(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},c=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w;const{dragPropagation:T,dragDirectionLock:C,onDirectionLock:k,onDrag:I}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:M}=w;if(C&&this.currentDirection===null){this.currentDirection=QW(M),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,M),this.updateAxis("y",w.point,M),this.visualElement.render(),I&&I(y,w)},d=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w,this.stop(y,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ai(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new nE(t,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:eE(this.visualElement)})}stop(t,e){const i=t||this.latestPointerEvent,s=e||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&fe.postRender(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:s}=this.getProps();if(!i||!Ld(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=HW(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&Ya(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=ZW(i.layoutBox,t):this.constraints=!1,this.elastic=YW(e),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ai(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=$W(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Ya(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=JV(i,s.root,this.visualElement.getTransformPagePoint());let l=GW(s.layout.layoutBox,o);if(e){const c=e(qV(l));this.hasMutatedConstraints=!!c,c&&(l=Vk(c))}return l}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=ai(g=>{if(!Ld(g,e,this.currentDirection))return;let y=d&&d[g]||{};l&&(y={min:0,max:0});const w=s?200:1e6,T=s?40:1e7,C={type:"inertia",velocity:i?t[g]:0,bounceStiffness:w,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(g,C)});return Promise.all(p).then(c)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return c_(this.visualElement,t),i.start(ev(t,i,0,e,this.visualElement,!1))}stopAnimation(){ai(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ai(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[e];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ai(e=>{const{drag:i}=this.getProps();if(!Ld(e,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(e);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[e];o.set(t[e]-we(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Ya(e)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ai(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=KW({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ai(l=>{if(!Ld(l,t,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(we(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;qW.set(this.visualElement,this);const t=this.visualElement.current,e=Ju(t,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Ya(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),fe.read(i);const l=bc(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ai(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),e(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=d_,dragMomentum:c=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Ld(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function QW(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class JW extends Zr{constructor(t){super(t),this.removeGroupControls=ui,this.removeListeners=ui,this.controls=new XW(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ui}unmount(){this.removeGroupControls(),this.removeListeners()}}const tb=n=>(t,e)=>{n&&fe.postRender(()=>n(t,e))};class tj extends Zr{constructor(){super(...arguments),this.removePointerDownListener=ui}onPointerDown(t){this.session=new nE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:tb(t),onStart:tb(e),onMove:i,onEnd:(o,l)=>{delete this.session,s&&fe.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=Ju(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ud={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eb(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Ru={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(It.test(n))n=parseFloat(n);else return n;const e=eb(n,t.target.x),i=eb(n,t.target.y);return`${e}% ${i}%`}},ej={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,s=Wr.parse(n);if(s.length>5)return i;const o=Wr.createTransformer(n),l=typeof s[0]!="number"?1:0,c=e.x.scale*t.x,d=e.y.scale*t.y;s[0+l]/=c,s[1+l]/=d;const p=we(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),o(s)}};let dg=!1;class nj extends Q.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;TV(ij),o&&(e.group&&e.group.add(o),i&&i.register&&s&&i.register(o),dg&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ud.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:s,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,dg=!0,s||t.layoutDependency!==e||e===void 0||t.isPresent!==o?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||fe.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Zy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:s}=t;dg=!0,s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sE(n){const[t,e]=Pk(),i=Q.useContext(by);return J.jsx(nj,{...n,layoutGroup:i,switchLayoutGroup:Q.useContext(zk),isPresent:t,safeToRemove:e})}const ij={borderRadius:{...Ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ru,borderTopRightRadius:Ru,borderBottomLeftRadius:Ru,borderBottomRightRadius:Ru,boxShadow:ej};function sj(n,t,e){const i=cn(n)?n:$o(n);return i.start(ev("",i,t,e)),i.animation}const rj=(n,t)=>n.depth-t.depth;class oj{constructor(){this.children=[],this.isDirty=!1}add(t){Py(this.children,t),this.isDirty=!0}remove(t){ky(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rj),this.isDirty=!1,this.children.forEach(t)}}function aj(n,t){const e=Mn.now(),i=({timestamp:s})=>{const o=s-e;o>=t&&(Ds(i),n(o-t))};return fe.setup(i,!0),()=>Ds(i)}const rE=["TopLeft","TopRight","BottomLeft","BottomRight"],lj=rE.length,nb=n=>typeof n=="string"?parseFloat(n):n,ib=n=>typeof n=="number"||It.test(n);function uj(n,t,e,i,s,o){s?(n.opacity=we(0,e.opacity??1,cj(i)),n.opacityExit=we(t.opacity??1,0,hj(i))):o&&(n.opacity=we(t.opacity??1,e.opacity??1,i));for(let l=0;l<lj;l++){const c=`border${rE[l]}Radius`;let d=sb(t,c),p=sb(e,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||ib(d)===ib(p)?(n[c]=Math.max(we(nb(d),nb(p),i),0),($i.test(p)||$i.test(d))&&(n[c]+="%")):n[c]=p}(t.rotate||e.rotate)&&(n.rotate=we(t.rotate||0,e.rotate||0,i))}function sb(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const cj=oE(0,.5,ZP),hj=oE(.5,.95,ui);function oE(n,t,e){return i=>i<n?0:i>t?1:e(yc(n,t,i))}function rb(n,t){n.min=t.min,n.max=t.max}function oi(n,t){rb(n.x,t.x),rb(n.y,t.y)}function ob(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function ab(n,t,e,i,s){return n-=t,n=If(n,1/e,i),s!==void 0&&(n=If(n,1/s,i)),n}function dj(n,t=0,e=1,i=.5,s,o=n,l=n){if($i.test(t)&&(t=parseFloat(t),t=we(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=we(o.min,o.max,i);n===o&&(c-=t),n.min=ab(n.min,t,e,c,s),n.max=ab(n.max,t,e,c,s)}function lb(n,t,[e,i,s],o,l){dj(n,t[e],t[i],t[s],t.scale,o,l)}const fj=["x","scaleX","originX"],pj=["y","scaleY","originY"];function ub(n,t,e,i){lb(n.x,t,fj,e?e.x:void 0,i?i.x:void 0),lb(n.y,t,pj,e?e.y:void 0,i?i.y:void 0)}function cb(n){return n.translate===0&&n.scale===1}function aE(n){return cb(n.x)&&cb(n.y)}function hb(n,t){return n.min===t.min&&n.max===t.max}function mj(n,t){return hb(n.x,t.x)&&hb(n.y,t.y)}function db(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function lE(n,t){return db(n.x,t.x)&&db(n.y,t.y)}function fb(n){return yn(n.x)/yn(n.y)}function pb(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class gj{constructor(){this.members=[]}add(t){Py(this.members,t),t.scheduleRender()}remove(t){if(ky(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let i;for(let s=e;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _j(n,t,e){let i="";const s=n.x.translate/t.x,o=n.y.translate/t.y,l=e?.z||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:w,skewX:T,skewY:C}=e;p&&(i=`perspective(${p}px) ${i}`),g&&(i+=`rotate(${g}deg) `),y&&(i+=`rotateX(${y}deg) `),w&&(i+=`rotateY(${w}deg) `),T&&(i+=`skewX(${T}deg) `),C&&(i+=`skewY(${C}deg) `)}const c=n.x.scale*t.x,d=n.y.scale*t.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const fg=["","X","Y","Z"],yj=1e3;let vj=0;function pg(n,t,e,i){const{latestValues:s}=t;s[n]&&(e[n]=s[n],t.setStaticValue(n,0),i&&(i[n]=0))}function uE(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=$k(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:s,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",fe,!(s||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&uE(i)}function cE({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t?.()){this.id=vj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Sj),this.nodes.forEach(Pj),this.nodes.forEach(kj),this.nodes.forEach(bj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new oj)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new My),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Ck(l)&&!aV(l),this.instance=l;const{layoutId:c,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),n){let g,y=0;const w=()=>this.root.updateBlockedByResize=!1;fe.read(()=>{y=window.innerWidth}),n(l,()=>{const T=window.innerWidth;T!==y&&(y=T,this.root.updateBlockedByResize=!0,g&&g(),g=aj(w,250),Ud.hasAnimatedSinceResize&&(Ud.hasAnimatedSinceResize=!1,this.nodes.forEach(_b)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:w,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||Aj,{onLayoutAnimationStart:k,onLayoutAnimationComplete:I}=p.getProps(),M=!this.targetLayout||!lE(this.targetLayout,T),R=!y&&w;if(this.options.layoutRoot||this.resumeFrom||R||y&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Uy(C,"layout"),onPlay:k,onComplete:I};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(g,R)}else y||_b(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ds(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ej),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(gb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Cj),this.nodes.forEach(xj),this.nodes.forEach(wj)):this.nodes.forEach(gb),this.clearAllSnapshots();const c=Mn.now();Ye.delta=Rs(0,1e3/60,c-Ye.timestamp),Ye.timestamp=c,Ye.isProcessing=!0,ng.update.process(Ye),ng.preRender.process(Ye),ng.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Tj),this.sharedNodes.forEach(Ij)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!aE(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(c||Ao(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),Rj(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ee();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Oj))){const{scroll:p}=this.root;p&&(qa(c.x,p.offset.x),qa(c.y,p.offset.y))}return c}removeElementScroll(l){const c=Ee();if(oi(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&oi(c,l),qa(c.x,g.offset.x),qa(c.y,g.offset.y))}return c}applyTransform(l,c=!1){const d=Ee();oi(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Xa(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ao(g.latestValues)&&Xa(d,g.latestValues)}return Ao(this.latestValues)&&Xa(d,this.latestValues),d}removeTransform(l){const c=Ee();oi(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ao(p.latestValues))continue;o_(p.latestValues)&&p.updateSnapshot();const g=Ee(),y=p.measurePageBox();oi(g,y),ub(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ao(this.latestValues)&&ub(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),ec(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oi(this.target,this.layout.layoutBox),jk(this.target,this.targetDelta)):oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),ec(this.relativeTargetOrigin,this.target,w.target),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||o_(this.parent.latestValues)||Wk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;oi(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;QV(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ee());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ob(this.prevProjectionDelta.x,this.projectionDelta.x),ob(this.prevProjectionDelta.y,this.projectionDelta.y)),tc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==w||!pb(this.projectionDelta.x,this.prevProjectionDelta.x)||!pb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qa(),this.projectionDelta=Qa(),this.projectionDeltaWithTransform=Qa()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},y=Qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=Ee(),T=d?d.source:void 0,C=this.layout?this.layout.source:void 0,k=T!==C,I=this.getStack(),M=!I||I.members.length<=1,R=!!(k&&!M&&this.options.crossfade===!0&&!this.path.some(Lj));this.animationProgress=0;let F;this.mixTargetDelta=j=>{const B=j/1e3;yb(y.x,l.x,B),yb(y.y,l.y,B),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ec(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Mj(this.relativeTarget,this.relativeTargetOrigin,w,B),F&&mj(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Ee()),oi(F,this.relativeTarget)),k&&(this.animationValues=g,uj(g,p,this.latestValues,B,R,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ds(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fe.update(()=>{Ud.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$o(0)),this.currentAnimation=sj(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:g}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&hE(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Ee();const y=yn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const w=yn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}oi(c,d),Xa(c,g),tc(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new gj),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&pg("z",l,p,this.animationValues);for(let g=0;g<fg.length;g++)pg(`rotate${fg[g]}`,l,p,this.animationValues),pg(`skew${fg[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=jd(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=jd(c?.pointerEvents)||""),this.hasProjected&&!Ao(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=_j(this.projectionDeltaWithTransform,this.treeScale,g);d&&(y=d(g,y)),l.transform=y;const{x:w,y:T}=this.projectionDelta;l.transformOrigin=`${w.origin*100}% ${T.origin*100}% 0`,p.animationValues?l.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in Sc){if(g[C]===void 0)continue;const{correct:k,applyTo:I,isCSSVariable:M}=Sc[C],R=y==="none"?g[C]:k(g[C],p);if(I){const F=I.length;for(let j=0;j<F;j++)l[I[j]]=R}else M?this.options.visualElement.renderState.vars[C]=R:l[C]=R}this.options.layoutId&&(l.pointerEvents=p===this?jd(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(mb),this.root.sharedNodes.clear()}}}function xj(n){n.updateLayout()}function wj(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?ai(g=>{const y=o?t.measuredBox[g]:t.layoutBox[g],w=yn(y);y.min=e[g].min,y.max=y.min+w}):hE(s,t.layoutBox,e)&&ai(g=>{const y=o?t.measuredBox[g]:t.layoutBox[g],w=yn(e[g]);y.max=y.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+w)});const l=Qa();tc(l,e,t.layoutBox);const c=Qa();o?tc(c,n.applyTransform(i,!0),t.measuredBox):tc(c,e,t.layoutBox);const d=!aE(l);let p=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:w}=g;if(y&&w){const T=Ee();ec(T,t.layoutBox,y.layoutBox);const C=Ee();ec(C,e,w.layoutBox),lE(T,C)||(p=!0),g.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=T,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function Sj(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function bj(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Tj(n){n.clearSnapshot()}function mb(n){n.clearMeasurements()}function gb(n){n.isLayoutDirty=!1}function Cj(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function _b(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Pj(n){n.resolveTargetDelta()}function kj(n){n.calcProjection()}function Ej(n){n.resetSkewAndRotation()}function Ij(n){n.removeLeadSnapshot()}function yb(n,t,e){n.translate=we(t.translate,0,e),n.scale=we(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function vb(n,t,e,i){n.min=we(t.min,e.min,i),n.max=we(t.max,e.max,i)}function Mj(n,t,e,i){vb(n.x,t.x,e.x,i),vb(n.y,t.y,e.y,i)}function Lj(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Aj={duration:.45,ease:[.4,0,.1,1]},xb=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),wb=xb("applewebkit/")&&!xb("chrome/")?Math.round:ui;function Sb(n){n.min=wb(n.min),n.max=wb(n.max)}function Rj(n){Sb(n.x),Sb(n.y)}function hE(n,t,e){return n==="position"||n==="preserve-aspect"&&!BW(fb(t),fb(e),.2)}function Oj(n){return n!==n.root&&n.scroll?.wasRoot}const Dj=cE({attachResizeListener:(n,t)=>bc(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mg={current:void 0},dE=cE({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!mg.current){const n=new Dj({});n.mount(window),n.setOptions({layoutScroll:!0}),mg.current=n}return mg.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Nj={pan:{Feature:tj},drag:{Feature:JW,ProjectionNode:dE,MeasureLayout:sE}};function bb(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const s="onHover"+e,o=i[s];o&&fe.postRender(()=>o(t,jc(t)))}class Fj extends Zr{mount(){const{current:t}=this.node;t&&(this.unmount=nV(t,(e,i)=>(bb(this.node,i,"Start"),s=>bb(this.node,s,"End"))))}unmount(){}}class zj extends Zr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bc(bc(this.node.current,"focus",()=>this.onFocus()),bc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tb(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const s="onTap"+(e==="End"?"":e),o=i[s];o&&fe.postRender(()=>o(t,jc(t)))}class Bj extends Zr{mount(){const{current:t}=this.node;t&&(this.unmount=oV(t,(e,i)=>(Tb(this.node,i,"Start"),(s,{success:o})=>Tb(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const f_=new WeakMap,gg=new WeakMap,Vj=n=>{const t=f_.get(n.target);t&&t(n)},Wj=n=>{n.forEach(Vj)};function jj({root:n,...t}){const e=n||document;gg.has(e)||gg.set(e,{});const i=gg.get(e),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(Wj,{root:n,...t})),i[s]}function Uj(n,t,e){const i=jj(t);return f_.set(n,e),i.observe(n),()=>{f_.delete(n),i.unobserve(n)}}const Hj={some:0,all:1};class Zj extends Zr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:s="some",once:o}=t,l={root:e?e.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Hj[s]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),w=p?g:y;w&&w(d)};return Uj(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(Gj(t,e))&&this.startObserver()}unmount(){}}function Gj({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const Kj={inView:{Feature:Zj},tap:{Feature:Bj},focus:{Feature:zj},hover:{Feature:Fj}},$j={layout:{ProjectionNode:dE,MeasureLayout:sE}},Yj={...RW,...Kj,...Nj,...$j},Ad=YV(Yj,lW);function fE(n){const t=zc(()=>$o(n)),{isStatic:e}=Q.useContext(Qf);if(e){const[,i]=Q.useState(n);Q.useEffect(()=>t.on("change",i),[])}return t}function pE(n,t){const e=fE(t()),i=()=>e.set(t());return i(),Cy(()=>{const s=()=>fe.preRender(i,!1,!0),o=n.map(l=>l.on("change",s));return()=>{o.forEach(l=>l()),Ds(i)}}),e}function qj(n){Qu.current=[],n();const t=pE(Qu.current,n);return Qu.current=void 0,t}function Xj(n,t,e,i){if(typeof n=="function")return qj(n);const s=typeof t=="function"?t:lV(t,e,i);return Array.isArray(n)?Cb(n,s):Cb([n],([o])=>s(o))}function Cb(n,t){const e=zc(()=>[]);return pE(n,()=>{e.length=0;const i=n.length;for(let s=0;s<i;s++)e[s]=n[s].get();return t(e)})}Kf.register(...lz);function Qj(n,t){const i=`timestamp,value,unit
`+t.map(c=>`${new Date(c.t).toISOString()},${c.v},${c.u||""}`).join(`
`),s=new Blob([i],{type:"text/csv"}),o=URL.createObjectURL(s),l=document.createElement("a");l.href=o,l.download=n,l.click(),URL.revokeObjectURL(o)}function Jj({warnThreshold:n=null,dangerThreshold:t=null}){const[e,i]=Q.useState(null),[s,o]=Q.useState("cm"),[l,c]=Q.useState([]),[d,p]=Q.useState([]),g=fE(0),y=Xj(g,M=>(Math.round(M*10)/10).toFixed(1));Q.useEffect(()=>{e!==null&&g.set(Number(e))},[e]),Q.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().catch(()=>{});const M=lf(gf,"/TOF_Sensor/value"),R=lf(gf,"/TOF_Sensor/unit"),F=uf(M,B=>{if(!B.exists())return;const G=Number(B.val());i(G),c(Y=>{const $=[...Y,{t:Date.now(),v:G,u:s}];return $.length>120&&$.shift(),$}),t!==null&&G>=t?(w("CRITICAL: value is above danger threshold","danger"),T("CRITICAL",`Value ${G} ${s} above ${t}`),C()):n!==null&&G>=n&&(w("Warning: value above warning threshold","warning"),T("Warning",`Value ${G} ${s} above ${n}`))}),j=uf(R,B=>{B.exists()&&o(B.val())});return()=>{F(),j()}},[t,n,s]);function w(M,R="info"){const F=Date.now()+Math.random();p(j=>[...j,{id:F,message:M,level:R}]),setTimeout(()=>p(j=>j.filter(B=>B.id!==F)),6e3)}function T(M,R){"Notification"in window&&Notification.permission==="granted"&&new Notification(M,{body:R})}function C(){try{const M=new(window.AudioContext||window.webkitAudioContext),R=M.createOscillator(),F=M.createGain();R.type="sine",R.frequency.value=880,F.gain.value=.05,R.connect(F),F.connect(M.destination),R.start(0),setTimeout(()=>{R.stop(),M.close()},500)}catch{}}const k={labels:l.map(M=>new Date(M.t).toLocaleTimeString()),datasets:[{label:`Distance (${s})`,data:l.map(M=>M.v),tension:.36,fill:!0,borderWidth:2,pointRadius:0,borderColor:"rgba(79, 70, 229, 1)",backgroundColor:M=>{const R=M.chart.ctx.createLinearGradient(0,0,0,200);return R.addColorStop(0,"rgba(99,102,241,0.18)"),R.addColorStop(1,"rgba(99,102,241,0.02)"),R}}]},I={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},interaction:{intersect:!1,mode:"index"},scales:{x:{display:!0,grid:{display:!1}},y:{display:!0,grid:{color:"#f1f5f9"}}},animation:{duration:400,easing:"easeOutCubic"}};return J.jsxs(Ad.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"p-6 bg-white rounded-2xl shadow-soft-lg",children:[J.jsxs("div",{className:"flex items-center justify-between",children:[J.jsxs("div",{children:[J.jsx("h3",{className:"text-sm text-muted",children:"Live Distance"}),J.jsxs("div",{className:"flex items-baseline gap-3 mt-2",children:[J.jsx(_V,{mode:"wait",children:J.jsx(Ad.span,{initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.96,opacity:0},transition:{duration:.28},className:"text-4xl font-extrabold text-primary",style:{willChange:"transform"},children:J.jsx(Ad.span,{style:{fontVariantNumeric:"tabular-nums"},children:y?J.jsx(Ad.span,{children:y}):""})},e??"empty")}),J.jsx("span",{className:"text-lg text-gray-600",children:s})]}),J.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Realtime"})]}),J.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[J.jsx("div",{className:"text-xs text-gray-500",children:"Last sample"}),J.jsx("div",{className:"text-sm text-gray-700",children:l.length?new Date(l[l.length-1].t).toLocaleString():""}),J.jsxs("div",{className:"mt-2 flex gap-2",children:[J.jsx("button",{onClick:()=>Qj("rangefinder-history.csv",l),className:"px-3 py-1 rounded bg-gray-100 hover:bg-gray-200 text-sm",children:"Export CSV"}),J.jsx("button",{onClick:()=>{navigator.clipboard?.writeText(`${e} ${s}`).then(()=>w("Copied value to clipboard","info"))},className:"px-3 py-1 rounded bg-primary text-white text-sm",children:"Copy"})]})]})]}),J.jsx("div",{className:"mt-4",style:{height:260},children:J.jsx(pz,{data:k,options:I})}),J.jsx("div",{className:"fixed bottom-6 right-6 flex flex-col gap-2 z-50",children:d.map(M=>J.jsx("div",{className:`px-4 py-2 rounded shadow text-sm ${M.level==="danger"?"bg-red-600 text-white":M.level==="warning"?"bg-yellow-400 text-black":"bg-gray-800 text-white"}`,children:M.message},M.id))})]})}function tU(){const[n,t]=Q.useState(null);Q.useEffect(()=>{const s=EA(Wm,o=>t(o));return()=>s()},[]);const e=async()=>{const s=new bs;try{await YA(Wm,s)}catch(o){console.error("Google login failed",o),alert("Login failed: "+o.message)}},i=async()=>{await IA(Wm)};return J.jsx("div",{className:"flex items-center gap-4",children:n?J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"text-sm text-gray-700",children:["Signed in as ",J.jsx("strong",{children:n.email??n.displayName??n.uid})]}),J.jsx("button",{onClick:i,className:"px-3 py-1 rounded bg-gray-100 hover:bg-gray-200",children:"Sign out"})]}):J.jsx("button",{onClick:e,className:"px-3 py-1 rounded bg-indigo-600 text-white hover:opacity-90",children:"Sign in with Google"})})}function eU(n,t){const e=Q.useRef(t);Q.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}Fb();const nU=1;function iU(n){return Object.freeze({__version:nU,map:n})}function sU(n,t){return Object.freeze({...n,...t})}const mE=Q.createContext(null),gE=mE.Provider;function _E(){const n=Q.useContext(mE);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function rU(n){function t(e,i){const{instance:s,context:o}=n(e).current;return Q.useImperativeHandle(i,()=>s),e.children==null?null:Kd.createElement(gE,{value:o},e.children)}return Q.forwardRef(t)}function oU(n){function t(e,i){const{instance:s}=n(e).current;return Q.useImperativeHandle(i,()=>s),null}return Q.forwardRef(t)}function aU(n,t){const e=Q.useRef();Q.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function yE(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}var Bu={exports:{}};var lU=Bu.exports,Pb;function uU(){return Pb||(Pb=1,(function(n,t){(function(e,i){i(t)})(lU,(function(e){var i="1.9.4";function s(a){var h,m,v,b;for(m=1,v=arguments.length;m<v;m++){b=arguments[m];for(h in b)a[h]=b[h]}return a}var o=Object.create||(function(){function a(){}return function(h){return a.prototype=h,new a}})();function l(a,h){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var v=m.call(arguments,2);return function(){return a.apply(h,v.length?v.concat(m.call(arguments)):arguments)}}var c=0;function d(a){return"_leaflet_id"in a||(a._leaflet_id=++c),a._leaflet_id}function p(a,h,m){var v,b,E,O;return O=function(){v=!1,b&&(E.apply(m,b),b=!1)},E=function(){v?b=arguments:(a.apply(m,arguments),setTimeout(O,h),v=!0)},E}function g(a,h,m){var v=h[1],b=h[0],E=v-b;return a===v&&m?a:((a-b)%E+E)%E+b}function y(){return!1}function w(a,h){if(h===!1)return a;var m=Math.pow(10,h===void 0?6:h);return Math.round(a*m)/m}function T(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function C(a){return T(a).split(/\s+/)}function k(a,h){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?o(a.options):{});for(var m in h)a.options[m]=h[m];return a.options}function I(a,h,m){var v=[];for(var b in a)v.push(encodeURIComponent(m?b.toUpperCase():b)+"="+encodeURIComponent(a[b]));return(!h||h.indexOf("?")===-1?"?":"&")+v.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function R(a,h){return a.replace(M,function(m,v){var b=h[v];if(b===void 0)throw new Error("No value provided for variable "+m);return typeof b=="function"&&(b=b(h)),b})}var F=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function j(a,h){for(var m=0;m<a.length;m++)if(a[m]===h)return m;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var Y=0;function $(a){var h=+new Date,m=Math.max(0,16-(h-Y));return Y=h+m,window.setTimeout(a,m)}var rt=window.requestAnimationFrame||G("RequestAnimationFrame")||$,dt=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function ct(a,h,m){if(m&&rt===$)a.call(h);else return rt.call(window,l(a,h))}function vt(a){a&&dt.call(window,a)}var Kt={__proto__:null,extend:s,create:o,bind:l,get lastId(){return c},stamp:d,throttle:p,wrapNum:g,falseFn:y,formatNum:w,trim:T,splitWords:C,setOptions:k,getParamString:I,template:R,isArray:F,indexOf:j,emptyImageUrl:B,requestFn:rt,cancelFn:dt,requestAnimFrame:ct,cancelAnimFrame:vt};function Ft(){}Ft.extend=function(a){var h=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=h.__super__=this.prototype,v=o(m);v.constructor=h,h.prototype=v;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(h[b]=this[b]);return a.statics&&s(h,a.statics),a.includes&&(Rt(a.includes),s.apply(null,[v].concat(a.includes))),s(v,a),delete v.statics,delete v.includes,v.options&&(v.options=m.options?o(m.options):{},s(v.options,a.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,O=v._initHooks.length;E<O;E++)v._initHooks[E].call(this)}},h},Ft.include=function(a){var h=this.prototype.options;return s(this.prototype,a),a.options&&(this.prototype.options=h,this.mergeOptions(a.options)),this},Ft.mergeOptions=function(a){return s(this.prototype.options,a),this},Ft.addInitHook=function(a){var h=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Rt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=F(a)?a:[a];for(var h=0;h<a.length;h++)a[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var bt={on:function(a,h,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],h);else{a=C(a);for(var b=0,E=a.length;b<E;b++)this._on(a[b],h,m)}return this},off:function(a,h,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var v in a)this._off(v,a[v],h);else{a=C(a);for(var b=arguments.length===1,E=0,O=a.length;E<O;E++)b?this._off(a[E]):this._off(a[E],h,m)}return this},_on:function(a,h,m,v){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(a,h,m)===!1){m===this&&(m=void 0);var b={fn:h,ctx:m};v&&(b.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)}},_off:function(a,h,m){var v,b,E;if(this._events&&(v=this._events[a],!!v)){if(arguments.length===1){if(this._firingCount)for(b=0,E=v.length;b<E;b++)v[b].fn=y;delete this._events[a];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var O=this._listens(a,h,m);if(O!==!1){var V=v[O];this._firingCount&&(V.fn=y,this._events[a]=v=v.slice()),v.splice(O,1)}}},fire:function(a,h,m){if(!this.listens(a,m))return this;var v=s({},h,{type:a,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var b=this._events[a];if(b){this._firingCount=this._firingCount+1||1;for(var E=0,O=b.length;E<O;E++){var V=b[E],H=V.fn;V.once&&this.off(a,H,V.ctx),H.call(V.ctx||this,v)}this._firingCount--}}return m&&this._propagateEvent(v),this},listens:function(a,h,m,v){typeof a!="string"&&console.warn('"string" type argument expected');var b=h;typeof h!="function"&&(v=!!h,b=void 0,m=void 0);var E=this._events&&this._events[a];if(E&&E.length&&this._listens(a,b,m)!==!1)return!0;if(v){for(var O in this._eventParents)if(this._eventParents[O].listens(a,h,m,v))return!0}return!1},_listens:function(a,h,m){if(!this._events)return!1;var v=this._events[a]||[];if(!h)return!!v.length;m===this&&(m=void 0);for(var b=0,E=v.length;b<E;b++)if(v[b].fn===h&&v[b].ctx===m)return b;return!1},once:function(a,h,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],h,!0);else{a=C(a);for(var b=0,E=a.length;b<E;b++)this._on(a[b],h,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[d(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[d(a)],this},_propagateEvent:function(a){for(var h in this._eventParents)this._eventParents[h].fire(a.type,s({layer:a.target,propagatedFrom:a.target},a),!0)}};bt.addEventListener=bt.on,bt.removeEventListener=bt.clearAllEventListeners=bt.off,bt.addOneTimeEventListener=bt.once,bt.fireEvent=bt.fire,bt.hasEventListeners=bt.listens;var ft=Ft.extend(bt);function K(a,h,m){this.x=m?Math.round(a):a,this.y=m?Math.round(h):h}var at=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(a){return this.clone()._add(q(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(q(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new K(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new K(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=at(this.x),this.y=at(this.y),this},distanceTo:function(a){a=q(a);var h=a.x-this.x,m=a.y-this.y;return Math.sqrt(h*h+m*m)},equals:function(a){return a=q(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=q(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function q(a,h,m){return a instanceof K?a:F(a)?new K(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new K(a.x,a.y):new K(a,h,m)}function N(a,h){if(a)for(var m=h?[a,h]:a,v=0,b=m.length;v<b;v++)this.extend(m[v])}N.prototype={extend:function(a){var h,m;if(!a)return this;if(a instanceof K||typeof a[0]=="number"||"x"in a)h=m=q(a);else if(a=X(a),h=a.min,m=a.max,!h||!m)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=m.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var h,m;return typeof a[0]=="number"||a instanceof K?a=q(a):a=X(a),a instanceof N?(h=a.min,m=a.max):h=m=a,h.x>=this.min.x&&m.x<=this.max.x&&h.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=X(a);var h=this.min,m=this.max,v=a.min,b=a.max,E=b.x>=h.x&&v.x<=m.x,O=b.y>=h.y&&v.y<=m.y;return E&&O},overlaps:function(a){a=X(a);var h=this.min,m=this.max,v=a.min,b=a.max,E=b.x>h.x&&v.x<m.x,O=b.y>h.y&&v.y<m.y;return E&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var h=this.min,m=this.max,v=Math.abs(h.x-m.x)*a,b=Math.abs(h.y-m.y)*a;return X(q(h.x-v,h.y-b),q(m.x+v,m.y+b))},equals:function(a){return a?(a=X(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function X(a,h){return!a||a instanceof N?a:new N(a,h)}function wt(a,h){if(a)for(var m=h?[a,h]:a,v=0,b=m.length;v<b;v++)this.extend(m[v])}wt.prototype={extend:function(a){var h=this._southWest,m=this._northEast,v,b;if(a instanceof pt)v=a,b=a;else if(a instanceof wt){if(v=a._southWest,b=a._northEast,!v||!b)return this}else return a?this.extend(lt(a)||mt(a)):this;return!h&&!m?(this._southWest=new pt(v.lat,v.lng),this._northEast=new pt(b.lat,b.lng)):(h.lat=Math.min(v.lat,h.lat),h.lng=Math.min(v.lng,h.lng),m.lat=Math.max(b.lat,m.lat),m.lng=Math.max(b.lng,m.lng)),this},pad:function(a){var h=this._southWest,m=this._northEast,v=Math.abs(h.lat-m.lat)*a,b=Math.abs(h.lng-m.lng)*a;return new wt(new pt(h.lat-v,h.lng-b),new pt(m.lat+v,m.lng+b))},getCenter:function(){return new pt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pt(this.getNorth(),this.getWest())},getSouthEast:function(){return new pt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof pt||"lat"in a?a=lt(a):a=mt(a);var h=this._southWest,m=this._northEast,v,b;return a instanceof wt?(v=a.getSouthWest(),b=a.getNorthEast()):v=b=a,v.lat>=h.lat&&b.lat<=m.lat&&v.lng>=h.lng&&b.lng<=m.lng},intersects:function(a){a=mt(a);var h=this._southWest,m=this._northEast,v=a.getSouthWest(),b=a.getNorthEast(),E=b.lat>=h.lat&&v.lat<=m.lat,O=b.lng>=h.lng&&v.lng<=m.lng;return E&&O},overlaps:function(a){a=mt(a);var h=this._southWest,m=this._northEast,v=a.getSouthWest(),b=a.getNorthEast(),E=b.lat>h.lat&&v.lat<m.lat,O=b.lng>h.lng&&v.lng<m.lng;return E&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,h){return a?(a=mt(a),this._southWest.equals(a.getSouthWest(),h)&&this._northEast.equals(a.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function mt(a,h){return a instanceof wt?a:new wt(a,h)}function pt(a,h,m){if(isNaN(a)||isNaN(h))throw new Error("Invalid LatLng object: ("+a+", "+h+")");this.lat=+a,this.lng=+h,m!==void 0&&(this.alt=+m)}pt.prototype={equals:function(a,h){if(!a)return!1;a=lt(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(h===void 0?1e-9:h)},toString:function(a){return"LatLng("+w(this.lat,a)+", "+w(this.lng,a)+")"},distanceTo:function(a){return zt.distance(this,lt(a))},wrap:function(){return zt.wrapLatLng(this)},toBounds:function(a){var h=180*a/40075017,m=h/Math.cos(Math.PI/180*this.lat);return mt([this.lat-h,this.lng-m],[this.lat+h,this.lng+m])},clone:function(){return new pt(this.lat,this.lng,this.alt)}};function lt(a,h,m){return a instanceof pt?a:F(a)&&typeof a[0]!="object"?a.length===3?new pt(a[0],a[1],a[2]):a.length===2?new pt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new pt(a.lat,"lng"in a?a.lng:a.lon,a.alt):h===void 0?null:new pt(a,h,m)}var Zt={latLngToPoint:function(a,h){var m=this.projection.project(a),v=this.scale(h);return this.transformation._transform(m,v)},pointToLatLng:function(a,h){var m=this.scale(h),v=this.transformation.untransform(a,m);return this.projection.unproject(v)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var h=this.projection.bounds,m=this.scale(a),v=this.transformation.transform(h.min,m),b=this.transformation.transform(h.max,m);return new N(v,b)},infinite:!1,wrapLatLng:function(a){var h=this.wrapLng?g(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?g(a.lat,this.wrapLat,!0):a.lat,v=a.alt;return new pt(m,h,v)},wrapLatLngBounds:function(a){var h=a.getCenter(),m=this.wrapLatLng(h),v=h.lat-m.lat,b=h.lng-m.lng;if(v===0&&b===0)return a;var E=a.getSouthWest(),O=a.getNorthEast(),V=new pt(E.lat-v,E.lng-b),H=new pt(O.lat-v,O.lng-b);return new wt(V,H)}},zt=s({},Zt,{wrapLng:[-180,180],R:6371e3,distance:function(a,h){var m=Math.PI/180,v=a.lat*m,b=h.lat*m,E=Math.sin((h.lat-a.lat)*m/2),O=Math.sin((h.lng-a.lng)*m/2),V=E*E+Math.cos(v)*Math.cos(b)*O*O,H=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V));return this.R*H}}),ie=6378137,Ge={R:ie,MAX_LATITUDE:85.0511287798,project:function(a){var h=Math.PI/180,m=this.MAX_LATITUDE,v=Math.max(Math.min(m,a.lat),-m),b=Math.sin(v*h);return new K(this.R*a.lng*h,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(a){var h=180/Math.PI;return new pt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*h,a.x*h/this.R)},bounds:(function(){var a=ie*Math.PI;return new N([-a,-a],[a,a])})()};function Bs(a,h,m,v){if(F(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=h,this._c=m,this._d=v}Bs.prototype={transform:function(a,h){return this._transform(a.clone(),h)},_transform:function(a,h){return h=h||1,a.x=h*(this._a*a.x+this._b),a.y=h*(this._c*a.y+this._d),a},untransform:function(a,h){return h=h||1,new K((a.x/h-this._b)/this._a,(a.y/h-this._d)/this._c)}};function Vs(a,h,m,v){return new Bs(a,h,m,v)}var Ws=s({},zt,{code:"EPSG:3857",projection:Ge,transformation:(function(){var a=.5/(Math.PI*Ge.R);return Vs(a,.5,-a,.5)})()}),bl=s({},Ws,{code:"EPSG:900913"});function Tl(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Cl(a,h){var m="",v,b,E,O,V,H;for(v=0,E=a.length;v<E;v++){for(V=a[v],b=0,O=V.length;b<O;b++)H=V[b],m+=(b?"L":"M")+H.x+" "+H.y;m+=h?xt.svg?"z":"x":""}return m||"M0 0"}var Gr=document.documentElement.style,Kr="ActiveXObject"in window,Pl=Kr&&!document.addEventListener,js="msLaunchUri"in navigator&&!("documentMode"in document),Mi=Xe("webkit"),Xo=Xe("android"),kl=Xe("android 2")||Xe("android 3"),Uc=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Hc=Xo&&Xe("Google")&&Uc<537&&!("AudioNode"in window),Qo=!!window.opera,Jo=!js&&Xe("chrome"),$r=Xe("gecko")&&!Mi&&!Qo&&!Kr,Zc=!Jo&&Xe("safari"),Us=Xe("phantom"),Hs="OTransition"in Gr,ip=navigator.platform.indexOf("Win")===0,El=Kr&&"transition"in Gr,ta="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!kl,Gc="MozPerspective"in Gr,Il=!window.L_DISABLE_3D&&(El||ta||Gc)&&!Hs&&!Us,qi=typeof orientation<"u"||Xe("mobile"),Ml=qi&&Mi,Ll=qi&&ta,ea=!window.PointerEvent&&window.MSPointerEvent,Xi=!!(window.PointerEvent||ea),Qi="ontouchstart"in window||!!window.TouchEvent,Kc=!window.L_NO_TOUCH&&(Qi||Xi),$c=qi&&Qo,Yc=qi&&$r,qc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xc=(function(){var a=!1;try{var h=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",y,h),window.removeEventListener("testPassiveEventSupport",y,h)}catch{}return a})(),Al=(function(){return!!document.createElement("canvas").getContext})(),na=!!(document.createElementNS&&Tl("svg").createSVGRect),Yr=!!na&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Rl=!na&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var h=a.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}})(),qr=navigator.platform.indexOf("Mac")===0,sp=navigator.platform.indexOf("Linux")===0;function Xe(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var xt={ie:Kr,ielt9:Pl,edge:js,webkit:Mi,android:Xo,android23:kl,androidStock:Hc,opera:Qo,chrome:Jo,gecko:$r,safari:Zc,phantom:Us,opera12:Hs,win:ip,ie3d:El,webkit3d:ta,gecko3d:Gc,any3d:Il,mobile:qi,mobileWebkit:Ml,mobileWebkit3d:Ll,msPointer:ea,pointer:Xi,touch:Kc,touchNative:Qi,mobileOpera:$c,mobileGecko:Yc,retina:qc,passiveEvents:Xc,canvas:Al,svg:na,vml:Rl,inlineSvg:Yr,mac:qr,linux:sp},Xr=xt.msPointer?"MSPointerDown":"pointerdown",ia=xt.msPointer?"MSPointerMove":"pointermove",Qc=xt.msPointer?"MSPointerUp":"pointerup",Jc=xt.msPointer?"MSPointerCancel":"pointercancel",Ol={touchstart:Xr,touchmove:ia,touchend:Qc,touchcancel:Jc},Li={touchstart:_e,touchmove:sa,touchend:sa,touchcancel:sa},Ji={},Dl=!1;function rp(a,h,m){return h==="touchstart"&&op(),Li[h]?(m=Li[h].bind(this,m),a.addEventListener(Ol[h],m,!1),m):(console.warn("wrong event specified:",h),y)}function th(a,h,m){if(!Ol[h]){console.warn("wrong event specified:",h);return}a.removeEventListener(Ol[h],m,!1)}function eh(a){Ji[a.pointerId]=a}function nh(a){Ji[a.pointerId]&&(Ji[a.pointerId]=a)}function Nl(a){delete Ji[a.pointerId]}function op(){Dl||(document.addEventListener(Xr,eh,!0),document.addEventListener(ia,nh,!0),document.addEventListener(Qc,Nl,!0),document.addEventListener(Jc,Nl,!0),Dl=!0)}function sa(a,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var m in Ji)h.touches.push(Ji[m]);h.changedTouches=[h],a(h)}}function _e(a,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&ye(h),sa(a,h)}function ap(a){var h={},m,v;for(v in a)m=a[v],h[v]=m&&m.bind?m.bind(a):m;return a=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Fl=200;function ih(a,h){a.addEventListener("dblclick",h);var m=0,v;function b(E){if(E.detail!==1){v=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var O=ns(E);if(!(O.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!O.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var V=Date.now();V-m<=Fl?(v++,v===2&&h(ap(E))):v=1,m=V}}}return a.addEventListener("click",b),{dblclick:h,simDblclick:b}}function ra(a,h){a.removeEventListener("dblclick",h.dblclick),a.removeEventListener("click",h.simDblclick)}var zl=$s(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zs=$s(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qr=Zs==="webkitTransition"||Zs==="OTransition"?Zs+"End":"transitionend";function An(a){return typeof a=="string"?document.getElementById(a):a}function Jr(a,h){var m=a.style[h]||a.currentStyle&&a.currentStyle[h];if((!m||m==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(a,null);m=v?v[h]:null}return m==="auto"?null:m}function Ot(a,h,m){var v=document.createElement(a);return v.className=h||"",m&&m.appendChild(v),v}function ue(a){var h=a.parentNode;h&&h.removeChild(a)}function oa(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Gs(a){var h=a.parentNode;h&&h.lastChild!==a&&h.appendChild(a)}function ci(a){var h=a.parentNode;h&&h.firstChild!==a&&h.insertBefore(a,h.firstChild)}function Ks(a,h){if(a.classList!==void 0)return a.classList.contains(h);var m=aa(a);return m.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(m)}function At(a,h){if(a.classList!==void 0)for(var m=C(h),v=0,b=m.length;v<b;v++)a.classList.add(m[v]);else if(!Ks(a,h)){var E=aa(a);Bl(a,(E?E+" ":"")+h)}}function re(a,h){a.classList!==void 0?a.classList.remove(h):Bl(a,T((" "+aa(a)+" ").replace(" "+h+" "," ")))}function Bl(a,h){a.className.baseVal===void 0?a.className=h:a.className.baseVal=h}function aa(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Qe(a,h){"opacity"in a.style?a.style.opacity=h:"filter"in a.style&&sh(a,h)}function sh(a,h){var m=!1,v="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(v)}catch{if(h===1)return}h=Math.round(h*100),m?(m.Enabled=h!==100,m.Opacity=h):a.style.filter+=" progid:"+v+"(opacity="+h+")"}function $s(a){for(var h=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in h)return a[m];return!1}function Rn(a,h,m){var v=h||new K(0,0);a.style[zl]=(xt.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(m?" scale("+m+")":"")}function Se(a,h){a._leaflet_pos=h,xt.any3d?Rn(a,h):(a.style.left=h.x+"px",a.style.top=h.y+"px")}function hi(a){return a._leaflet_pos||new K(0,0)}var $t,Ys,la;if("onselectstart"in document)$t=function(){Et(window,"selectstart",ye)},Ys=function(){ee(window,"selectstart",ye)};else{var ts=$s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$t=function(){if(ts){var a=document.documentElement.style;la=a[ts],a[ts]="none"}},Ys=function(){ts&&(document.documentElement.style[ts]=la,la=void 0)}}function ua(){Et(window,"dragstart",ye)}function ca(){ee(window,"dragstart",ye)}var to,eo;function qs(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(On(),to=a,eo=a.style.outlineStyle,a.style.outlineStyle="none",Et(window,"keydown",On))}function On(){to&&(to.style.outlineStyle=eo,to=void 0,eo=void 0,ee(window,"keydown",On))}function di(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Kn(a){var h=a.getBoundingClientRect();return{x:h.width/a.offsetWidth||1,y:h.height/a.offsetHeight||1,boundingClientRect:h}}var no={__proto__:null,TRANSFORM:zl,TRANSITION:Zs,TRANSITION_END:Qr,get:An,getStyle:Jr,create:Ot,remove:ue,empty:oa,toFront:Gs,toBack:ci,hasClass:Ks,addClass:At,removeClass:re,setClass:Bl,getClass:aa,setOpacity:Qe,testProp:$s,setTransform:Rn,setPosition:Se,getPosition:hi,get disableTextSelection(){return $t},get enableTextSelection(){return Ys},disableImageDrag:ua,enableImageDrag:ca,preventOutline:qs,restoreOutline:On,getSizedParentNode:di,getScale:Kn};function Et(a,h,m,v){if(h&&typeof h=="object")for(var b in h)Wl(a,b,h[b],m);else{h=C(h);for(var E=0,O=h.length;E<O;E++)Wl(a,h[E],m,v)}return this}var Re="_leaflet_events";function ee(a,h,m,v){if(arguments.length===1)Vl(a),delete a[Re];else if(h&&typeof h=="object")for(var b in h)ha(a,b,h[b],m);else if(h=C(h),arguments.length===2)Vl(a,function(V){return j(h,V)!==-1});else for(var E=0,O=h.length;E<O;E++)ha(a,h[E],m,v);return this}function Vl(a,h){for(var m in a[Re]){var v=m.split(/\d/)[0];(!h||h(v))&&ha(a,v,null,null,m)}}var es={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Wl(a,h,m,v){var b=h+d(m)+(v?"_"+d(v):"");if(a[Re]&&a[Re][b])return this;var E=function(V){return m.call(v||a,V||window.event)},O=E;!xt.touchNative&&xt.pointer&&h.indexOf("touch")===0?E=rp(a,h,E):xt.touch&&h==="dblclick"?E=ih(a,E):"addEventListener"in a?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?a.addEventListener(es[h]||h,E,xt.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(E=function(V){V=V||window.event,ro(a,V)&&O(V)},a.addEventListener(es[h],E,!1)):a.addEventListener(h,O,!1):a.attachEvent("on"+h,E),a[Re]=a[Re]||{},a[Re][b]=E}function ha(a,h,m,v,b){b=b||h+d(m)+(v?"_"+d(v):"");var E=a[Re]&&a[Re][b];if(!E)return this;!xt.touchNative&&xt.pointer&&h.indexOf("touch")===0?th(a,h,E):xt.touch&&h==="dblclick"?ra(a,E):"removeEventListener"in a?a.removeEventListener(es[h]||h,E,!1):a.detachEvent("on"+h,E),a[Re][b]=null}function $n(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function da(a){return Wl(a,"wheel",$n),this}function io(a){return Et(a,"mousedown touchstart dblclick contextmenu",$n),a._leaflet_disable_click=!0,this}function ye(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Dn(a){return ye(a),$n(a),this}function ns(a){if(a.composedPath)return a.composedPath();for(var h=[],m=a.target;m;)h.push(m),m=m.parentNode;return h}function so(a,h){if(!h)return new K(a.clientX,a.clientY);var m=Kn(h),v=m.boundingClientRect;return new K((a.clientX-v.left)/m.x-h.clientLeft,(a.clientY-v.top)/m.y-h.clientTop)}var lp=xt.linux&&xt.chrome?window.devicePixelRatio:xt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function rh(a){return xt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/lp:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function ro(a,h){var m=h.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var fa={__proto__:null,on:Et,off:ee,stopPropagation:$n,disableScrollPropagation:da,disableClickPropagation:io,preventDefault:ye,stop:Dn,getPropagationPath:ns,getMousePosition:so,getWheelDelta:rh,isExternalTarget:ro,addListener:Et,removeListener:ee},pa=ft.extend({run:function(a,h,m,v){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=hi(a),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ct(this._animate,this),this._step()},_step:function(a){var h=+new Date-this._startTime,m=this._duration*1e3;h<m?this._runFrame(this._easeOut(h/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,h){var m=this._startPos.add(this._offset.multiplyBy(a));h&&m._round(),Se(this._el,m),this.fire("step")},_complete:function(){vt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Wt=ft.extend({options:{crs:Ws,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,h){h=k(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(lt(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zs&&xt.any3d&&!xt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Et(this._proxy,Qr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,h,m){if(h=h===void 0?this._zoom:this._limitZoom(h),a=this._limitCenter(lt(a),h,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=s({animate:m.animate},m.zoom),m.pan=s({animate:m.animate,duration:m.duration},m.pan));var v=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,h,m.zoom):this._tryAnimatedPan(a,m.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(a,h,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,h){return this._loaded?this.setView(this.getCenter(),a,{zoom:h}):(this._zoom=a,this)},zoomIn:function(a,h){return a=a||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,h)},zoomOut:function(a,h){return a=a||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,h)},setZoomAround:function(a,h,m){var v=this.getZoomScale(h),b=this.getSize().divideBy(2),E=a instanceof K?a:this.latLngToContainerPoint(a),O=E.subtract(b).multiplyBy(1-1/v),V=this.containerPointToLatLng(b.add(O));return this.setView(V,h,{zoom:m})},_getBoundsCenterZoom:function(a,h){h=h||{},a=a.getBounds?a.getBounds():mt(a);var m=q(h.paddingTopLeft||h.padding||[0,0]),v=q(h.paddingBottomRight||h.padding||[0,0]),b=this.getBoundsZoom(a,!1,m.add(v));if(b=typeof h.maxZoom=="number"?Math.min(h.maxZoom,b):b,b===1/0)return{center:a.getCenter(),zoom:b};var E=v.subtract(m).divideBy(2),O=this.project(a.getSouthWest(),b),V=this.project(a.getNorthEast(),b),H=this.unproject(O.add(V).divideBy(2).add(E),b);return{center:H,zoom:b}},fitBounds:function(a,h){if(a=mt(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,h);return this.setView(m.center,m.zoom,h)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,h){return this.setView(a,this._zoom,{pan:h})},panBy:function(a,h){if(a=q(a).round(),h=h||{},!a.x&&!a.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new pa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){At(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,h.duration||.25,h.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,h,m){if(m=m||{},m.animate===!1||!xt.any3d)return this.setView(a,h,m);this._stop();var v=this.project(this.getCenter()),b=this.project(a),E=this.getSize(),O=this._zoom;a=lt(a),h=h===void 0?O:h;var V=Math.max(E.x,E.y),H=V*this.getZoomScale(O,h),tt=b.distanceTo(v)||1,ut=1.42,Tt=ut*ut;function Nt(Jt){var hr=Jt?-1:1,Sp=Jt?H:V,bp=H*H-V*V+hr*Tt*Tt*tt*tt,us=2*Sp*Tt*tt,cs=bp/us,hs=Math.sqrt(cs*cs+1)-cs,Ea=hs<1e-9?-18:Math.log(hs);return Ea}function Oe(Jt){return(Math.exp(Jt)-Math.exp(-Jt))/2}function Me(Jt){return(Math.exp(Jt)+Math.exp(-Jt))/2}function pn(Jt){return Oe(Jt)/Me(Jt)}var tn=Nt(0);function ur(Jt){return V*(Me(tn)/Me(tn+ut*Jt))}function lu(Jt){return V*(Me(tn)*pn(tn+ut*Jt)-Oe(tn))/Tt}function Bi(Jt){return 1-Math.pow(1-Jt,1.5)}var Ph=Date.now(),ls=(Nt(1)-tn)/ut,Qn=m.duration?1e3*m.duration:1e3*ls*.8;function cr(){var Jt=(Date.now()-Ph)/Qn,hr=Bi(Jt)*ls;Jt<=1?(this._flyToFrame=ct(cr,this),this._move(this.unproject(v.add(b.subtract(v).multiplyBy(lu(hr)/tt)),O),this.getScaleZoom(V/ur(hr),O),{flyTo:!0})):this._move(a,h)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),cr.call(this),this},flyToBounds:function(a,h){var m=this._getBoundsCenterZoom(a,h);return this.flyTo(m.center,m.zoom,h)},setMaxBounds:function(a){return a=mt(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var h=this.options.minZoom;return this.options.minZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var h=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&h!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,h){this._enforcingBounds=!0;var m=this.getCenter(),v=this._limitCenter(m,this._zoom,mt(a));return m.equals(v)||this.panTo(v,h),this._enforcingBounds=!1,this},panInside:function(a,h){h=h||{};var m=q(h.paddingTopLeft||h.padding||[0,0]),v=q(h.paddingBottomRight||h.padding||[0,0]),b=this.project(this.getCenter()),E=this.project(a),O=this.getPixelBounds(),V=X([O.min.add(m),O.max.subtract(v)]),H=V.getSize();if(!V.contains(E)){this._enforcingBounds=!0;var tt=E.subtract(V.getCenter()),ut=V.extend(E).getSize().subtract(H);b.x+=tt.x<0?-ut.x:ut.x,b.y+=tt.y<0?-ut.y:ut.y,this.panTo(this.unproject(b),h),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=s({animate:!1,pan:!0},a===!0?{animate:!0}:a);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),v=h.divideBy(2).round(),b=m.divideBy(2).round(),E=v.subtract(b);return!E.x&&!E.y?this:(a.animate&&a.pan?this.panBy(E):(a.pan&&this._rawPanBy(E),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=s({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=l(this._handleGeolocationResponse,this),m=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,m,a):navigator.geolocation.getCurrentPosition(h,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var h=a.code,m=a.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var h=a.coords.latitude,m=a.coords.longitude,v=new pt(h,m),b=v.toBounds(a.coords.accuracy*2),E=this._locateOptions;if(E.setView){var O=this.getBoundsZoom(b);this.setView(v,E.maxZoom?Math.min(O,E.maxZoom):O)}var V={latlng:v,bounds:b,timestamp:a.timestamp};for(var H in a.coords)typeof a.coords[H]=="number"&&(V[H]=a.coords[H]);this.fire("locationfound",V)}},addHandler:function(a,h){if(!h)return this;var m=this[a]=new h(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ue(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(vt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ue(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,h){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),v=Ot("div",m,h||this._mapPane);return a&&(this._panes[a]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),h=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new wt(h,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,h,m){a=mt(a),m=q(m||[0,0]);var v=this.getZoom()||0,b=this.getMinZoom(),E=this.getMaxZoom(),O=a.getNorthWest(),V=a.getSouthEast(),H=this.getSize().subtract(m),tt=X(this.project(V,v),this.project(O,v)).getSize(),ut=xt.any3d?this.options.zoomSnap:1,Tt=H.x/tt.x,Nt=H.y/tt.y,Oe=h?Math.max(Tt,Nt):Math.min(Tt,Nt);return v=this.getScaleZoom(Oe,v),ut&&(v=Math.round(v/(ut/100))*(ut/100),v=h?Math.ceil(v/ut)*ut:Math.floor(v/ut)*ut),Math.max(b,Math.min(E,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,h){var m=this._getTopLeftPoint(a,h);return new N(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,h){var m=this.options.crs;return h=h===void 0?this._zoom:h,m.scale(a)/m.scale(h)},getScaleZoom:function(a,h){var m=this.options.crs;h=h===void 0?this._zoom:h;var v=m.zoom(a*m.scale(h));return isNaN(v)?1/0:v},project:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(lt(a),h)},unproject:function(a,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(q(a),h)},layerPointToLatLng:function(a){var h=q(a).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(a){var h=this.project(lt(a))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(lt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(mt(a))},distance:function(a,h){return this.options.crs.distance(lt(a),lt(h))},containerPointToLayerPoint:function(a){return q(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return q(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var h=this.containerPointToLayerPoint(q(a));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(lt(a)))},mouseEventToContainerPoint:function(a){return so(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var h=this._container=An(a);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Et(h,"scroll",this._onScroll,this),this._containerId=d(h)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&xt.any3d,At(a,"leaflet-container"+(xt.touch?" leaflet-touch":"")+(xt.retina?" leaflet-retina":"")+(xt.ielt9?" leaflet-oldie":"")+(xt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Jr(a,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Se(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(At(a.markerPane,"leaflet-zoom-hide"),At(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,h,m){Se(this._mapPane,new K(0,0));var v=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var b=this._zoom!==h;this._moveStart(b,m)._move(a,h)._moveEnd(b),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(a,h){return a&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(a,h,m,v){h===void 0&&(h=this._zoom);var b=this._zoom!==h;return this._zoom=h,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),v?m&&m.pinch&&this.fire("zoom",m):((b||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return vt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Se(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[d(this._container)]=this;var h=a?ee:Et;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),xt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){vt(this._resizeRequest),this._resizeRequest=ct(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,h){for(var m=[],v,b=h==="mouseout"||h==="mouseover",E=a.target||a.srcElement,O=!1;E;){if(v=this._targets[d(E)],v&&(h==="click"||h==="preclick")&&this._draggableMoved(v)){O=!0;break}if(v&&v.listens(h,!0)&&(b&&!ro(E,a)||(m.push(v),b))||E===this._container)break;E=E.parentNode}return!m.length&&!O&&!b&&this.listens(h,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var h=a.target||a.srcElement;if(!(!this._loaded||h._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(h))){var m=a.type;m==="mousedown"&&qs(h),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,h,m){if(a.type==="click"){var v=s({},a);v.type="preclick",this._fireDOMEvent(v,v.type,m)}var b=this._findEventTargets(a,h);if(m){for(var E=[],O=0;O<m.length;O++)m[O].listens(h,!0)&&E.push(m[O]);b=E.concat(b)}if(b.length){h==="contextmenu"&&ye(a);var V=b[0],H={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var tt=V.getLatLng&&(!V._radius||V._radius<=10);H.containerPoint=tt?this.latLngToContainerPoint(V.getLatLng()):this.mouseEventToContainerPoint(a),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=tt?V.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(O=0;O<b.length;O++)if(b[O].fire(h,H,!0),H.originalEvent._stopped||b[O].options.bubblingMouseEvents===!1&&j(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,h=this._handlers.length;a<h;a++)this._handlers[a].disable()},whenReady:function(a,h){return this._loaded?a.call(h||this,{target:this}):this.on("load",a,h),this},_getMapPanePos:function(){return hi(this._mapPane)||new K(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,h){var m=a&&h!==void 0?this._getNewPixelOrigin(a,h):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,h){var m=this.getSize()._divideBy(2);return this.project(a,h)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,h,m){var v=this._getNewPixelOrigin(m,h);return this.project(a,h)._subtract(v)},_latLngBoundsToNewLayerBounds:function(a,h,m){var v=this._getNewPixelOrigin(m,h);return X([this.project(a.getSouthWest(),h)._subtract(v),this.project(a.getNorthWest(),h)._subtract(v),this.project(a.getSouthEast(),h)._subtract(v),this.project(a.getNorthEast(),h)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,h,m){if(!m)return a;var v=this.project(a,h),b=this.getSize().divideBy(2),E=new N(v.subtract(b),v.add(b)),O=this._getBoundsOffset(E,m,h);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?a:this.unproject(v.add(O),h)},_limitOffset:function(a,h){if(!h)return a;var m=this.getPixelBounds(),v=new N(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(v,h))},_getBoundsOffset:function(a,h,m){var v=X(this.project(h.getNorthEast(),m),this.project(h.getSouthWest(),m)),b=v.min.subtract(a.min),E=v.max.subtract(a.max),O=this._rebound(b.x,-E.x),V=this._rebound(b.y,-E.y);return new K(O,V)},_rebound:function(a,h){return a+h>0?Math.round(a-h)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(h))},_limitZoom:function(a){var h=this.getMinZoom(),m=this.getMaxZoom(),v=xt.any3d?this.options.zoomSnap:1;return v&&(a=Math.round(a/v)*v),Math.max(h,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){re(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,h){var m=this._getCenterOffset(a)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,h),!0)},_createAnimProxy:function(){var a=this._proxy=Ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(h){var m=zl,v=this._proxy.style[m];Rn(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),v===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ue(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),h=this.getZoom();Rn(this._proxy,this.project(a,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,h,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(h),b=this._getCenterOffset(a)._divideBy(1-1/v);return m.animate!==!0&&!this.getSize().contains(b)?!1:(ct(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,h,!0)},this),!0)},_animateZoom:function(a,h,m,v){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=h,At(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:h,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&re(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ai(a,h){return new Wt(a,h)}var dn=Ft.extend({options:{position:"topright"},initialize:function(a){k(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var h=this._map;return h&&h.removeControl(this),this.options.position=a,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var h=this._container=this.onAdd(a),m=this.getPosition(),v=a._controlCorners[m];return At(h,"leaflet-control"),m.indexOf("bottom")!==-1?v.insertBefore(h,v.firstChild):v.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ue(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Ri=function(a){return new dn(a)};Wt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},h="leaflet-",m=this._controlContainer=Ot("div",h+"control-container",this._container);function v(b,E){var O=h+b+" "+h+E;a[b+E]=Ot("div",O,m)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ue(this._controlCorners[a]);ue(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var jl=dn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,h,m,v){return m<v?-1:v<m?1:0}},initialize:function(a,h,m){k(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in a)this._addLayer(a[v],v);for(v in h)this._addLayer(h[v],v,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return dn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,h){return this._addLayer(a,h),this._map?this._update():this},addOverlay:function(a,h){return this._addLayer(a,h,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var h=this._getLayer(d(a));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){At(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(At(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):re(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return re(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",h=this._container=Ot("div",a),m=this.options.collapsed;h.setAttribute("aria-haspopup",!0),io(h),da(h);var v=this._section=Ot("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Et(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Ot("a",a+"-toggle",h);b.href="#",b.title="Layers",b.setAttribute("role","button"),Et(b,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){ye(E),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Ot("div",a+"-base",v),this._separator=Ot("div",a+"-separator",v),this._overlaysList=Ot("div",a+"-overlays",v),h.appendChild(v)},_getLayer:function(a){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&d(this._layers[h].layer)===a)return this._layers[h]},_addLayer:function(a,h,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:h,overlay:m}),this.options.sortLayers&&this._layers.sort(l(function(v,b){return this.options.sortFunction(v.layer,b.layer,v.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;oa(this._baseLayersList),oa(this._overlaysList),this._layerControlInputs=[];var a,h,m,v,b=0;for(m=0;m<this._layers.length;m++)v=this._layers[m],this._addItem(v),h=h||v.overlay,a=a||!v.overlay,b+=v.overlay?0:1;return this.options.hideSingleBase&&(a=a&&b>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=h&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var h=this._getLayer(d(a.target)),m=h.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,h)},_createRadioElement:function(a,h){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(h?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=m,v.firstChild},_addItem:function(a){var h=document.createElement("label"),m=this._map.hasLayer(a.layer),v;a.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=m):v=this._createRadioElement("leaflet-base-layers_"+d(this),m),this._layerControlInputs.push(v),v.layerId=d(a.layer),Et(v,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+a.name;var E=document.createElement("span");h.appendChild(E),E.appendChild(v),E.appendChild(b);var O=a.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,h,m,v=[],b=[];this._handlingClick=!0;for(var E=a.length-1;E>=0;E--)h=a[E],m=this._getLayer(h.layerId).layer,h.checked?v.push(m):h.checked||b.push(m);for(E=0;E<b.length;E++)this._map.hasLayer(b[E])&&this._map.removeLayer(b[E]);for(E=0;E<v.length;E++)this._map.hasLayer(v[E])||this._map.addLayer(v[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,h,m,v=this._map.getZoom(),b=a.length-1;b>=0;b--)h=a[b],m=this._getLayer(h.layerId).layer,h.disabled=m.options.minZoom!==void 0&&v<m.options.minZoom||m.options.maxZoom!==void 0&&v>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Et(a,"click",ye),this.expand();var h=this;setTimeout(function(){ee(a,"click",ye),h._preventClick=!1})}}),ma=function(a,h,m){return new jl(a,h,m)},Xs=dn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var h="leaflet-control-zoom",m=Ot("div",h+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,h+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,h+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,h,m,v,b){var E=Ot("a",m,v);return E.innerHTML=a,E.href="#",E.title=h,E.setAttribute("role","button"),E.setAttribute("aria-label",h),io(E),Et(E,"click",Dn),Et(E,"click",b,this),Et(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var a=this._map,h="leaflet-disabled";re(this._zoomInButton,h),re(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(At(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(At(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Wt.mergeOptions({zoomControl:!0}),Wt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xs,this.addControl(this.zoomControl))});var oh=function(a){return new Xs(a)},Je=dn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var h="leaflet-control-scale",m=Ot("div",h),v=this.options;return this._addScales(v,h+"-line",m),a.on(v.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,h,m){a.metric&&(this._mScale=Ot("div",h,m)),a.imperial&&(this._iScale=Ot("div",h,m))},_update:function(){var a=this._map,h=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,h]),a.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var h=this._getRoundNum(a),m=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,m,h/a)},_updateImperial:function(a){var h=a*3.2808399,m,v,b;h>5280?(m=h/5280,v=this._getRoundNum(m),this._updateScale(this._iScale,v+" mi",v/m)):(b=this._getRoundNum(h),this._updateScale(this._iScale,b+" ft",b/h))},_updateScale:function(a,h,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=h},_getRoundNum:function(a){var h=Math.pow(10,(Math.floor(a)+"").length-1),m=a/h;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,h*m}}),Qs=function(a){return new Je(a)},Ul='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',is=dn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xt.inlineSvg?Ul+" ":"")+"Leaflet</a>"},initialize:function(a){k(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Ot("div","leaflet-control-attribution"),io(this._container);for(var h in a._layers)a._layers[h].getAttribution&&this.addAttribution(a._layers[h].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var h in this._attributions)this._attributions[h]&&a.push(h);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Wt.mergeOptions({attributionControl:!0}),Wt.addInitHook(function(){this.options.attributionControl&&new is().addTo(this)});var up=function(a){return new is(a)};dn.Layers=jl,dn.Zoom=Xs,dn.Scale=Je,dn.Attribution=is,Ri.layers=ma,Ri.zoom=oh,Ri.scale=Qs,Ri.attribution=up;var vn=Ft.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});vn.addTo=function(a,h){return a.addHandler(h,this),this};var Hl={Events:bt},Js=xt.touch?"touchstart mousedown":"mousedown",Nn=ft.extend({options:{clickTolerance:3},initialize:function(a,h,m,v){k(this,v),this._element=a,this._dragStartTarget=h||a,this._preventOutline=m},enable:function(){this._enabled||(Et(this._dragStartTarget,Js,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Nn._dragging===this&&this.finishDrag(!0),ee(this._dragStartTarget,Js,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Ks(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Nn._dragging===this&&this.finishDrag();return}if(!(Nn._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Nn._dragging=this,this._preventOutline&&qs(this._element),ua(),$t(),!this._moving)){this.fire("down");var h=a.touches?a.touches[0]:a,m=di(this._element);this._startPoint=new K(h.clientX,h.clientY),this._startPos=hi(this._element),this._parentScale=Kn(m);var v=a.type==="mousedown";Et(document,v?"mousemove":"touchmove",this._onMove,this),Et(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var h=a.touches&&a.touches.length===1?a.touches[0]:a,m=new K(h.clientX,h.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,ye(a),this._moved||(this.fire("dragstart"),this._moved=!0,At(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),At(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Se(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){re(document.body,"leaflet-dragging"),this._lastTarget&&(re(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ee(document,"mousemove touchmove",this._onMove,this),ee(document,"mouseup touchend touchcancel",this._onUp,this),ca(),Ys();var h=this._moved&&this._moving;this._moving=!1,Nn._dragging=!1,h&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Zl(a,h,m){var v,b=[1,4,2,8],E,O,V,H,tt,ut,Tt,Nt;for(E=0,ut=a.length;E<ut;E++)a[E]._code=ss(a[E],h);for(V=0;V<4;V++){for(Tt=b[V],v=[],E=0,ut=a.length,O=ut-1;E<ut;O=E++)H=a[E],tt=a[O],H._code&Tt?tt._code&Tt||(Nt=_a(tt,H,Tt,h,m),Nt._code=ss(Nt,h),v.push(Nt)):(tt._code&Tt&&(Nt=_a(tt,H,Tt,h,m),Nt._code=ss(Nt,h),v.push(Nt)),v.push(H));a=v}return a}function ah(a,h){var m,v,b,E,O,V,H,tt,ut;if(!a||a.length===0)throw new Error("latlngs not passed");xn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Tt=lt([0,0]),Nt=mt(a),Oe=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Oe<1700&&(Tt=Gl(a));var Me=a.length,pn=[];for(m=0;m<Me;m++){var tn=lt(a[m]);pn.push(h.project(lt([tn.lat-Tt.lat,tn.lng-Tt.lng])))}for(V=H=tt=0,m=0,v=Me-1;m<Me;v=m++)b=pn[m],E=pn[v],O=b.y*E.x-E.y*b.x,H+=(b.x+E.x)*O,tt+=(b.y+E.y)*O,V+=O*3;V===0?ut=pn[0]:ut=[H/V,tt/V];var ur=h.unproject(q(ut));return lt([ur.lat+Tt.lat,ur.lng+Tt.lng])}function Gl(a){for(var h=0,m=0,v=0,b=0;b<a.length;b++){var E=lt(a[b]);h+=E.lat,m+=E.lng,v++}return lt([h/v,m/v])}var cp={__proto__:null,clipPolygon:Zl,polygonCenter:ah,centroid:Gl};function ga(a,h){if(!h||!a.length)return a.slice();var m=h*h;return a=fp(a,m),a=dp(a,m),a}function lh(a,h,m){return Math.sqrt(rs(a,h,m,!0))}function hp(a,h,m){return rs(a,h,m)}function dp(a,h){var m=a.length,v=typeof Uint8Array<"u"?Uint8Array:Array,b=new v(m);b[0]=b[m-1]=1,Kl(a,b,h,0,m-1);var E,O=[];for(E=0;E<m;E++)b[E]&&O.push(a[E]);return O}function Kl(a,h,m,v,b){var E=0,O,V,H;for(V=v+1;V<=b-1;V++)H=rs(a[V],a[v],a[b],!0),H>E&&(O=V,E=H);E>m&&(h[O]=1,Kl(a,h,m,v,O),Kl(a,h,m,O,b))}function fp(a,h){for(var m=[a[0]],v=1,b=0,E=a.length;v<E;v++)pp(a[v],a[b])>h&&(m.push(a[v]),b=v);return b<E-1&&m.push(a[E-1]),m}var $l;function uh(a,h,m,v,b){var E=v?$l:ss(a,m),O=ss(h,m),V,H,tt;for($l=O;;){if(!(E|O))return[a,h];if(E&O)return!1;V=E||O,H=_a(a,h,V,m,b),tt=ss(H,m),V===E?(a=H,E=tt):(h=H,O=tt)}}function _a(a,h,m,v,b){var E=h.x-a.x,O=h.y-a.y,V=v.min,H=v.max,tt,ut;return m&8?(tt=a.x+E*(H.y-a.y)/O,ut=H.y):m&4?(tt=a.x+E*(V.y-a.y)/O,ut=V.y):m&2?(tt=H.x,ut=a.y+O*(H.x-a.x)/E):m&1&&(tt=V.x,ut=a.y+O*(V.x-a.x)/E),new K(tt,ut,b)}function ss(a,h){var m=0;return a.x<h.min.x?m|=1:a.x>h.max.x&&(m|=2),a.y<h.min.y?m|=4:a.y>h.max.y&&(m|=8),m}function pp(a,h){var m=h.x-a.x,v=h.y-a.y;return m*m+v*v}function rs(a,h,m,v){var b=h.x,E=h.y,O=m.x-b,V=m.y-E,H=O*O+V*V,tt;return H>0&&(tt=((a.x-b)*O+(a.y-E)*V)/H,tt>1?(b=m.x,E=m.y):tt>0&&(b+=O*tt,E+=V*tt)),O=a.x-b,V=a.y-E,v?O*O+V*V:new K(b,E)}function xn(a){return!F(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function ch(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),xn(a)}function hh(a,h){var m,v,b,E,O,V,H,tt;if(!a||a.length===0)throw new Error("latlngs not passed");xn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ut=lt([0,0]),Tt=mt(a),Nt=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());Nt<1700&&(ut=Gl(a));var Oe=a.length,Me=[];for(m=0;m<Oe;m++){var pn=lt(a[m]);Me.push(h.project(lt([pn.lat-ut.lat,pn.lng-ut.lng])))}for(m=0,v=0;m<Oe-1;m++)v+=Me[m].distanceTo(Me[m+1])/2;if(v===0)tt=Me[0];else for(m=0,E=0;m<Oe-1;m++)if(O=Me[m],V=Me[m+1],b=O.distanceTo(V),E+=b,E>v){H=(E-v)/b,tt=[V.x-H*(V.x-O.x),V.y-H*(V.y-O.y)];break}var tn=h.unproject(q(tt));return lt([tn.lat+ut.lat,tn.lng+ut.lng])}var dh={__proto__:null,simplify:ga,pointToSegmentDistance:lh,closestPointOnSegment:hp,clipSegment:uh,_getEdgeIntersection:_a,_getBitCode:ss,_sqClosestPointOnSegment:rs,isFlat:xn,_flat:ch,polylineCenter:hh},Yl={project:function(a){return new K(a.lng,a.lat)},unproject:function(a){return new pt(a.y,a.x)},bounds:new N([-180,-90],[180,90])},ql={R:6378137,R_MINOR:6356752314245179e-9,bounds:new N([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var h=Math.PI/180,m=this.R,v=a.lat*h,b=this.R_MINOR/m,E=Math.sqrt(1-b*b),O=E*Math.sin(v),V=Math.tan(Math.PI/4-v/2)/Math.pow((1-O)/(1+O),E/2);return v=-m*Math.log(Math.max(V,1e-10)),new K(a.lng*h*m,v)},unproject:function(a){for(var h=180/Math.PI,m=this.R,v=this.R_MINOR/m,b=Math.sqrt(1-v*v),E=Math.exp(-a.y/m),O=Math.PI/2-2*Math.atan(E),V=0,H=.1,tt;V<15&&Math.abs(H)>1e-7;V++)tt=b*Math.sin(O),tt=Math.pow((1-tt)/(1+tt),b/2),H=Math.PI/2-2*Math.atan(E*tt)-O,O+=H;return new pt(O*h,a.x*h/m)}},mp={__proto__:null,LonLat:Yl,Mercator:ql,SphericalMercator:Ge},gp=s({},zt,{code:"EPSG:3395",projection:ql,transformation:(function(){var a=.5/(Math.PI*ql.R);return Vs(a,.5,-a,.5)})()}),fh=s({},zt,{code:"EPSG:4326",projection:Yl,transformation:Vs(1/180,1,-1/180,.5)}),_p=s({},Zt,{projection:Yl,transformation:Vs(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,h){var m=h.lng-a.lng,v=h.lat-a.lat;return Math.sqrt(m*m+v*v)},infinite:!0});Zt.Earth=zt,Zt.EPSG3395=gp,Zt.EPSG3857=Ws,Zt.EPSG900913=bl,Zt.EPSG4326=fh,Zt.Simple=_p;var Fn=ft.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[d(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[d(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var h=a.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var m=this.getEvents();h.on(m,this),this.once("remove",function(){h.off(m,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Wt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var h=d(a);return this._layers[h]?this:(this._layers[h]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var h=d(a);return this._layers[h]?(this._loaded&&a.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return d(a)in this._layers},eachLayer:function(a,h){for(var m in this._layers)a.call(h,this._layers[m]);return this},_addLayers:function(a){a=a?F(a)?a:[a]:[];for(var h=0,m=a.length;h<m;h++)this.addLayer(a[h])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[d(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var h=d(a);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,h=-1/0,m=this._getZoomSpan();for(var v in this._zoomBoundLayers){var b=this._zoomBoundLayers[v].options;a=b.minZoom===void 0?a:Math.min(a,b.minZoom),h=b.maxZoom===void 0?h:Math.max(h,b.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Oi=Fn.extend({initialize:function(a,h){k(this,h),this._layers={};var m,v;if(a)for(m=0,v=a.length;m<v;m++)this.addLayer(a[m])},addLayer:function(a){var h=this.getLayerId(a);return this._layers[h]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var h=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(a){var h=typeof a=="number"?a:this.getLayerId(a);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var h=Array.prototype.slice.call(arguments,1),m,v;for(m in this._layers)v=this._layers[m],v[a]&&v[a].apply(v,h);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,h){for(var m in this._layers)a.call(h,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return d(a)}}),oo=function(a,h){return new Oi(a,h)},fi=Oi.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Oi.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Oi.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new wt;for(var h in this._layers){var m=this._layers[h];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),ph=function(a,h){return new fi(a,h)},os=Ft.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){k(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,h){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(m,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(v,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(a,h){var m=this.options,v=m[h+"Size"];typeof v=="number"&&(v=[v,v]);var b=q(v),E=q(h==="shadow"&&m.shadowAnchor||m.iconAnchor||b&&b.divideBy(2,!0));a.className="leaflet-marker-"+h+" "+(m.className||""),E&&(a.style.marginLeft=-E.x+"px",a.style.marginTop=-E.y+"px"),b&&(a.style.width=b.x+"px",a.style.height=b.y+"px")},_createImg:function(a,h){return h=h||document.createElement("img"),h.src=a,h},_getIconUrl:function(a){return xt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function mh(a){return new os(a)}var tr=os.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof tr.imagePath!="string"&&(tr.imagePath=this._detectIconPath()),(this.options.imagePath||tr.imagePath)+os.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var h=function(m,v,b){var E=v.exec(m);return E&&E[b]};return a=h(a,/^url\((['"])?(.+)\1\)$/,2),a&&h(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Ot("div","leaflet-default-icon-path",document.body),h=Jr(a,"background-image")||Jr(a,"backgroundImage");if(document.body.removeChild(a),h=this._stripUrl(h),h)return h;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Xl=vn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Nn(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),At(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&re(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var h=this._marker,m=h._map,v=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,E=hi(h._icon),O=m.getPixelBounds(),V=m.getPixelOrigin(),H=X(O.min._subtract(V).add(b),O.max._subtract(V).subtract(b));if(!H.contains(E)){var tt=q((Math.max(H.max.x,E.x)-H.max.x)/(O.max.x-H.max.x)-(Math.min(H.min.x,E.x)-H.min.x)/(O.min.x-H.min.x),(Math.max(H.max.y,E.y)-H.max.y)/(O.max.y-H.max.y)-(Math.min(H.min.y,E.y)-H.min.y)/(O.min.y-H.min.y)).multiplyBy(v);m.panBy(tt,{animate:!1}),this._draggable._newPos._add(tt),this._draggable._startPos._add(tt),Se(h._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=ct(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(vt(this._panRequest),this._panRequest=ct(this._adjustPan.bind(this,a)))},_onDrag:function(a){var h=this._marker,m=h._shadow,v=hi(h._icon),b=h._map.layerPointToLatLng(v);m&&Se(m,v),h._latlng=b,a.latlng=b,a.oldLatLng=this._oldLatLng,h.fire("move",a).fire("drag",a)},_onDragEnd:function(a){vt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),pi=Fn.extend({options:{icon:new tr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,h){k(this,h),this._latlng=lt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var h=this._latlng;return this._latlng=lt(a),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),v=!1;m!==this._icon&&(this._icon&&this._removeIcon(),v=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),At(m,h),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Et(m,"focus",this._panOnFocus,this);var b=a.icon.createShadow(this._shadow),E=!1;b!==this._shadow&&(this._removeShadow(),E=!0),b&&(At(b,h),b.alt=""),this._shadow=b,a.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&E&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(this._icon,"focus",this._panOnFocus,this),ue(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ue(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Se(this._icon,a),this._shadow&&Se(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(At(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xl)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xl(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Qe(this._icon,a),this._shadow&&Qe(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var h=this.options.icon.options,m=h.iconSize?q(h.iconSize):q(0,0),v=h.iconAnchor?q(h.iconAnchor):q(0,0);a.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:m.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yp(a,h){return new pi(a,h)}var Di=Fn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return k(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ya=Di.extend({options:{fill:!0,radius:10},initialize:function(a,h){k(this,h),this._latlng=lt(a),this._radius=this.options.radius},setLatLng:function(a){var h=this._latlng;return this._latlng=lt(a),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var h=a&&a.radius||this._radius;return Di.prototype.setStyle.call(this,a),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,h=this._radiusY||a,m=this._clickTolerance(),v=[a+m,h+m];this._pxBounds=new N(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function gh(a,h){return new ya(a,h)}var va=ya.extend({initialize:function(a,h,m){if(typeof h=="number"&&(h=s({},m,{radius:h})),k(this,h),this._latlng=lt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new wt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Di.prototype.setStyle,_project:function(){var a=this._latlng.lng,h=this._latlng.lat,m=this._map,v=m.options.crs;if(v.distance===zt.distance){var b=Math.PI/180,E=this._mRadius/zt.R/b,O=m.project([h+E,a]),V=m.project([h-E,a]),H=O.add(V).divideBy(2),tt=m.unproject(H).lat,ut=Math.acos((Math.cos(E*b)-Math.sin(h*b)*Math.sin(tt*b))/(Math.cos(h*b)*Math.cos(tt*b)))/b;(isNaN(ut)||ut===0)&&(ut=E/Math.cos(Math.PI/180*h)),this._point=H.subtract(m.getPixelOrigin()),this._radius=isNaN(ut)?0:H.x-m.project([tt,a-ut]).x,this._radiusY=H.y-O.y}else{var Tt=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Tt).x}this._updateBounds()}});function ao(a,h,m){return new va(a,h,m)}var fn=Di.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,h){k(this,h),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var h=1/0,m=null,v=rs,b,E,O=0,V=this._parts.length;O<V;O++)for(var H=this._parts[O],tt=1,ut=H.length;tt<ut;tt++){b=H[tt-1],E=H[tt];var Tt=v(a,b,E,!0);Tt<h&&(h=Tt,m=v(a,b,E))}return m&&(m.distance=Math.sqrt(h)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,h){return h=h||this._defaultShape(),a=lt(a),h.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new wt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return xn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var h=[],m=xn(a),v=0,b=a.length;v<b;v++)m?(h[v]=lt(a[v]),this._bounds.extend(h[v])):h[v]=this._convertLatLngs(a[v]);return h},_project:function(){var a=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),h=new K(a,a);this._rawPxBounds&&(this._pxBounds=new N([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(a,h,m){var v=a[0]instanceof pt,b=a.length,E,O;if(v){for(O=[],E=0;E<b;E++)O[E]=this._map.latLngToLayerPoint(a[E]),m.extend(O[E]);h.push(O)}else for(E=0;E<b;E++)this._projectLatlngs(a[E],h,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,m,v,b,E,O,V,H;for(m=0,b=0,E=this._rings.length;m<E;m++)for(H=this._rings[m],v=0,O=H.length;v<O-1;v++)V=uh(H[v],H[v+1],a,v,!0),V&&(h[b]=h[b]||[],h[b].push(V[0]),(V[1]!==H[v+1]||v===O-2)&&(h[b].push(V[1]),b++))}},_simplifyPoints:function(){for(var a=this._parts,h=this.options.smoothFactor,m=0,v=a.length;m<v;m++)a[m]=ga(a[m],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,h){var m,v,b,E,O,V,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,E=this._parts.length;m<E;m++)for(V=this._parts[m],v=0,O=V.length,b=O-1;v<O;b=v++)if(!(!h&&v===0)&&lh(a,V[b],V[v])<=H)return!0;return!1}});function vp(a,h){return new fn(a,h)}fn._flat=ch;var mi=fn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ah(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var h=fn.prototype._convertLatLngs.call(this,a),m=h.length;return m>=2&&h[0]instanceof pt&&h[0].equals(h[m-1])&&h.pop(),h},_setLatLngs:function(a){fn.prototype._setLatLngs.call(this,a),xn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return xn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,h=this.options.weight,m=new K(h,h);if(a=new N(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,b=this._rings.length,E;v<b;v++)E=Zl(this._rings[v],a,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var h=!1,m,v,b,E,O,V,H,tt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(E=0,H=this._parts.length;E<H;E++)for(m=this._parts[E],O=0,tt=m.length,V=tt-1;O<tt;V=O++)v=m[O],b=m[V],v.y>a.y!=b.y>a.y&&a.x<(b.x-v.x)*(a.y-v.y)/(b.y-v.y)+v.x&&(h=!h);return h||fn.prototype._containsPoint.call(this,a,!0)}});function xp(a,h){return new mi(a,h)}var Yn=fi.extend({initialize:function(a,h){k(this,h),this._layers={},a&&this.addData(a)},addData:function(a){var h=F(a)?a:a.features,m,v,b;if(h){for(m=0,v=h.length;m<v;m++)b=h[m],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var E=this.options;if(E.filter&&!E.filter(a))return this;var O=er(a,E);return O?(O.feature=Ta(a),O.defaultOptions=O.options,this.resetStyle(O),E.onEachFeature&&E.onEachFeature(a,O),this.addLayer(O)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=s({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(h){this._setLayerStyle(h,a)},this)},_setLayerStyle:function(a,h){a.setStyle&&(typeof h=="function"&&(h=h(a.feature)),a.setStyle(h))}});function er(a,h){var m=a.type==="Feature"?a.geometry:a,v=m?m.coordinates:null,b=[],E=h&&h.pointToLayer,O=h&&h.coordsToLatLng||wa,V,H,tt,ut;if(!v&&!m)return null;switch(m.type){case"Point":return V=O(v),xa(E,a,V,h);case"MultiPoint":for(tt=0,ut=v.length;tt<ut;tt++)V=O(v[tt]),b.push(xa(E,a,V,h));return new fi(b);case"LineString":case"MultiLineString":return H=lo(v,m.type==="LineString"?0:1,O),new fn(H,h);case"Polygon":case"MultiPolygon":return H=lo(v,m.type==="Polygon"?1:2,O),new mi(H,h);case"GeometryCollection":for(tt=0,ut=m.geometries.length;tt<ut;tt++){var Tt=er({geometry:m.geometries[tt],type:"Feature",properties:a.properties},h);Tt&&b.push(Tt)}return new fi(b);case"FeatureCollection":for(tt=0,ut=m.features.length;tt<ut;tt++){var Nt=er(m.features[tt],h);Nt&&b.push(Nt)}return new fi(b);default:throw new Error("Invalid GeoJSON object.")}}function xa(a,h,m,v){return a?a(h,m):new pi(m,v&&v.markersInheritOptions&&v)}function wa(a){return new pt(a[1],a[0],a[2])}function lo(a,h,m){for(var v=[],b=0,E=a.length,O;b<E;b++)O=h?lo(a[b],h-1,m):(m||wa)(a[b]),v.push(O);return v}function Sa(a,h){return a=lt(a),a.alt!==void 0?[w(a.lng,h),w(a.lat,h),w(a.alt,h)]:[w(a.lng,h),w(a.lat,h)]}function ba(a,h,m,v){for(var b=[],E=0,O=a.length;E<O;E++)b.push(h?ba(a[E],xn(a[E])?0:h-1,m,v):Sa(a[E],v));return!h&&m&&b.length>0&&b.push(b[0].slice()),b}function nr(a,h){return a.feature?s({},a.feature,{geometry:h}):Ta(h)}function Ta(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ql={toGeoJSON:function(a){return nr(this,{type:"Point",coordinates:Sa(this.getLatLng(),a)})}};pi.include(Ql),va.include(Ql),ya.include(Ql),fn.include({toGeoJSON:function(a){var h=!xn(this._latlngs),m=ba(this._latlngs,h?1:0,!1,a);return nr(this,{type:(h?"Multi":"")+"LineString",coordinates:m})}}),mi.include({toGeoJSON:function(a){var h=!xn(this._latlngs),m=h&&!xn(this._latlngs[0]),v=ba(this._latlngs,m?2:h?1:0,!0,a);return h||(v=[v]),nr(this,{type:(m?"Multi":"")+"Polygon",coordinates:v})}}),Oi.include({toMultiPoint:function(a){var h=[];return this.eachLayer(function(m){h.push(m.toGeoJSON(a).geometry.coordinates)}),nr(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(a){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(a);var m=h==="GeometryCollection",v=[];return this.eachLayer(function(b){if(b.toGeoJSON){var E=b.toGeoJSON(a);if(m)v.push(E.geometry);else{var O=Ta(E);O.type==="FeatureCollection"?v.push.apply(v,O.features):v.push(O)}}}),m?nr(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function _h(a,h){return new Yn(a,h)}var zn=_h,Ni=Fn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,h,m){this._url=a,this._bounds=mt(h),k(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(At(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ue(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Gs(this._image),this},bringToBack:function(){return this._map&&ci(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=mt(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",h=this._image=a?this._url:Ot("img");if(At(h,"leaflet-image-layer"),this._zoomAnimated&&At(h,"leaflet-zoom-animated"),this.options.className&&At(h,this.options.className),h.onselectstart=y,h.onmousemove=y,h.onload=l(this.fire,this,"load"),h.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(a){var h=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Rn(this._image,m,h)},_reset:function(){var a=this._image,h=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=h.getSize();Se(a,h.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Qe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),yh=function(a,h,m){return new Ni(a,h,m)},Jl=Ni.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",h=this._image=a?this._url:Ot("video");if(At(h,"leaflet-image-layer"),this._zoomAnimated&&At(h,"leaflet-zoom-animated"),this.options.className&&At(h,this.options.className),h.onselectstart=y,h.onmousemove=y,h.onloadeddata=l(this.fire,this,"load"),a){for(var m=h.getElementsByTagName("source"),v=[],b=0;b<m.length;b++)v.push(m[b].src);this._url=m.length>0?v:[h.src];return}F(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var O=Ot("source");O.src=this._url[E],h.appendChild(O)}}});function vh(a,h,m){return new Jl(a,h,m)}var tu=Ni.extend({_initImage:function(){var a=this._image=this._url;At(a,"leaflet-image-layer"),this._zoomAnimated&&At(a,"leaflet-zoom-animated"),this.options.className&&At(a,this.options.className),a.onselectstart=y,a.onmousemove=y}});function eu(a,h,m){return new tu(a,h,m)}var qn=Fn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,h){a&&(a instanceof pt||F(a))?(this._latlng=lt(a),k(this,h)):(k(this,a),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Qe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Qe(this._container,1),this.bringToFront(),this.options.interactive&&(At(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Qe(this._container,0),this._removeTimeout=setTimeout(l(ue,void 0,this._container),200)):ue(this._container),this.options.interactive&&(re(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=lt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Gs(this._container),this},bringToBack:function(){return this._map&&ci(this._container),this},_prepareOpen:function(a){var h=this._source;if(!h._map)return!1;if(h instanceof fi){h=null;var m=this._source._layers;for(var v in m)if(m[v]._map){h=m[v];break}if(!h)return!1;this._source=h}if(!a)if(h.getCenter)a=h.getCenter();else if(h.getLatLng)a=h.getLatLng();else if(h.getBounds)a=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")a.innerHTML=h;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),h=q(this.options.offset),m=this._getAnchor();this._zoomAnimated?Se(this._container,a.add(m)):h=h.add(a).add(m);var v=this._containerBottom=-h.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=v+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Wt.include({_initOverlay:function(a,h,m,v){var b=h;return b instanceof a||(b=new a(v).setContent(h)),m&&b.setLatLng(m),b}}),Fn.include({_initOverlay:function(a,h,m,v){var b=m;return b instanceof a?(k(b,v),b._source=this):(b=h&&!v?h:new a(v,this),b.setContent(m)),b}});var Ca=qn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,qn.prototype.openOn.call(this,a)},onAdd:function(a){qn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Di||this._source.on("preclick",$n))},onRemove:function(a){qn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Di||this._source.off("preclick",$n))},getEvents:function(){var a=qn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",h=this._container=Ot("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Ot("div",a+"-content-wrapper",h);if(this._contentNode=Ot("div",a+"-content",m),io(h),da(this._contentNode),Et(h,"contextmenu",$n),this._tipContainer=Ot("div",a+"-tip-container",h),this._tip=Ot("div",a+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=Ot("a",a+"-close-button",h);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Et(v,"click",function(b){ye(b),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,h=a.style;h.width="",h.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),h.width=m+1+"px",h.whiteSpace="",h.height="";var v=a.offsetHeight,b=this.options.maxHeight,E="leaflet-popup-scrolled";b&&v>b?(h.height=b+"px",At(a,E)):re(a,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();Se(this._container,h.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,h=parseInt(Jr(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+h,v=this._containerWidth,b=new K(this._containerLeft,-m-this._containerBottom);b._add(hi(this._container));var E=a.layerPointToContainerPoint(b),O=q(this.options.autoPanPadding),V=q(this.options.autoPanPaddingTopLeft||O),H=q(this.options.autoPanPaddingBottomRight||O),tt=a.getSize(),ut=0,Tt=0;E.x+v+H.x>tt.x&&(ut=E.x+v-tt.x+H.x),E.x-ut-V.x<0&&(ut=E.x-V.x),E.y+m+H.y>tt.y&&(Tt=E.y+m-tt.y+H.y),E.y-Tt-V.y<0&&(Tt=E.y-V.y),(ut||Tt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([ut,Tt]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ir=function(a,h){return new Ca(a,h)};Wt.mergeOptions({closePopupOnClick:!0}),Wt.include({openPopup:function(a,h,m){return this._initOverlay(Ca,a,h,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Fn.include({bindPopup:function(a,h){return this._popup=this._initOverlay(Ca,this._popup,a,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof fi||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Dn(a);var h=a.layer||a.target;if(this._popup._source===h&&!(h instanceof Di)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=h,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var sr=qn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){qn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){qn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=qn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",h=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ot("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var h,m,v=this._map,b=this._container,E=v.latLngToContainerPoint(v.getCenter()),O=v.layerPointToContainerPoint(a),V=this.options.direction,H=b.offsetWidth,tt=b.offsetHeight,ut=q(this.options.offset),Tt=this._getAnchor();V==="top"?(h=H/2,m=tt):V==="bottom"?(h=H/2,m=0):V==="center"?(h=H/2,m=tt/2):V==="right"?(h=0,m=tt/2):V==="left"?(h=H,m=tt/2):O.x<E.x?(V="right",h=0,m=tt/2):(V="left",h=H+(ut.x+Tt.x)*2,m=tt/2),a=a.subtract(q(h,m,!0)).add(ut).add(Tt),re(b,"leaflet-tooltip-right"),re(b,"leaflet-tooltip-left"),re(b,"leaflet-tooltip-top"),re(b,"leaflet-tooltip-bottom"),At(b,"leaflet-tooltip-"+V),Se(b,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Qe(this._container,a)},_animateZoom:function(a){var h=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(h)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),uo=function(a,h){return new sr(a,h)};Wt.include({openTooltip:function(a,h,m){return this._initOverlay(sr,a,h,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Fn.include({bindTooltip:function(a,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(sr,this._tooltip,a,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var h=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[h](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof fi||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&(Et(h,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Et(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var h=typeof a.getElement=="function"&&a.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var h=a.latlng,m,v;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),v=this._map.containerPointToLayerPoint(m),h=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(h)}});var Pa=os.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var h=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(oa(h),h.appendChild(m.html)):h.innerHTML=m.html!==!1?m.html:"",m.bgPos){var v=q(m.bgPos);h.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function xh(a){return new Pa(a)}os.Default=tr;var Fi=Fn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){k(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ue(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Gs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ci(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof K?a:new K(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var h=this.getPane().children,m=-a(-1/0,1/0),v=0,b=h.length,E;v<b;v++)E=h[v].style.zIndex,h[v]!==this._container&&E&&(m=a(m,+E));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xt.ielt9){Qe(this._container,this.options.opacity);var a=+new Date,h=!1,m=!1;for(var v in this._tiles){var b=this._tiles[v];if(!(!b.current||!b.loaded)){var E=Math.min(1,(a-b.loaded)/200);Qe(b.el,E),E<1?h=!0:(b.active?m=!0:this._onOpaqueTile(b),b.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),h&&(vt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=Ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,h=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=h-Math.abs(a-m),this._onUpdateLevel(m)):(ue(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var v=this._levels[a],b=this._map;return v||(v=this._levels[a]={},v.el=Ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=h,v.origin=b.project(b.unproject(b.getPixelOrigin()),a).round(),v.zoom=a,this._setZoomTransform(v,b.getCenter(),b.getZoom()),y(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var a,h,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)h=this._tiles[a],h.retain=h.current;for(a in this._tiles)if(h=this._tiles[a],h.current&&!h.active){var v=h.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var h in this._tiles)this._tiles[h].coords.z===a&&this._removeTile(h)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ue(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,h,m,v){var b=Math.floor(a/2),E=Math.floor(h/2),O=m-1,V=new K(+b,+E);V.z=+O;var H=this._tileCoordsToKey(V),tt=this._tiles[H];return tt&&tt.active?(tt.retain=!0,!0):(tt&&tt.loaded&&(tt.retain=!0),O>v?this._retainParent(b,E,O,v):!1)},_retainChildren:function(a,h,m,v){for(var b=2*a;b<2*a+2;b++)for(var E=2*h;E<2*h+2;E++){var O=new K(b,E);O.z=m+1;var V=this._tileCoordsToKey(O),H=this._tiles[V];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);m+1<v&&this._retainChildren(b,E,m+1,v)}},_resetView:function(a){var h=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var h=this.options;return h.minNativeZoom!==void 0&&a<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<a?h.maxNativeZoom:a},_setView:function(a,h,m,v){var b=Math.round(h);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var E=this.options.updateWhenZooming&&b!==this._tileZoom;(!v||E)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,h)},_setZoomTransforms:function(a,h){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,h)},_setZoomTransform:function(a,h,m){var v=this._map.getZoomScale(m,a.zoom),b=a.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(h,m)).round();xt.any3d?Rn(a.el,b,v):Se(a.el,b)},_resetGrid:function(){var a=this._map,h=a.options.crs,m=this._tileSize=this.getTileSize(),v=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,h.wrapLng[0]],v).x/m.x),Math.ceil(a.project([0,h.wrapLng[1]],v).x/m.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([h.wrapLat[0],0],v).y/m.x),Math.ceil(a.project([h.wrapLat[1],0],v).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var h=this._map,m=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),v=h.getZoomScale(m,this._tileZoom),b=h.project(a,this._tileZoom).floor(),E=h.getSize().divideBy(v*2);return new N(b.subtract(E),b.add(E))},_update:function(a){var h=this._map;if(h){var m=this._clampZoom(h.getZoom());if(a===void 0&&(a=h.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(a),b=this._pxBoundsToTileRange(v),E=b.getCenter(),O=[],V=this.options.keepBuffer,H=new N(b.getBottomLeft().subtract([V,-V]),b.getTopRight().add([V,-V]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var tt in this._tiles){var ut=this._tiles[tt].coords;(ut.z!==this._tileZoom||!H.contains(new K(ut.x,ut.y)))&&(this._tiles[tt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Tt=b.min.y;Tt<=b.max.y;Tt++)for(var Nt=b.min.x;Nt<=b.max.x;Nt++){var Oe=new K(Nt,Tt);if(Oe.z=this._tileZoom,!!this._isValidTile(Oe)){var Me=this._tiles[this._tileCoordsToKey(Oe)];Me?Me.current=!0:O.push(Oe)}}if(O.sort(function(tn,ur){return tn.distanceTo(E)-ur.distanceTo(E)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var pn=document.createDocumentFragment();for(Nt=0;Nt<O.length;Nt++)this._addTile(O[Nt],pn);this._level.el.appendChild(pn)}}}},_isValidTile:function(a){var h=this._map.options.crs;if(!h.infinite){var m=this._globalTileRange;if(!h.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!h.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(a);return mt(this.options.bounds).overlaps(v)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var h=this._map,m=this.getTileSize(),v=a.scaleBy(m),b=v.add(m),E=h.unproject(v,a.z),O=h.unproject(b,a.z);return[E,O]},_tileCoordsToBounds:function(a){var h=this._tileCoordsToNwSe(a),m=new wt(h[0],h[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var h=a.split(":"),m=new K(+h[0],+h[1]);return m.z=+h[2],m},_removeTile:function(a){var h=this._tiles[a];h&&(ue(h.el),delete this._tiles[a],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){At(a,"leaflet-tile");var h=this.getTileSize();a.style.width=h.x+"px",a.style.height=h.y+"px",a.onselectstart=y,a.onmousemove=y,xt.ielt9&&this.options.opacity<1&&Qe(a,this.options.opacity)},_addTile:function(a,h){var m=this._getTilePos(a),v=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&ct(l(this._tileReady,this,a,null,b)),Se(b,m),this._tiles[v]={el:b,coords:a,current:!0},h.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(a,h,m){h&&this.fire("tileerror",{error:h,tile:m,coords:a});var v=this._tileCoordsToKey(a);m=this._tiles[v],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Qe(m.el,0),vt(this._fadeFrame),this._fadeFrame=ct(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),h||(At(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xt.ielt9||!this._map._fadeAnimated?ct(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var h=new K(this._wrapX?g(a.x,this._wrapX):a.x,this._wrapY?g(a.y,this._wrapY):a.y);return h.z=a.z,h},_pxBoundsToTileRange:function(a){var h=this.getTileSize();return new N(a.min.unscaleBy(h).floor(),a.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function rr(a){return new Fi(a)}var zi=Fi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,h){this._url=a,h=k(this,h),h.detectRetina&&xt.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,h){return this._url===a&&h===void 0&&(h=!0),this._url=a,h||this.redraw(),this},createTile:function(a,h){var m=document.createElement("img");return Et(m,"load",l(this._tileOnLoad,this,h,m)),Et(m,"error",l(this._tileOnError,this,h,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var h={r:xt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(h.y=m),h["-y"]=m}return R(this._url,s(h,this.options))},_tileOnLoad:function(a,h){xt.ielt9?setTimeout(l(a,this,null,h),0):a(null,h)},_tileOnError:function(a,h,m){var v=this.options.errorTileUrl;v&&h.getAttribute("src")!==v&&(h.src=v),a(m,h)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,h=this.options.maxZoom,m=this.options.zoomReverse,v=this.options.zoomOffset;return m&&(a=h-a),a+v},_getSubdomain:function(a){var h=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var a,h;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(h=this._tiles[a].el,h.onload=y,h.onerror=y,!h.complete)){h.src=B;var m=this._tiles[a].coords;ue(h),delete this._tiles[a],this.fire("tileabort",{tile:h,coords:m})}},_removeTile:function(a){var h=this._tiles[a];if(h)return h.el.setAttribute("src",B),Fi.prototype._removeTile.call(this,a)},_tileReady:function(a,h,m){if(!(!this._map||m&&m.getAttribute("src")===B))return Fi.prototype._tileReady.call(this,a,h,m)}});function nu(a,h){return new zi(a,h)}var co=zi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,h){this._url=a;var m=s({},this.defaultWmsParams);for(var v in h)v in this.options||(m[v]=h[v]);h=k(this,h);var b=h.detectRetina&&xt.retina?2:1,E=this.getTileSize();m.width=E.x*b,m.height=E.y*b,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,zi.prototype.onAdd.call(this,a)},getTileUrl:function(a){var h=this._tileCoordsToNwSe(a),m=this._crs,v=X(m.project(h[0]),m.project(h[1])),b=v.min,E=v.max,O=(this._wmsVersion>=1.3&&this._crs===fh?[b.y,b.x,E.y,E.x]:[b.x,b.y,E.x,E.y]).join(","),V=zi.prototype.getTileUrl.call(this,a);return V+I(this.wmsParams,V,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(a,h){return s(this.wmsParams,a),h||this.redraw(),this}});function wh(a,h){return new co(a,h)}zi.WMS=co,nu.wms=wh;var Xn=Fn.extend({options:{padding:.1},initialize:function(a){k(this,a),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),At(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,h){var m=this._map.getZoomScale(h,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,h),E=v.multiplyBy(-m).add(b).subtract(this._map._getNewPixelOrigin(a,h));xt.any3d?Rn(this._container,E,m):Se(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,h=this._map.getSize(),m=this._map.containerPointToLayerPoint(h.multiplyBy(-a)).round();this._bounds=new N(m,m.add(h.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),iu=Xn.extend({options:{tolerance:0},getEvents:function(){var a=Xn.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Et(a,"mousemove",this._onMouseMove,this),Et(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Et(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){vt(this._redrawRequest),delete this._ctx,ue(this._container),ee(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var h in this._layers)a=this._layers[h],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var a=this._bounds,h=this._container,m=a.getSize(),v=xt.retina?2:1;Se(h,a.min),h.width=v*m.x,h.height=v*m.y,h.style.width=m.x+"px",h.style.height=m.y+"px",xt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Xn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[d(a)]=a;var h=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var h=a._order,m=h.next,v=h.prev;m?m.prev=v:this._drawLast=v,v?v.next=m:this._drawFirst=m,delete a._order,delete this._layers[d(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var h=a.options.dashArray.split(/[, ]+/),m=[],v,b;for(b=0;b<h.length;b++){if(v=Number(h[b]),isNaN(v))return;m.push(v)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||ct(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var h=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(a._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(a._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var h=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,h=this._redrawBounds;if(this._ctx.save(),h){var m=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)a=v.layer,(!h||a._pxBounds&&a._pxBounds.intersects(h))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,h){if(this._drawing){var m,v,b,E,O=a._parts,V=O.length,H=this._ctx;if(V){for(H.beginPath(),m=0;m<V;m++){for(v=0,b=O[m].length;v<b;v++)E=O[m][v],H[v?"lineTo":"moveTo"](E.x,E.y);h&&H.closePath()}this._fillStroke(H,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var h=a._point,m=this._ctx,v=Math.max(Math.round(a._radius),1),b=(Math.max(Math.round(a._radiusY),1)||v)/v;b!==1&&(m.save(),m.scale(1,b)),m.beginPath(),m.arc(h.x,h.y/b,v,0,Math.PI*2,!1),b!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,h){var m=h.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(h.options&&h.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var h=this._map.mouseEventToLayerPoint(a),m,v,b=this._drawFirst;b;b=b.next)m=b.layer,m.options.interactive&&m._containsPoint(h)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(v=m);this._fireEvent(v?[v]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,h)}},_handleMouseOut:function(a){var h=this._hoveredLayer;h&&(re(this._container,"leaflet-interactive"),this._fireEvent([h],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,h){if(!this._mouseHoverThrottled){for(var m,v,b=this._drawFirst;b;b=b.next)m=b.layer,m.options.interactive&&m._containsPoint(h)&&(v=m);v!==this._hoveredLayer&&(this._handleMouseOut(a),v&&(At(this._container,"leaflet-interactive"),this._fireEvent([v],a,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,h,m){this._map._fireDOMEvent(h,m||h.type,a)},_bringToFront:function(a){var h=a._order;if(h){var m=h.next,v=h.prev;if(m)m.prev=v;else return;v?v.next=m:m&&(this._drawFirst=m),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(a)}},_bringToBack:function(a){var h=a._order;if(h){var m=h.next,v=h.prev;if(v)v.next=m;else return;m?m.prev=v:v&&(this._drawLast=v),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(a)}}});function su(a){return xt.canvas?new iu(a):null}var or=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Sh={_initContainer:function(){this._container=Ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xn.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var h=a._container=or("shape");At(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",a._path=or("path"),h.appendChild(a._path),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){var h=a._container;this._container.appendChild(h),a.options.interactive&&a.addInteractiveTarget(h)},_removePath:function(a){var h=a._container;ue(h),a.removeInteractiveTarget(h),delete this._layers[d(a)]},_updateStyle:function(a){var h=a._stroke,m=a._fill,v=a.options,b=a._container;b.stroked=!!v.stroke,b.filled=!!v.fill,v.stroke?(h||(h=a._stroke=or("stroke")),b.appendChild(h),h.weight=v.weight+"px",h.color=v.color,h.opacity=v.opacity,v.dashArray?h.dashStyle=F(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=v.lineCap.replace("butt","flat"),h.joinstyle=v.lineJoin):h&&(b.removeChild(h),a._stroke=null),v.fill?(m||(m=a._fill=or("fill")),b.appendChild(m),m.color=v.fillColor||v.color,m.opacity=v.fillOpacity):m&&(b.removeChild(m),a._fill=null)},_updateCircle:function(a){var h=a._point.round(),m=Math.round(a._radius),v=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+h.x+","+h.y+" "+m+","+v+" 0,"+65535*360)},_setPath:function(a,h){a._path.v=h},_bringToFront:function(a){Gs(a._container)},_bringToBack:function(a){ci(a._container)}},Bn=xt.vml?or:Tl,as=Xn.extend({_initContainer:function(){this._container=Bn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Bn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ue(this._container),ee(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var a=this._bounds,h=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,m.setAttribute("width",h.x),m.setAttribute("height",h.y)),Se(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(a){var h=a._path=Bn("path");a.options.className&&At(h,a.options.className),a.options.interactive&&At(h,"leaflet-interactive"),this._updateStyle(a),this._layers[d(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ue(a._path),a.removeInteractiveTarget(a._path),delete this._layers[d(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var h=a._path,m=a.options;h&&(m.stroke?(h.setAttribute("stroke",m.color),h.setAttribute("stroke-opacity",m.opacity),h.setAttribute("stroke-width",m.weight),h.setAttribute("stroke-linecap",m.lineCap),h.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?h.setAttribute("stroke-dasharray",m.dashArray):h.removeAttribute("stroke-dasharray"),m.dashOffset?h.setAttribute("stroke-dashoffset",m.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),m.fill?(h.setAttribute("fill",m.fillColor||m.color),h.setAttribute("fill-opacity",m.fillOpacity),h.setAttribute("fill-rule",m.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(a,h){this._setPath(a,Cl(a._parts,h))},_updateCircle:function(a){var h=a._point,m=Math.max(Math.round(a._radius),1),v=Math.max(Math.round(a._radiusY),1)||m,b="a"+m+","+v+" 0 1,0 ",E=a._empty()?"M0 0":"M"+(h.x-m)+","+h.y+b+m*2+",0 "+b+-m*2+",0 ";this._setPath(a,E)},_setPath:function(a,h){a._path.setAttribute("d",h)},_bringToFront:function(a){Gs(a._path)},_bringToBack:function(a){ci(a._path)}});xt.vml&&as.include(Sh);function ka(a){return xt.svg||xt.vml?new as(a):null}Wt.include({getRenderer:function(a){var h=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var h=this._paneRenderers[a];return h===void 0&&(h=this._createRenderer({pane:a}),this._paneRenderers[a]=h),h},_createRenderer:function(a){return this.options.preferCanvas&&su(a)||ka(a)}});var bh=mi.extend({initialize:function(a,h){mi.prototype.initialize.call(this,this._boundsToLatLngs(a),h)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=mt(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function wp(a,h){return new bh(a,h)}as.create=Bn,as.pointsToPath=Cl,Yn.geometryToLayer=er,Yn.coordsToLatLng=wa,Yn.coordsToLatLngs=lo,Yn.latLngToCoords=Sa,Yn.latLngsToCoords=ba,Yn.getFeature=nr,Yn.asFeature=Ta,Wt.mergeOptions({boxZoom:!0});var ar=vn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ue(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),$t(),ua(),this._startPoint=this._map.mouseEventToContainerPoint(a),Et(document,{contextmenu:Dn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Ot("div","leaflet-zoom-box",this._container),At(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var h=new N(this._point,this._startPoint),m=h.getSize();Se(this._box,h.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(ue(this._box),re(this._container,"leaflet-crosshair")),Ys(),ca(),ee(document,{contextmenu:Dn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var h=new wt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Wt.addInitHook("addHandler","boxZoom",ar),Wt.mergeOptions({doubleClickZoom:!0});var Th=vn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var h=this._map,m=h.getZoom(),v=h.options.zoomDelta,b=a.originalEvent.shiftKey?m-v:m+v;h.options.doubleClickZoom==="center"?h.setZoom(b):h.setZoomAround(a.containerPoint,b)}});Wt.addInitHook("addHandler","doubleClickZoom",Th),Wt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ru=vn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Nn(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}At(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){re(this._map._container,"leaflet-grab"),re(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=mt(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var h=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(h),this._prunePositions(h)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,h){return a-(a-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;a.x<h.min.x&&(a.x=this._viscousLimit(a.x,h.min.x)),a.y<h.min.y&&(a.y=this._viscousLimit(a.y,h.min.y)),a.x>h.max.x&&(a.x=this._viscousLimit(a.x,h.max.x)),a.y>h.max.y&&(a.y=this._viscousLimit(a.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,h=Math.round(a/2),m=this._initialWorldOffset,v=this._draggable._newPos.x,b=(v-h+m)%a+h-m,E=(v+h+m)%a-h-m,O=Math.abs(b+m)<Math.abs(E+m)?b:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(a){var h=this._map,m=h.options,v=!m.inertia||a.noInertia||this._times.length<2;if(h.fire("dragend",a),v)h.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,O=m.easeLinearity,V=b.multiplyBy(O/E),H=V.distanceTo([0,0]),tt=Math.min(m.inertiaMaxSpeed,H),ut=V.multiplyBy(tt/H),Tt=tt/(m.inertiaDeceleration*O),Nt=ut.multiplyBy(-Tt/2).round();!Nt.x&&!Nt.y?h.fire("moveend"):(Nt=h._limitOffset(Nt,h.options.maxBounds),ct(function(){h.panBy(Nt,{duration:Tt,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Wt.addInitHook("addHandler","dragging",ru),Wt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ou=vn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Et(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ee(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,h=document.documentElement,m=a.scrollTop||h.scrollTop,v=a.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(v,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var h=this._panKeys={},m=this.keyCodes,v,b;for(v=0,b=m.left.length;v<b;v++)h[m.left[v]]=[-1*a,0];for(v=0,b=m.right.length;v<b;v++)h[m.right[v]]=[a,0];for(v=0,b=m.down.length;v<b;v++)h[m.down[v]]=[0,a];for(v=0,b=m.up.length;v<b;v++)h[m.up[v]]=[0,-1*a]},_setZoomDelta:function(a){var h=this._zoomKeys={},m=this.keyCodes,v,b;for(v=0,b=m.zoomIn.length;v<b;v++)h[m.zoomIn[v]]=a;for(v=0,b=m.zoomOut.length;v<b;v++)h[m.zoomOut[v]]=-a},_addHooks:function(){Et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var h=a.keyCode,m=this._map,v;if(h in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(v=this._panKeys[h],a.shiftKey&&(v=q(v).multiplyBy(3)),m.options.maxBounds&&(v=m._limitOffset(q(v),m.options.maxBounds)),m.options.worldCopyJump){var b=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(v)));m.panTo(b)}else m.panBy(v)}else if(h in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Dn(a)}}});Wt.addInitHook("addHandler","keyboard",ou),Wt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ne=vn.extend({addHooks:function(){Et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var h=rh(a),m=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var v=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),v),Dn(a)},_performZoom:function(){var a=this._map,h=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,E=m?Math.ceil(b/m)*m:b,O=a._limitZoom(h+(this._delta>0?E:-E))-h;this._delta=0,this._startTime=null,O&&(a.options.scrollWheelZoom==="center"?a.setZoom(h+O):a.setZoomAround(this._lastMousePos,h+O))}});Wt.addInitHook("addHandler","scrollWheelZoom",ne);var au=600;Wt.mergeOptions({tapHold:xt.touchNative&&xt.safari&&xt.mobile,tapTolerance:15});var ho=vn.extend({addHooks:function(){Et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var h=a.touches[0];this._startPos=this._newPos=new K(h.clientX,h.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Et(document,"touchend",ye),Et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),au),Et(document,"touchend touchcancel contextmenu",this._cancel,this),Et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ee(document,"touchend",ye),ee(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)},_onMove:function(a){var h=a.touches[0];this._newPos=new K(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,h){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});m._simulated=!0,h.target.dispatchEvent(m)}});Wt.addInitHook("addHandler","tapHold",ho),Wt.mergeOptions({touchZoom:xt.touch,bounceAtZoomLimits:!0});var lr=vn.extend({addHooks:function(){At(this._map._container,"leaflet-touch-zoom"),Et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){re(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var h=this._map;if(!(!a.touches||a.touches.length!==2||h._animatingZoom||this._zooming)){var m=h.mouseEventToContainerPoint(a.touches[0]),v=h.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(m.add(v)._divideBy(2))),this._startDist=m.distanceTo(v),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Et(document,"touchmove",this._onTouchMove,this),Et(document,"touchend touchcancel",this._onTouchEnd,this),ye(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var h=this._map,m=h.mouseEventToContainerPoint(a.touches[0]),v=h.mouseEventToContainerPoint(a.touches[1]),b=m.distanceTo(v)/this._startDist;if(this._zoom=h.getScaleZoom(b,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&b<1||this._zoom>h.getMaxZoom()&&b>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var E=m._add(v)._divideBy(2)._subtract(this._centerPoint);if(b===1&&E.x===0&&E.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),vt(this._animRequest);var O=l(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ct(O,this,!0),ye(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,vt(this._animRequest),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Wt.addInitHook("addHandler","touchZoom",lr),Wt.BoxZoom=ar,Wt.DoubleClickZoom=Th,Wt.Drag=ru,Wt.Keyboard=ou,Wt.ScrollWheelZoom=ne,Wt.TapHold=ho,Wt.TouchZoom=lr,e.Bounds=N,e.Browser=xt,e.CRS=Zt,e.Canvas=iu,e.Circle=va,e.CircleMarker=ya,e.Class=Ft,e.Control=dn,e.DivIcon=Pa,e.DivOverlay=qn,e.DomEvent=fa,e.DomUtil=no,e.Draggable=Nn,e.Evented=ft,e.FeatureGroup=fi,e.GeoJSON=Yn,e.GridLayer=Fi,e.Handler=vn,e.Icon=os,e.ImageOverlay=Ni,e.LatLng=pt,e.LatLngBounds=wt,e.Layer=Fn,e.LayerGroup=Oi,e.LineUtil=dh,e.Map=Wt,e.Marker=pi,e.Mixin=Hl,e.Path=Di,e.Point=K,e.PolyUtil=cp,e.Polygon=mi,e.Polyline=fn,e.Popup=Ca,e.PosAnimation=pa,e.Projection=mp,e.Rectangle=bh,e.Renderer=Xn,e.SVG=as,e.SVGOverlay=tu,e.TileLayer=zi,e.Tooltip=sr,e.Transformation=Bs,e.Util=Kt,e.VideoOverlay=Jl,e.bind=l,e.bounds=X,e.canvas=su,e.circle=ao,e.circleMarker=gh,e.control=Ri,e.divIcon=xh,e.extend=s,e.featureGroup=ph,e.geoJSON=_h,e.geoJson=zn,e.gridLayer=rr,e.icon=mh,e.imageOverlay=yh,e.latLng=lt,e.latLngBounds=mt,e.layerGroup=oo,e.map=Ai,e.marker=yp,e.point=q,e.polygon=xp,e.polyline=vp,e.popup=ir,e.rectangle=wp,e.setOptions=k,e.stamp=d,e.svg=ka,e.svgOverlay=eu,e.tileLayer=nu,e.tooltip=uo,e.transformation=Vs,e.version=i,e.videoOverlay=vh;var Ch=window.L;e.noConflict=function(){return window.L=Ch,this},window.L=e}))})(Bu,Bu.exports)),Bu.exports}var np=uU();const nv=Nb(np);function vE(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function xE(n,t){return t==null?function(i,s){const o=Q.useRef();return o.current||(o.current=n(i,s)),o}:function(i,s){const o=Q.useRef();o.current||(o.current=n(i,s));const l=Q.useRef(i),{instance:c}=o.current;return Q.useEffect(function(){l.current!==i&&(t(c,i,l.current),l.current=i)},[c,i,s]),o}}function cU(n,t){Q.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function wE(n){return function(e){const i=_E(),s=n(yE(e,i),i);return eU(i.map,e.attribution),aU(s.current,e.eventHandlers),cU(s.current,i),s}}function hU(n,t){const e=xE(n,t),i=wE(e);return rU(i)}function dU(n,t){const e=xE(n,t),i=wE(e);return oU(i)}function fU(n,t,e){const{opacity:i,zIndex:s}=t;i!=null&&i!==e.opacity&&n.setOpacity(i),s!=null&&s!==e.zIndex&&n.setZIndex(s)}function pU(){return _E().map}function p_(){return p_=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},p_.apply(this,arguments)}function mU({bounds:n,boundsOptions:t,center:e,children:i,className:s,id:o,placeholder:l,style:c,whenReady:d,zoom:p,...g},y){const[w]=Q.useState({className:s,id:o,style:c}),[T,C]=Q.useState(null);Q.useImperativeHandle(y,()=>T?.map??null,[T]);const k=Q.useCallback(M=>{if(M!==null&&T===null){const R=new np.Map(M,g);e!=null&&p!=null?R.setView(e,p):n!=null&&R.fitBounds(n,t),d!=null&&R.whenReady(d),C(iU(R))}},[]);Q.useEffect(()=>()=>{T?.map.remove()},[T]);const I=T?Kd.createElement(gE,{value:T},i):l??null;return Kd.createElement("div",p_({},w,{ref:k}),I)}const gU=Q.forwardRef(mU),_U=hU(function({position:t,...e},i){const s=new np.Marker(t,e);return vE(s,sU(i,{overlayContainer:s}))},function(t,e,i){e.position!==i.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==i.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==i.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==i.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),yU=dU(function({url:t,...e},i){const s=new np.TileLayer(t,yE(e,i));return vE(s,i)},function(t,e,i){fU(t,e,i);const{url:s}=e;s!=null&&s!==i.url&&t.setUrl(s)}),vU=encodeURIComponent(`
  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
    <defs><linearGradient id='g' x1='0' x2='1'><stop offset='0' stop-color='#1f2937'/><stop offset='1' stop-color='#065f46' /></linearGradient></defs>
    <path d='M32 4c-8 0-14 6-14 14 0 12 14 30 14 30s14-18 14-30C46 10 40 4 32 4z' fill='url(#g)' stroke='#08121a' stroke-width='1.5'/>
    <circle cx='32' cy='18' r='4' fill='#fde68a' stroke='#b45309' stroke-width='1'/>
  </svg>
`),kb=`data:image/svg+xml;charset=UTF-8,${vU}`,xU=new nv.Icon({iconUrl:kb,iconRetinaUrl:kb,shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[36,48],iconAnchor:[18,46],popupAnchor:[0,-40],shadowSize:[41,41]});function wU({position:n}){const t=Q.useRef(null),e=pU();return Q.useEffect(()=>{n&&t.current&&(t.current.setLatLng(n),e.panTo(n,{animate:!0,duration:.8}))},[n,e]),n?J.jsx(_U,{position:n,icon:xU,ref:t}):null}function SU({gps:n}){const t=[12.8308,79.7124];return n&&(Number(n.latitude),Number(n.longitude)),J.jsx("div",{className:"rounded-xl overflow-hidden shadow bg-white",style:{height:420},children:J.jsxs(gU,{center:t,zoom:17,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},children:[J.jsx(yU,{attribution:" OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n&&J.jsx(wU,{position:[Number(n.latitude),Number(n.longitude)]})]})})}function bU({meta:n}){if(!n)return J.jsxs("div",{className:"p-6 bg-white rounded-2xl shadow-soft-lg",children:[J.jsx("h3",{className:"text-lg font-semibold mb-3",children:"GPS Info"}),J.jsx("div",{className:"text-sm text-gray-500",children:"No GPS data yet"})]});const t=(i,s=5)=>i==null?"":Number(i).toFixed(s),e=(i,s=2)=>i==null?"":Number(i).toFixed(s);return J.jsxs("div",{className:"p-6 bg-white rounded-2xl shadow-soft-lg",children:[J.jsx("h3",{className:"text-lg font-semibold mb-4",children:"GPS Info"}),J.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[J.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[J.jsx("div",{className:"text-xs text-gray-400",children:"Latitude"}),J.jsx("div",{className:"text-lg font-semibold mt-1 font-montserrat",children:t(n.latitude,5)})]}),J.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[J.jsx("div",{className:"text-xs text-gray-400",children:"Longitude"}),J.jsx("div",{className:"text-lg font-semibold mt-1 font-montserrat",children:t(n.longitude,5)})]}),J.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[J.jsx("div",{className:"text-xs text-gray-400",children:"Altitude (m)"}),J.jsx("div",{className:"text-lg font-semibold mt-1",children:e(n.altitude_m,1)})]}),J.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[J.jsx("div",{className:"text-xs text-gray-400",children:"Speed (km/h)"}),J.jsx("div",{className:"text-lg font-semibold mt-1",children:n.speed_kmph?e(n.speed_kmph,2):""})]}),J.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[J.jsx("div",{className:"text-xs text-gray-400",children:"Satellites"}),J.jsx("div",{className:"text-lg font-semibold mt-1",children:n.satellites??""})]}),J.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[J.jsx("div",{className:"text-xs text-gray-400",children:"Timestamp"}),J.jsx("div",{className:"text-sm mt-1 text-gray-700",children:n.formatted??n.time??""})]})]})]})}function TU([n,t],[e,i]){const s=g=>g*Math.PI/180,l=s(e-n),c=s(i-t),d=Math.sin(l/2)*Math.sin(l/2)+Math.cos(s(n))*Math.cos(s(e))*Math.sin(c/2)*Math.sin(c/2);return 6371e3*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)))}function CU([n,t],[e,i]){const s=g=>g*Math.PI/180,o=g=>g*180/Math.PI,l=s(i-t),c=Math.sin(l)*Math.cos(s(e)),d=Math.cos(s(n))*Math.sin(s(e))-Math.sin(s(n))*Math.cos(s(e))*Math.cos(l);return(o(Math.atan2(c,d))+360)%360}function PU(n){const t=Math.floor(n/45+.5);return["N","NE","E","SE","S","SW","W","NW"][t%8]}const _g=[12.83089,79.71253];function kU({style:n={}}){const[t,e]=Q.useState(null),[i,s]=Q.useState(null),[o,l]=Q.useState(null),[c,d]=Q.useState(null);Q.useEffect(()=>{const y=lf(gf,"/GPS"),w=uf(y,T=>{if(!T.exists()){e(null),s(null),l(null),d(null);return}const C=T.val();e(C),d(C.formatted||C.time||new Date().toLocaleString())});return()=>w()},[]),Q.useEffect(()=>{if(!t){s(null),l(null);return}try{const y=[Number(t.latitude),Number(t.longitude)],w=_g,T=TU(y,w),C=CU(y,w);s(T),l(C)}catch(y){console.error("DistanceHUD compute error",y),s(null),l(null)}},[t]);const p=y=>y==null?"":y<1e3?`${Math.round(y)} m`:`${(y/1e3).toFixed(2)} km`,g=y=>y==null?"":`${Math.round(y)} (${PU(y)})`;return J.jsx("div",{className:"fixed top-28 right-8 z-50",style:{width:220,...n},"aria-live":"polite",children:J.jsxs("div",{className:"p-3 bg-white border border-gray-100 rounded-xl shadow-soft-lg",children:[J.jsx("div",{className:"flex items-center justify-between",children:J.jsxs("div",{children:[J.jsx("div",{className:"text-xs text-gray-400",children:"Distance to Target"}),J.jsx("div",{className:"text-2xl font-semibold text-indigo-700",children:p(i)})]})}),J.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 text-sm text-gray-700",children:[J.jsxs("div",{children:[J.jsx("span",{className:"text-xs text-gray-400",children:"Bearing"}),J.jsx("div",{className:"font-medium",children:g(o)})]}),J.jsxs("div",{children:[J.jsx("span",{className:"text-xs text-gray-400",children:"Last update"}),J.jsx("div",{className:"font-medium text-xs",children:c??""})]})]}),J.jsx("div",{className:"mt-3 text-xs text-gray-500",children:J.jsxs("div",{children:["Target (hard-coded): ",_g[0].toFixed(5),", ",_g[1].toFixed(5)]})})]})})}function EU(){const[n,t]=Q.useState(null);return Q.useEffect(()=>{const e=lf(gf,"/GPS");PL(e).then(s=>{s.exists()&&t(s.val())}).catch(()=>{});const i=uf(e,s=>{s.exists()&&t(s.val())});return()=>i()},[]),J.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[J.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[J.jsxs("header",{className:"flex items-center justify-between mb-6",children:[J.jsxs("div",{children:[J.jsx("h1",{className:"text-3xl font-montserrat font-semibold text-indigo-800",children:"Military Surveillance Dashboard"}),J.jsx("p",{className:"text-sm text-gray-600 font-poppins",children:"Live ToF + GPS tracking from Firebase Realtime Database"})]}),J.jsx(tU,{})]}),J.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[J.jsxs("div",{className:"space-y-6",children:[J.jsxs("div",{children:[J.jsx("h2",{className:"text-lg font-semibold font-montserrat mb-2",children:"GPS Live Tracking"}),J.jsx(SU,{gps:n})]}),J.jsxs("div",{className:"p-6 bg-white rounded-2xl shadow-soft-lg",children:[J.jsx("h2",{className:"text-lg font-semibold mb-4 font-montserrat",children:"GPS Info"}),J.jsx(bU,{meta:n})]})]}),J.jsxs("div",{className:"space-y-6",children:[J.jsx(Jj,{warnThreshold:80,dangerThreshold:120}),J.jsxs("div",{className:"p-6 bg-white rounded-2xl shadow-soft-lg",children:[J.jsx("h2",{className:"text-lg font-semibold mb-2 font-montserrat",children:"Controls & Info"}),J.jsxs("ul",{className:"text-sm text-gray-700 space-y-2 font-poppins",children:[J.jsx("li",{children:" Live updates via Firebase Realtime Database"}),J.jsx("li",{children:" Interactive chart with transitions"}),J.jsx("li",{children:" CSV export + Browser notifications"}),J.jsx("li",{children:" Live GPS + Satellite / Terrain Map"})]})]})]})]})]}),J.jsx(kU,{})]})}delete nv.Icon.Default.prototype._getIconUrl;nv.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});kI.createRoot(document.getElementById("root")).render(J.jsx(Kd.StrictMode,{children:J.jsx(EU,{})}));
